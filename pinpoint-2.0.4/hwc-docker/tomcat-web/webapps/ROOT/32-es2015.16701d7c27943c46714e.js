(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{oLEV:function(e,t,n){"use strict";n.r(t);var l=n("8Y7J");class i{}var o=n("pMnS"),a=n("EGXd"),u=n("S5y4"),s=n("huS9"),r=n("SVse"),c=n("lJxs"),d=n("ZF+8"),p=n("TwVa");class h{constructor(e,t,n,i){this.urlRouteManagerService=e,this.newUrlStateNotificationService=t,this.el=n,this.renderer=i,this.outClose=new l.EventEmitter,this.outCreated=new l.EventEmitter,this.outSearchId=new l.EventEmitter,this.searchUseEnter=!0}ngOnInit(){this.isAppSelected$=this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(c.a)(e=>e.hasValue(p.b.APPLICATION))),this.coord&&(this.posX=this.coord.coordX-20+this.el.nativeElement.offsetWidth<=window.innerWidth?this.coord.coordX-20:window.innerWidth-this.el.nativeElement.offsetWidth)}ngAfterViewInit(){this.coord&&(this.renderer.setStyle(this.el.nativeElement,"position","absolute"),this.renderer.setStyle(this.el.nativeElement.querySelector(".l-search-input"),"border-top",0),this.outCreated.emit({coordX:this.posX,coordY:this.coord.coordY+9+7}))}calculateTooltipCaretLeft(e){const{coordX:t}=this.coord;return`${t-this.posX-e.offsetWidth/2}px`}onSearchId(e){if(""===e)return;const t=e.split("^");if(3!==t.length)return;const n=t[0];this.urlRouteManagerService.openPage({path:[p.a.TRANSACTION_DETAIL,e,"0",n,"-1"]})}onInputChange(){this.outClose.emit()}onClickOutside(){this.outClose.emit()}}var g=n("D5ZC"),m=n("nUCp"),b=[["[_nghost-%COMP%]{display:block;width:170px;height:32px;position:relative}.l-wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.l-search-input[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #d7dde4;padding:0 28px 0 10px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;background-color:#fff}.l-search-input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 1px 1px var(--primary-color);outline:0}.l-search-button[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#a8acb5;font-size:18px}.l-tooltip-caret[_ngcontent-%COMP%]{width:0;height:0;position:absolute;bottom:100%;border-bottom:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent}"]],f=l["\u0275crt"]({encapsulation:0,styles:b,data:{}});function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,[["tooltipCaret",1]],null,0,"div",[["class","l-tooltip-caret"]],[[4,"left",null]],null,null,null,null))],null,(function(e,t){e(t,1,0,t.component.calculateTooltipCaretLeft(l["\u0275nov"](t,1)))}))}function S(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","l-wrapper"]],null,[[null,"clickOutside"]],(function(e,t,n){var l=!0,i=e.component;"clickOutside"===t&&(l=!1!==i.onClickOutside()&&l);return l}),null,null)),l["\u0275did"](2,737280,null,0,u.ClickOutsideDirective,[l.ElementRef,l.NgZone,l.PLATFORM_ID],{exclude:[0,"exclude"]},{clickOutside:"clickOutside"}),(e()(),l["\u0275eld"](3,0,[["searchInput",1]],null,1,"input",[["class","l-search-input"],["placeholder","search pTxId"],["ppSearchInput",""],["type","text"]],null,[[null,"outSearch"],[null,"keydown"],[null,"keyup"]],(function(e,t,n){var i=!0,o=e.component;"keydown"===t&&(i=!1!==l["\u0275nov"](e,4).onKeyDown(n)&&i);"keyup"===t&&(i=!1!==l["\u0275nov"](e,4).onKeyUp(n)&&i);"outSearch"===t&&(i=!1!==o.onSearchId(n)&&i);return i}),null,null)),l["\u0275did"](4,737280,null,0,s.a,[l.ElementRef],{useEnter:[0,"useEnter"]},{outSearch:"outSearch"}),(e()(),l["\u0275eld"](5,0,null,null,0,"button",[["class","l-search-button fas fa-search"]],null,[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;"click"===t&&(i=!1!==o.onSearchId(l["\u0275nov"](e,3).value.trim())&&i);return i}),null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,".l-concised-search-button"),e(t,4,0,n.searchUseEnter),e(t,7,0,n.coord)}),null)}function C(e){return l["\u0275vid"](2,[(e()(),l["\u0275and"](16777216,null,null,2,null,S)),l["\u0275did"](1,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef])],(function(e,t){var n=t.component;e(t,1,0,l["\u0275unv"](t,1,0,l["\u0275nov"](t,2).transform(n.isAppSelected$)))}),null)}var O=l["\u0275ccf"]("pp-transaction-id-search-container",h,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-transaction-id-search-container",[],null,null,null,C,f)),l["\u0275did"](1,4308992,null,0,h,[g.a,m.a,l.ElementRef,l.Renderer2],null,null)],(function(e,t){e(t,1,0)}),null)}),{coord:"coord"},{outClose:"outClose",outCreated:"outCreated",outSearchId:"outSearchId"},[]),w=n("XWnP"),y=n("exIq"),x=n("FVN4"),P=n("2lf1"),T=n("qaS5"),R=n("pwZw"),A=n("3WZk"),M=n("C6IX"),_=n("LFJv"),k=n("OwZn");class E{constructor(){this.maxChartNumberPerPage=1,this.chartOption={canvasLeftPadding:0,canvasTopPadding:0,canvasRightPadding:0,canvasBottomPadding:0,chartInnerPadding:15,containerWidth:277,containerHeight:144,chartWidth:159,chartHeight:114,titleHeight:34,gapBtnChart:0,chartColors:["#33b692","#51afdf","#fea63e","#e76f4b"],chartLabels:["1s","3s","5s","Slow"],ellipsis:"...",drawHGridLine:!1,drawVGridLine:!0,showXAxis:!0,showXAxisLabel:!1,showYAxis:!0,showYAxisLabel:!0,yAxisLabelWidth:8,marginFromYAxis:5,marginFromLegend:10,tooltipEnabled:!0,titleFontSize:"13px",errorFontSize:"15px",duration:4e3}}ngOnInit(){const{chartInnerPadding:e,titleHeight:t}=this.chartOption;this.legendStyle={right:`${e}px`,top:`${t+e-5}px`}}ngOnChanges(e){const t=e.sum;t&&(this.totalCount=t.currentValue.reduce((e,t)=>e+t,0))}}var I=[["[_nghost-%COMP%]{display:block;position:relative;width:100%;height:100%}.l-legend[_ngcontent-%COMP%]{position:absolute;list-style:none;font-size:11px;width:62px}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0 0;color:#666}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin:0;color:#010101;font-weight:600}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .l-text[_ngcontent-%COMP%]{width:30px;text-align:right;margin:0 10px 0 0}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .l-circle[_ngcontent-%COMP%]{width:21px;height:11px;line-height:11px;color:#fff;border-radius:10px;text-align:center;overflow:hidden;text-overflow:ellipsis}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1)   .l-circle[_ngcontent-%COMP%]{background:#a8acb5}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2)   .l-circle[_ngcontent-%COMP%]{background:#e76f4b}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3)   .l-circle[_ngcontent-%COMP%]{background:#fea63e}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4)   .l-circle[_ngcontent-%COMP%]{background:#51afdf}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5)   .l-circle[_ngcontent-%COMP%]{background:#33b692}"]],N=l["\u0275crt"]({encapsulation:0,styles:I,data:{}});function D(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-real-time-chart",[],null,null,null,_.b,_.a)),l["\u0275did"](1,4964352,null,0,k.a,[l.ElementRef,l.NgZone,l.Renderer2],{timezone:[0,"timezone"],dateFormat:[1,"dateFormat"],timeStamp:[2,"timeStamp"],activeRequestCounts:[3,"activeRequestCounts"],maxChartNumberPerPage:[4,"maxChartNumberPerPage"],sum:[5,"sum"],chartOption:[6,"chartOption"]},null),(e()(),l["\u0275eld"](2,0,null,null,27,"ul",[["class","l-legend"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgStyleImpl"],r["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](4,278528,null,0,r.NgStyle,[r["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275eld"](5,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Total"])),(e()(),l["\u0275eld"](8,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](9,null,["",""])),(e()(),l["\u0275eld"](10,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Slow"])),(e()(),l["\u0275eld"](13,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](14,null,["",""])),(e()(),l["\u0275eld"](15,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["5s"])),(e()(),l["\u0275eld"](18,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](19,null,["",""])),(e()(),l["\u0275eld"](20,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](21,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["3s"])),(e()(),l["\u0275eld"](23,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](24,null,["",""])),(e()(),l["\u0275eld"](25,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](26,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["1s"])),(e()(),l["\u0275eld"](28,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](29,null,["",""]))],(function(e,t){var n=t.component;e(t,1,0,n.timezone,n.dateFormat,n.timeStamp,n.activeRequestCounts,n.maxChartNumberPerPage,n.sum,n.chartOption),e(t,4,0,n.legendStyle)}),(function(e,t){var n=t.component;e(t,9,0,n.totalCount),e(t,14,0,n.sum[3]),e(t,19,0,n.sum[2]),e(t,24,0,n.sum[1]),e(t,29,0,n.sum[0])}))}l["\u0275ccf"]("pp-real-time-total-chart",E,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-real-time-total-chart",[],null,null,null,D,N)),l["\u0275did"](1,638976,null,0,E,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{timezone:"timezone",dateFormat:"dateFormat",applicationName:"applicationName",timeStamp:"timeStamp",sum:"sum",activeRequestCounts:"activeRequestCounts"},{},[]);var L=n("dElo"),j=n("WnXL"),V=n("yjCR"),U=n("tLPc");class F{constructor(e,t,n,l){this.elementRef=e,this.renderer=t,this.webAppSettingDataService=n,this.windowRefService=l,this.dragging=!1,this.resizeElement=this.elementRef.nativeElement.parentElement,this.maxHeight=this.windowRefService.nativeWindow.innerHeight,this.windowRefService.nativeWindow.addEventListener("mouseup",this.onWindowMouseUp.bind(this)),this.windowRefService.nativeWindow.addEventListener("mousemove",this.onWindowMouseMove.bind(this))}ngOnInit(){this.maxHeight=this.windowRefService.nativeWindow.innerHeight-this.maxHeightPadding}ngOnDestroy(){this.windowRefService.nativeWindow.removeEventListener("mouseup",this.onWindowMouseUp),this.windowRefService.nativeWindow.removeEventListener("mousemove",this.onWindowMouseMove)}onWindowMouseUp(e){this.dragging=!1}onWindowMouseMove(e){this.dragging&&this.resizeOn(-e.movementY)}onMouseDown(e){this.dragging=!0}onMouseMove(e){this.dragging&&this.resizeOn(-e.movementY)}onMouseUp(){this.dragging=!1}resizeOn(e){if(0!==e){const t=(Number.parseInt(this.resizeElement.style.height,10)||this.minHeight)+e;t>=this.minHeight&&t<=this.maxHeight&&(this.webAppSettingDataService.setLayerHeight(t),this.renderer.setStyle(this.resizeElement,"height",t+"px"))}}}var W=n("W33f"),H=n("OsX8"),z=n("XNiG"),K=n("xgIS"),B=n("1G5W"),X=n("pLZG"),Y=n("vkgz"),$=n("3E0/"),G=n("qWpi"),q=n("Xf8D"),Q=n("aY87");class Z{constructor(e,t,n,l,i,o,a,u,s,r,c){this.newUrlStateNotificationService=e,this.urlRouteManagerService=t,this.storeHelperService=n,this.webAppSettingDataService=l,this.realTimeWebSocketService=i,this.analyticsService=o,this.dynamicPopupService=a,this.messageQueueService=u,this.componentFactoryResolver=s,this.injector=r,this.cd=c,this.unsubscribe=new z.b,this.serviceType="",this.activeOnly=!1,this.isPinUp=!0,this.minHeight=343,this.maxHeightPadding=50,this.applicationName="",this.hiddenComponent=!0,this.messageTemplate="LOADING"}ngOnInit(){this.lastHeight=this.webAppSettingDataService.getLayerHeight()||this.minHeight,this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(B.a)(this.unsubscribe)).subscribe(()=>{this.resetState(),this.messageTemplate="LOADING",this.cd.markForCheck()}),this.listenToEmitter(),this.realTimeWebSocketService.onMessage$.pipe(Object(B.a)(this.unsubscribe)).subscribe(e=>{switch(e.type){case"open":this.onOpen();break;case"close":this.onClose();break;case"retry":this.onRetry();break;case"message":this.onMessage(e.message)}})}ngAfterViewInit(){this.addEventListener()}ngOnDestroy(){this.realTimeWebSocketService.close(),this.unsubscribe.next(),this.unsubscribe.complete()}listenToEmitter(){this.timezone$=this.storeHelperService.getTimezone(this.unsubscribe),this.dateFormat$=this.storeHelperService.getDateFormat(this.unsubscribe,0),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_DATA_UPDATE).pipe(Object(X.a)(e=>0===e.getNodeCount())).subscribe(()=>{this.hiddenComponent=!0,this.cd.markForCheck()}),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).pipe(Object(Y.a)(()=>this.hiddenComponent=!1),Object(X.a)(()=>!(this.isPinUp&&""!==this.applicationName))).subscribe(e=>{const[t,n]=e.node[0].split("^");e.isWAS?this.isSameWithCurrentTarget(t,n)||(this.applicationName=t,this.serviceType=n,this.realTimeWebSocketService.isOpened()?this.startDataRequest():this.realTimeWebSocketService.connect()):(this.applicationName=t,this.serviceType=n,this.realTimeWebSocketService.close(),this.stopDataRequest(),this.hide()),this.cd.markForCheck()})}addEventListener(){const e=Object(K.a)(document,"visibilitychange").pipe(Object(B.a)(this.unsubscribe));e.pipe(Object(X.a)(()=>!document.hidden),Object(X.a)(()=>!this.realTimeWebSocketService.isOpened())).subscribe(()=>{this.onRetry()}),e.pipe(Object(X.a)(()=>document.hidden),Object($.a)(1e4),Object(X.a)(()=>document.hidden)).subscribe(()=>{this.realTimeWebSocketService.close()})}resetState(){this.applicationName="",this.serviceType="",this.activeRequestCounts=null,this.isPinUp=!0}hide(){this.messageTemplate="NO_DATA"}isSameWithCurrentTarget(e,t){return this.applicationName===e&&this.serviceType===t}startDataRequest(){this.realTimeWebSocketService.send(this.getRequestDataStr(this.applicationName))}stopDataRequest(){this.realTimeWebSocketService.send(this.getRequestDataStr(""))}getRequestDataStr(e){return{type:"REQUEST",command:"activeThreadCount",parameters:{applicationName:e}}}onOpen(){this.startDataRequest()}onClose(){this.messageTemplate="RETRY",this.activeRequestCounts=null,this.cd.markForCheck()}onRetry(){this.onRetryConnection(),this.cd.markForCheck()}onMessage(e){const{timeStamp:t,applicationName:n,activeThreadCounts:l}=e;n&&n!==this.applicationName||(this.timeStamp=t,this.arcForAgent=this.activeOnly?Object(Q.c)(Object(Q.a)(this.activeRequestCounts,l)):Object(Q.a)(this.activeRequestCounts,l),this.arcForTotal=Object(Q.b)(n,l),this.sum=this.arcForTotal[Object.keys(this.arcForTotal)[0]].status,this.totalCount=Object.keys(this.arcForAgent).length,this.activeRequestCounts=l,this.cd.markForCheck())}onRetryConnection(){this.messageTemplate="LOADING",this.realTimeWebSocketService.connect()}onPinUp(){this.analyticsService.trackEvent(this.isPinUp?d.e.PIN_UP_REAL_TIME_CHART:d.e.REMOVE_PIN_ON_REAL_TIME_CHART),this.isPinUp=!this.isPinUp}onOpenPage(e){this.urlRouteManagerService.openPage({path:[p.a.REAL_TIME,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),""+e],queryParam:{activeOnly:this.activeOnly}})}onChangeActiveOnlyToggle(e){this.activeOnly=e}onOpenThreadDump(e){this.analyticsService.trackEvent(d.e.OPEN_THREAD_DUMP),this.urlRouteManagerService.openPage({path:[p.a.THREAD_DUMP,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),e,""+Date.now()]})}onShowHelp(e){this.analyticsService.trackEvent(d.e.TOGGLE_HELP_VIEWER,q.a.REAL_TIME);const{left:t,top:n,width:l,height:i}=e.target.getBoundingClientRect();this.dynamicPopupService.openPopup({data:q.a.REAL_TIME,coord:{coordX:t+l/2,coordY:n+i/2},component:q.b},{resolver:this.componentFactoryResolver,injector:this.injector})}onRenderCompleted(){this.messageTemplate="NOTHING"}}var J=n("OPvN"),ee=n("/yY+"),te=n("9BJz"),ne=n("kKeB"),le=[["[_nghost-%COMP%]{display:block;z-index:30}.l-thread-chart-wrap[_ngcontent-%COMP%]{background:#d3dbe6;border-top:1px solid #ccd5e0;position:absolute;bottom:0;left:0;width:100%}.l-title-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;color:#566370;font-size:14px;font-weight:600;height:34px;padding:0 10px 0 25px;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;border-bottom:1px solid #bdc7d5;cursor:ns-resize;background:#f6f8fb}.l-title-group[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:18px;color:#a8acb5;cursor:pointer}.l-title-group[_ngcontent-%COMP%]   .l-title[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin:0 9px 0 0}.l-title[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.l-title-group[_ngcontent-%COMP%]   .l-tool-box[_ngcontent-%COMP%]{color:#8f9caf}.l-tool-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.l-pin-up[_ngcontent-%COMP%]{color:red!important}.l-chart-group-wrap[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;padding:5px 10px 5px 5px;height:calc(100% - 34px)}.l-total-chart[_ngcontent-%COMP%]{width:277px;height:178px;margin-right:5px}.l-agent-chart[_ngcontent-%COMP%]{width:calc(100% - 282px);height:100%;outline:0}.l-message[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:absolute;text-align:center;background-color:rgba(226,226,226,.5);z-index:9999}.l-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:80px 0 10px;font-weight:100}.l-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px 40px 6px;background-color:#fff}.l-retry[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:6px}.l-message.l-no-data[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#000;color:#fff}.fa-chart-area[_ngcontent-%COMP%]{margin-right:2px}"]],ie=l["\u0275crt"]({encapsulation:0,styles:le,data:{}});function oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,4,"article",[["class","l-total-chart"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,3,"pp-real-time-total-chart",[],null,null,null,D,N)),l["\u0275did"](3,638976,null,0,E,[],{timezone:[0,"timezone"],dateFormat:[1,"dateFormat"],timeStamp:[2,"timeStamp"],sum:[3,"sum"],activeRequestCounts:[4,"activeRequestCounts"]},null),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](6,0,null,null,4,"article",[["class","l-agent-chart"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,1,"pp-real-time-chart-header",[],null,[[null,"outOpenPage"],[null,"outChangeActiveOnlyToggle"]],(function(e,t,n){var l=!0,i=e.component;"outOpenPage"===t&&(l=!1!==i.onOpenPage(n)&&l);"outChangeActiveOnlyToggle"===t&&(l=!1!==i.onChangeActiveOnlyToggle(n)&&l);return l}),L.b,L.a)),l["\u0275did"](8,114688,null,0,j.a,[],{totalCount:[0,"totalCount"]},{outOpenPage:"outOpenPage",outChangeActiveOnlyToggle:"outChangeActiveOnlyToggle"}),(e()(),l["\u0275eld"](9,0,null,null,1,"pp-real-time-agent-chart",[],null,[[null,"outOpenThreadDump"],[null,"outRenderCompleted"]],(function(e,t,n){var l=!0,i=e.component;"outOpenThreadDump"===t&&(l=!1!==i.onOpenThreadDump(n)&&l);"outRenderCompleted"===t&&(l=!1!==i.onRenderCompleted()&&l);return l}),V.b,V.a)),l["\u0275did"](10,4308992,null,0,U.a,[],{timeStamp:[0,"timeStamp"],activeRequestCounts:[1,"activeRequestCounts"],sum:[2,"sum"]},{outOpenThreadDump:"outOpenThreadDump",outRenderCompleted:"outRenderCompleted"})],(function(e,t){var n=t.component;e(t,3,0,l["\u0275unv"](t,3,0,l["\u0275nov"](t,4).transform(n.timezone$)),l["\u0275unv"](t,3,1,l["\u0275nov"](t,5).transform(n.dateFormat$)),n.timeStamp,n.sum,n.arcForTotal),e(t,8,0,n.totalCount),e(t,10,0,n.timeStamp,n.arcForAgent,n.sum)}),null)}function ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","l-message l-waiting"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Waiting Connection..."])),(e()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","fas fa-spinner fa-spin fa-2x fa-fw"]],null,null,null,null,null))],null,null)}function ue(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","l-message l-retry"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Closed connection"])),(e()(),l["\u0275eld"](4,0,null,null,3,"button",[["class","pinpoint-btn"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onRetryConnection()&&l);return l}),null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-redo"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Retry"]))],null,null)}function se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","l-message l-no-data"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["This node is not WAS"]))],null,null)}function re(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ce(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","l-thread-chart-wrap"]],[[4,"height","px"],[8,"hidden",0]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","l-title-group font-opensans"],["ppResizeTop",""]],null,[[null,"mousedown"],[null,"mousemove"],[null,"mouseup"]],(function(e,t,n){var i=!0;"mousedown"===t&&(i=!1!==l["\u0275nov"](e,2).onMouseDown(n)&&i);"mousemove"===t&&(i=!1!==l["\u0275nov"](e,2).onMouseMove(n)&&i);"mouseup"===t&&(i=!1!==l["\u0275nov"](e,2).onMouseUp()&&i);return i}),null,null)),l["\u0275did"](2,212992,null,0,F,[l.ElementRef,l.Renderer2,W.a,H.a],{minHeight:[0,"minHeight"],maxHeightPadding:[1,"maxHeightPadding"]},null),(e()(),l["\u0275eld"](3,0,null,null,2,"div",[["class","l-title"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,0,"span",[["class","fas fa-chart-area"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Active Request "])),(e()(),l["\u0275eld"](6,0,null,null,2,"div",[["class","l-tool-box"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,0,"button",[["class","fas fa-thumbtack"]],[[2,"l-pin-up",null]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onPinUp()&&l);return l}),null,null)),(e()(),l["\u0275eld"](8,0,null,null,0,"button",[["class","fas fa-question-circle"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onShowHelp(n)&&l);return l}),null,null)),(e()(),l["\u0275eld"](9,0,null,null,12,"div",[["class","l-chart-group-wrap font-opensans"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,oe)),l["\u0275did"](11,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](12,0,null,null,9,null,null,null,null,null,null,null)),l["\u0275did"](13,16384,null,0,r.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ae)),l["\u0275did"](15,278528,null,0,r.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ue)),l["\u0275did"](17,278528,null,0,r.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,se)),l["\u0275did"](19,278528,null,0,r.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,re)),l["\u0275did"](21,16384,null,0,r.NgSwitchDefault,[l.ViewContainerRef,l.TemplateRef,r.NgSwitch],null,null)],(function(e,t){var n=t.component;e(t,2,0,n.minHeight,n.maxHeightPadding),e(t,11,0,n.activeRequestCounts),e(t,13,0,n.messageTemplate);e(t,15,0,"LOADING");e(t,17,0,"RETRY");e(t,19,0,"NO_DATA")}),(function(e,t){var n=t.component;e(t,0,0,n.lastHeight,n.hiddenComponent),e(t,7,0,n.isPinUp)}))}l["\u0275ccf"]("pp-real-time-container",Z,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-real-time-container",[],null,null,null,ce,ie)),l["\u0275did"](1,4440064,null,0,Z,[m.a,g.a,J.a,W.a,G.a,ee.a,te.a,ne.b,l.ComponentFactoryResolver,l.Injector,l.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);var de=n("hIJE"),pe=n("YsHj"),he=n("qQV/"),ge=n("Yx30"),me=n("wegP"),be=n("i1BI"),fe=n("Ea0K"),ve=n("hNim"),Se=n("erdE"),Ce=n("hiii"),Oe=n("O/DK"),we=n("dryN"),ye=n("zw4y"),xe=n("R4Tc"),Pe=n("7fKh"),Te=n("cp0P"),Re=n("LRne"),Ae=n("sKXY"),Me=n("R0vR"),_e=n("xvpG");class ke{constructor(e,t,n,l,i,o,a,u,s,r,c,d,p){this.storeHelperService=e,this.translateService=t,this.webAppSettingDataService=n,this.newUrlStateNotificationService=l,this.urlRouteManagerService=i,this.scatterChartDataService=o,this.scatterChartInteractionService=a,this.analyticsService=u,this.dynamicPopupService=s,this.componentFactoryResolver=r,this.injector=c,this.messageQueueService=d,this.cd=p,this.unsubscribe=new z.b,this._hideSettingPopup=!0,this.wrapperClassName="",this.instanceKey="side-bar",this.addWindow=!0,this.currentRange={from:0,to:0},this.width=460,this.height=230,this.showBlockMessagePopup=!1,this.shouldHide=!0}ngOnInit(){this.setScatterY(),Object(Te.a)(this.translateService.get("COMMON.NO_DATA"),this.translateService.get("COMMON.FAILED_TO_FETCH_DATA"),this.translateService.get("COMMON.POPUP_BLOCK_MESSAGE")).subscribe(e=>{this.i18nText={NO_DATA:e[0],FAILED_TO_FETCH_DATA:e[1],POPUP_BLOCK_MESSAGE:e[2]}}),this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(B.a)(this.unsubscribe),Object(X.a)(e=>e.hasValue(p.b.APPLICATION))).subscribe(e=>{this.scatterChartDataService.stopLoad(),this.scatterChartMode=e.isRealTimeMode()?_e.a.MODE.REALTIME:_e.a.MODE.STATIC,this.application=e.getPathValue(p.b.APPLICATION).getKeyStr(),this.selectedAgent="",this.currentRange.from=this.fromX=e.getStartTimeToNumber(),this.currentRange.to=this.toX=e.getEndTimeToNumber(),this.cd.detectChanges()}),this.scatterChartDataService.outScatterData$.pipe(Object(B.a)(this.unsubscribe)).subscribe(e=>{e.complete||this.scatterChartDataService.loadData(this.selectedApplication.split("^")[0],this.fromX,e.resultFrom-1,this.getGroupUnitX(),this.getGroupUnitY(),!1),this.scatterChartInteractionService.addChartData(this.instanceKey,e),this.cd.detectChanges()}),this.scatterChartDataService.outRealTimeScatterData$.pipe(Object(B.a)(this.unsubscribe)).subscribe(e=>{e.reset?(this.fromX=e.currentServerTime-this.webAppSettingDataService.getSystemDefaultPeriod().getMiliSeconds(),this.toX=e.currentServerTime,this.scatterChartInteractionService.reset(this.instanceKey,this.selectedApplication,this.selectedAgent,this.fromX,this.toX,this.scatterChartMode),Object(Re.a)(1).pipe(Object($.a)(1e3)).subscribe(e=>{this.getScatterData()})):this.scatterChartInteractionService.addChartData(this.instanceKey,e),this.cd.detectChanges()}),this.scatterChartDataService.outScatterErrorData$.pipe(Object(B.a)(this.unsubscribe)).subscribe(e=>{this.scatterChartInteractionService.setError(e),this.cd.detectChanges()}),this.scatterChartDataService.outRealTimeScatterErrorData$.pipe(Object(B.a)(this.unsubscribe)).subscribe(e=>{}),this.connectStore(),this.addEventListener()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}addEventListener(){const e=Object(K.a)(document,"visibilitychange").pipe(Object(B.a)(this.unsubscribe),Object(X.a)(()=>this.scatterChartMode===_e.a.MODE.REALTIME));e.pipe(Object(X.a)(()=>!document.hidden),Object(X.a)(()=>!this.scatterChartDataService.isConnected())).subscribe(()=>{this.getScatterData()}),e.pipe(Object(X.a)(()=>document.hidden),Object($.a)(1e4),Object(X.a)(()=>document.hidden)).subscribe(()=>{this.scatterChartDataService.stopLoad()})}setScatterY(){const{min:e,max:t}=this.webAppSettingDataService.getScatterY(this.instanceKey);this.fromY=e,this.toY=t}connectStore(){this.storeHelperService.getTimezone(this.unsubscribe).subscribe(e=>{this.timezone=e,this.cd.detectChanges()}),this.storeHelperService.getDateFormatArray(this.unsubscribe,4,5).subscribe(e=>{this.dateFormat=e,this.cd.detectChanges()}),this.storeHelperService.getAgentSelection(this.unsubscribe).pipe(Object(X.a)(e=>this.selectedAgent!==e)).subscribe(e=>{this.selectedAgent=e,this.scatterChartInteractionService.changeAgent(this.instanceKey,e),this.cd.detectChanges()}),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).subscribe(e=>{this.selectedTarget=e,this.shouldHide=!(this.selectedTarget.isNode&&this.selectedTarget.isWAS&&!this.selectedTarget.isMerged),this.shouldHide||(this.selectedAgent="",this.selectedApplication=this.selectedTarget.node[0],this.scatterChartInteractionService.reset(this.instanceKey,this.selectedApplication,this.selectedAgent,this.fromX,this.toX,this.scatterChartMode),this.getScatterData()),this.cd.detectChanges()})}set hideSettingPopup(e){this._hideSettingPopup=e,this.wrapperClassName=e?"":"l-popup-on"}get hideSettingPopup(){return this._hideSettingPopup}getScatterData(){this.scatterChartDataService.loadData(this.selectedApplication.split("^")[0],this.fromX,this.toX,this.getGroupUnitX(),this.getGroupUnitY()),this.scatterChartMode===_e.a.MODE.REALTIME&&this.scatterChartDataService.loadRealTimeDataV2(this.toX)}getGroupUnitX(){return Math.round((this.toX-this.fromX)/this.width)}getGroupUnitY(){return Math.round((this.toY-this.fromY)/this.height)}onApplySetting(e){this.fromY=e.min,this.toY=e.max,this.scatterChartInteractionService.changeYRange({instanceKey:this.instanceKey,from:e.min,to:e.max}),this.hideSettingPopup=!0,this.webAppSettingDataService.setScatterY(this.instanceKey,{min:e.min,max:e.max})}onCancelSetting(){this.hideSettingPopup=!0}onShowSetting(){this.analyticsService.trackEvent(d.e.CLICK_SCATTER_SETTING),this.hideSettingPopup=!1}onDownload(){this.analyticsService.trackEvent(d.e.DOWNLOAD_SCATTER),this.scatterChartInteractionService.downloadChart(this.instanceKey)}onOpenScatterPage(){this.analyticsService.trackEvent(d.e.GO_TO_FULL_SCREEN_SCATTER),this.scatterChartMode===_e.a.MODE.STATIC?this.urlRouteManagerService.openPage({path:[p.a.SCATTER_FULL_SCREEN_MODE,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime(),this.selectedAgent]}):this.urlRouteManagerService.openPage({path:[p.a.SCATTER_FULL_SCREEN_MODE,p.b.REAL_TIME,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.selectedAgent]})}onShowHelp(e){this.analyticsService.trackEvent(d.e.TOGGLE_HELP_VIEWER,q.a.SCATTER);const{left:t,top:n,width:l,height:i}=e.target.getBoundingClientRect();this.dynamicPopupService.openPopup({data:q.a.SCATTER,coord:{coordX:t+l/2,coordY:n+i/2},component:q.b},{resolver:this.componentFactoryResolver,injector:this.injector})}onChangedSelectType(e){this.analyticsService.trackEvent(d.e.CHANGE_SCATTER_CHART_STATE,`${e.name}: ${e.checked?"on":"off"}`),this.scatterChartInteractionService.changeViewType(e)}onChangeTransactionCount(e){this.typeCount=e}onChangeRangeX(e){this.currentRange.from=e.from,this.currentRange.to=e.to,this.messageQueueService.sendMessage({to:d.b.REAL_TIME_SCATTER_CHART_X_RANGE,param:e})}onSelectArea(e){let t;this.analyticsService.trackEvent(d.e.OPEN_TRANSACTION_LIST),null==(t=this.newUrlStateNotificationService.isRealTimeMode()?this.urlRouteManagerService.openPage({path:[p.a.TRANSACTION_LIST,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.webAppSettingDataService.getSystemDefaultPeriod().getValueWithTime(),Ae.b.newByNumber(this.currentRange.to).getEndTime()],metaInfo:`${this.selectedApplication}|${e.x.from}|${e.x.to}|${e.y.from}|${e.y.to}|${this.selectedAgent}|${e.type.join(",")}`}):this.urlRouteManagerService.openPage({path:[p.a.TRANSACTION_LIST,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime()],metaInfo:`${this.selectedApplication}|${e.x.from}|${e.x.to}|${e.y.from}|${e.y.to}|${this.selectedAgent}|${e.type.join(",")}`}))&&(this.showBlockMessagePopup=!0)}onCloseBlockMessage(){this.showBlockMessagePopup=!1}}var Ee=n("TSSN"),Ie=[["[_nghost-%COMP%]{position:relative}.l-chart-item[_ngcontent-%COMP%]{margin:15px 0;height:285px;position:relative;border-top:none}.l-chart-item.l-popup-on[_ngcontent-%COMP%]:before{display:block;z-index:490;position:absolute;content:'';width:100%;height:100%;background:#fff;opacity:.8}.l-popup-block-message[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;display:-webkit-box;display:flex;z-index:1000;position:absolute;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.l-popup-block-message[_ngcontent-%COMP%] > .l-button[_ngcontent-%COMP%]{width:80%;cursor:pointer;display:-webkit-box;display:flex;font-size:18px;font-weight:600;-webkit-box-pack:end;justify-content:flex-end;margin:0 10px -22px 0;z-index:1001}.l-popup-block-message[_ngcontent-%COMP%] > .l-message[_ngcontent-%COMP%]{width:80%;height:100px;display:-webkit-box;display:flex;font-weight:600;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;box-shadow:8px 8px 5px -5px rgba(148,148,148,1);background-color:rgba(235,71,71,.3)}"]],Ne=l["\u0275crt"]({encapsulation:0,styles:Ie,data:{}});function De(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","l-popup-block-message"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","l-button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onCloseBlockMessage()&&l);return l}),null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-times-circle"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"div",[["class","l-message"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,3,0,t.component.i18nText.POPUP_BLOCK_MESSAGE)}))}function Le(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,13,"article",[["class","l-chart-item"]],[[8,"hidden",0]],null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l["\u0275eld"](3,0,null,null,1,"pp-scatter-chart-setting-popup",[],[[8,"hidden",0]],[[null,"outApply"],[null,"outCancel"]],(function(e,t,n){var l=!0,i=e.component;"outApply"===t&&(l=!1!==i.onApplySetting(n)&&l);"outCancel"===t&&(l=!1!==i.onCancelSetting()&&l);return l}),fe.b,fe.a)),l["\u0275did"](4,114688,null,0,ve.a,[],{instanceKey:[0,"instanceKey"],min:[1,"min"],max:[2,"max"]},{outApply:"outApply",outCancel:"outCancel"}),(e()(),l["\u0275eld"](5,0,null,null,2,"pp-scatter-chart-options",[],null,[[null,"outShowSetting"],[null,"outDownload"],[null,"outOpenScatterPage"],[null,"outShowHelp"]],(function(e,t,n){var l=!0,i=e.component;"outShowSetting"===t&&(l=!1!==i.onShowSetting()&&l);"outDownload"===t&&(l=!1!==i.onDownload()&&l);"outOpenScatterPage"===t&&(l=!1!==i.onOpenScatterPage()&&l);"outShowHelp"===t&&(l=!1!==i.onShowHelp(n)&&l);return l}),Se.b,Se.a)),l["\u0275did"](6,114688,null,0,Ce.a,[],{instanceKey:[0,"instanceKey"],hiddenOptions:[1,"hiddenOptions"]},{outShowSetting:"outShowSetting",outDownload:"outDownload",outOpenScatterPage:"outOpenScatterPage",outShowHelp:"outShowHelp"}),l["\u0275pod"](7,{setting:0,download:1,open:2,help:3}),(e()(),l["\u0275eld"](8,0,null,null,1,"pp-scatter-chart",[["style","height: 215px"]],null,[[null,"outTransactionCount"],[null,"outSelectArea"],[null,"outChangeRangeX"]],(function(e,t,n){var l=!0,i=e.component;"outTransactionCount"===t&&(l=!1!==i.onChangeTransactionCount(n)&&l);"outSelectArea"===t&&(l=!1!==i.onSelectArea(n)&&l);"outChangeRangeX"===t&&(l=!1!==i.onChangeRangeX(n)&&l);return l}),Oe.b,Oe.a)),l["\u0275did"](9,770048,null,0,we.a,[H.a,ye.a],{instanceKey:[0,"instanceKey"],addWindow:[1,"addWindow"],width:[2,"width"],height:[3,"height"],fromX:[4,"fromX"],toX:[5,"toX"],fromY:[6,"fromY"],toY:[7,"toY"],mode:[8,"mode"],application:[9,"application"],agent:[10,"agent"],i18nText:[11,"i18nText"],timezone:[12,"timezone"],dateFormat:[13,"dateFormat"]},{outTransactionCount:"outTransactionCount",outSelectArea:"outSelectArea",outChangeRangeX:"outChangeRangeX"}),(e()(),l["\u0275eld"](10,0,null,null,1,"pp-scatter-chart-state-view",[],null,[[null,"outChanged"]],(function(e,t,n){var l=!0,i=e.component;"outChanged"===t&&(l=!1!==i.onChangedSelectType(n)&&l);return l}),xe.b,xe.a)),l["\u0275did"](11,638976,null,0,Pe.a,[],{instanceKey:[0,"instanceKey"],transactionTypeCount:[1,"transactionTypeCount"]},{outChanged:"outChanged"}),(e()(),l["\u0275and"](16777216,null,null,1,null,De)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"l-chart-item",n.wrapperClassName),e(t,4,0,n.instanceKey,n.fromY,n.toY);var l=n.instanceKey,i=e(t,7,0,!1,!1,!1,!1);e(t,6,0,l,i),e(t,9,1,[n.instanceKey,n.addWindow,n.width,n.height,n.fromX,n.toX,n.fromY,n.toY,n.scatterChartMode,n.application,n.selectedAgent,n.i18nText,n.timezone,n.dateFormat]),e(t,11,0,n.instanceKey,n.typeCount),e(t,13,0,n.showBlockMessagePopup)}),(function(e,t){var n=t.component;e(t,0,0,n.shouldHide),e(t,3,0,n.hideSettingPopup)}))}l["\u0275ccf"]("pp-scatter-chart-container",ke,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-scatter-chart-container",[],null,null,null,Le,Ne)),l["\u0275did"](1,245760,null,0,ke,[J.a,Ee.i,W.a,m.a,g.a,Me.a,ye.a,ee.a,te.a,l.ComponentFactoryResolver,l.Injector,ne.b,l.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);var je=n("47/7"),Ve=n("wZXa"),Ue=n("+ln2"),Fe=n("3bEf"),We=n("QtZs"),He=n("nEve"),ze=n("5sje"),Ke=n("jtbc"),Be=n("m1aq");class Xe{constructor(e,t,n,l,i,o,a,u,s,r,c,d,p){this.storeHelperService=e,this.translateService=t,this.webAppSettingDataService=n,this.newUrlStateNotificationService=l,this.urlRouteManagerService=i,this.scatterChartDataService=o,this.scatterChartInteractionService=a,this.analyticsService=u,this.dynamicPopupService=s,this.componentFactoryResolver=r,this.injector=c,this.messageQueueService=d,this.cd=p,this.unsubscribe=new z.b,this._hideSettingPopup=!0,this.wrapperClassName="",this.instanceKey="info-per-server",this.addWindow=!1,this.width=460,this.height=230,this.showBlockMessagePopup=!1}ngOnInit(){this.setScatterY(),Object(Te.a)(this.translateService.get("COMMON.NO_DATA"),this.translateService.get("COMMON.FAILED_TO_FETCH_DATA"),this.translateService.get("COMMON.POPUP_BLOCK_MESSAGE")).subscribe(e=>{this.i18nText={NO_DATA:e[0],FAILED_TO_FETCH_DATA:e[1],POPUP_BLOCK_MESSAGE:e[2]}}),this.connectStore(),this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(B.a)(this.unsubscribe),Object(X.a)(e=>e.hasValue(p.b.APPLICATION))).subscribe(e=>{this.scatterChartMode=e.isRealTimeMode()?_e.a.MODE.REALTIME:_e.a.MODE.STATIC,this.application=e.getPathValue(p.b.APPLICATION).getKeyStr(),this.selectedAgent="",this.fromX=e.getStartTimeToNumber(),this.toX=e.getEndTimeToNumber(),this.cd.detectChanges()})}ngAfterViewInit(){this.storeHelperService.getInfoPerServerState(this.unsubscribe).subscribe(e=>{})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}setScatterY(){const{min:e,max:t}=this.webAppSettingDataService.getScatterY(this.instanceKey);this.fromY=e,this.toY=t}connectStore(){this.storeHelperService.getTimezone(this.unsubscribe).subscribe(e=>{this.timezone=e,this.cd.detectChanges()}),this.storeHelperService.getDateFormatArray(this.unsubscribe,4,5).subscribe(e=>{this.dateFormat=e,this.cd.detectChanges()}),this.storeHelperService.getAgentSelectionForServerList(this.unsubscribe).pipe(Object(X.a)(e=>!!e)).subscribe(({agent:e})=>{this.selectedAgent=e,this.scatterChartInteractionService.changeAgent(this.instanceKey,e),this.cd.detectChanges()}),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).subscribe(e=>{this.isChangedTarget=!0,this.selectedTarget=e,this.selectedAgent="",this.selectedApplication=this.selectedTarget.node[0],this.scatterChartInteractionService.reset(this.instanceKey,this.selectedApplication,this.selectedAgent,this.fromX,this.toX,this.scatterChartMode),this.scatterChartDataService.getSavedData().pipe(Object(B.a)(this.unsubscribe)).subscribe(e=>{this.scatterChartInteractionService.addChartData(this.instanceKey,e)}),this.cd.detectChanges()})}set hideSettingPopup(e){this._hideSettingPopup=e,this.wrapperClassName=e?"":"l-popup-on"}get hideSettingPopup(){return this._hideSettingPopup}onApplySetting(e){this.fromY=e.min,this.toY=e.max,this.scatterChartInteractionService.changeYRange({instanceKey:this.instanceKey,from:e.min,to:e.max}),this.hideSettingPopup=!0,this.webAppSettingDataService.setScatterY(this.instanceKey,{min:e.min,max:e.max})}onCancelSetting(){this.hideSettingPopup=!0}onShowSetting(){this.analyticsService.trackEvent(d.e.CLICK_SCATTER_SETTING),this.hideSettingPopup=!1}onDownload(){this.analyticsService.trackEvent(d.e.DOWNLOAD_SCATTER),this.scatterChartInteractionService.downloadChart(this.instanceKey)}onOpenScatterPage(){this.analyticsService.trackEvent(d.e.GO_TO_FULL_SCREEN_SCATTER),this.urlRouteManagerService.openPage({path:[p.a.SCATTER_FULL_SCREEN_MODE,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime(),this.selectedAgent]})}onShowHelp(e){this.analyticsService.trackEvent(d.e.TOGGLE_HELP_VIEWER,q.a.SCATTER);const{left:t,top:n,width:l,height:i}=e.target.getBoundingClientRect();this.dynamicPopupService.openPopup({data:q.a.SCATTER,coord:{coordX:t+l/2,coordY:n+i/2},component:q.b},{resolver:this.componentFactoryResolver,injector:this.injector})}onChangedSelectType(e){this.analyticsService.trackEvent(d.e.CHANGE_SCATTER_CHART_STATE,`${e.name}: ${e.checked?"on":"off"}`),this.scatterChartInteractionService.changeViewType(e)}onChangeTransactionCount(e){this.typeCount=e}onChangeRangeX(e){this.messageQueueService.sendMessage({to:d.b.REAL_TIME_SCATTER_CHART_X_RANGE,param:e})}onSelectArea(e){this.analyticsService.trackEvent(d.e.OPEN_TRANSACTION_LIST);const t=this.urlRouteManagerService.openPage({path:[p.a.TRANSACTION_LIST,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime()],metaInfo:`${this.selectedApplication}|${e.x.from}|${e.x.to}|${e.y.from}|${e.y.to}|${this.selectedAgent}|${e.type.join(",")}`});null==t&&(this.showBlockMessagePopup=!0)}onCloseBlockMessage(){this.showBlockMessagePopup=!1}}var Ye=[["[_nghost-%COMP%]{position:relative}.l-chart-item[_ngcontent-%COMP%]{margin:15px 0;height:285px;position:relative;border-top:none}.l-chart-item.l-popup-on[_ngcontent-%COMP%]:before{display:block;z-index:490;position:absolute;content:'';width:100%;height:100%;background:#fff;opacity:.8}.l-popup-block-message[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;display:-webkit-box;display:flex;z-index:1000;position:absolute;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.l-popup-block-message[_ngcontent-%COMP%] > .l-button[_ngcontent-%COMP%]{width:80%;cursor:pointer;display:-webkit-box;display:flex;font-size:18px;font-weight:600;-webkit-box-pack:end;justify-content:flex-end;margin:0 10px -22px 0;z-index:1001}.l-popup-block-message[_ngcontent-%COMP%] > .l-message[_ngcontent-%COMP%]{width:80%;height:100px;display:-webkit-box;display:flex;font-weight:600;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;box-shadow:8px 8px 5px -5px rgba(148,148,148,1);background-color:rgba(235,71,71,.3)}"]],$e=l["\u0275crt"]({encapsulation:0,styles:Ye,data:{}});function Ge(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","l-popup-block-message"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","l-button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onCloseBlockMessage()&&l);return l}),null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-times-circle"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"div",[["class","l-message"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,3,0,t.component.i18nText.POPUP_BLOCK_MESSAGE)}))}function qe(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,13,"article",[["class","l-chart-item"]],null,null,null,null,null)),l["\u0275prd"](512,null,r["\u0275NgClassImpl"],r["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,r.NgClass,[r["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l["\u0275eld"](3,0,null,null,1,"pp-scatter-chart-setting-popup",[],[[8,"hidden",0]],[[null,"outApply"],[null,"outCancel"]],(function(e,t,n){var l=!0,i=e.component;"outApply"===t&&(l=!1!==i.onApplySetting(n)&&l);"outCancel"===t&&(l=!1!==i.onCancelSetting()&&l);return l}),fe.b,fe.a)),l["\u0275did"](4,114688,null,0,ve.a,[],{instanceKey:[0,"instanceKey"],min:[1,"min"],max:[2,"max"]},{outApply:"outApply",outCancel:"outCancel"}),(e()(),l["\u0275eld"](5,0,null,null,2,"pp-scatter-chart-options",[],null,[[null,"outShowSetting"],[null,"outDownload"],[null,"outOpenScatterPage"],[null,"outShowHelp"]],(function(e,t,n){var l=!0,i=e.component;"outShowSetting"===t&&(l=!1!==i.onShowSetting()&&l);"outDownload"===t&&(l=!1!==i.onDownload()&&l);"outOpenScatterPage"===t&&(l=!1!==i.onOpenScatterPage()&&l);"outShowHelp"===t&&(l=!1!==i.onShowHelp(n)&&l);return l}),Se.b,Se.a)),l["\u0275did"](6,114688,null,0,Ce.a,[],{instanceKey:[0,"instanceKey"],hiddenOptions:[1,"hiddenOptions"]},{outShowSetting:"outShowSetting",outDownload:"outDownload",outOpenScatterPage:"outOpenScatterPage",outShowHelp:"outShowHelp"}),l["\u0275pod"](7,{setting:0,download:1,open:2,help:3}),(e()(),l["\u0275eld"](8,0,null,null,1,"pp-scatter-chart",[["style","height: 215px"]],null,[[null,"outTransactionCount"],[null,"outSelectArea"],[null,"outChangeRangeX"]],(function(e,t,n){var l=!0,i=e.component;"outTransactionCount"===t&&(l=!1!==i.onChangeTransactionCount(n)&&l);"outSelectArea"===t&&(l=!1!==i.onSelectArea(n)&&l);"outChangeRangeX"===t&&(l=!1!==i.onChangeRangeX(n)&&l);return l}),Oe.b,Oe.a)),l["\u0275did"](9,770048,null,0,we.a,[H.a,ye.a],{instanceKey:[0,"instanceKey"],addWindow:[1,"addWindow"],width:[2,"width"],height:[3,"height"],fromX:[4,"fromX"],toX:[5,"toX"],fromY:[6,"fromY"],toY:[7,"toY"],mode:[8,"mode"],application:[9,"application"],agent:[10,"agent"],i18nText:[11,"i18nText"],timezone:[12,"timezone"],dateFormat:[13,"dateFormat"]},{outTransactionCount:"outTransactionCount",outSelectArea:"outSelectArea",outChangeRangeX:"outChangeRangeX"}),(e()(),l["\u0275eld"](10,0,null,null,1,"pp-scatter-chart-state-view",[],null,[[null,"outChanged"]],(function(e,t,n){var l=!0,i=e.component;"outChanged"===t&&(l=!1!==i.onChangedSelectType(n)&&l);return l}),xe.b,xe.a)),l["\u0275did"](11,638976,null,0,Pe.a,[],{instanceKey:[0,"instanceKey"],transactionTypeCount:[1,"transactionTypeCount"]},{outChanged:"outChanged"}),(e()(),l["\u0275and"](16777216,null,null,1,null,Ge)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"l-chart-item",n.wrapperClassName),e(t,4,0,n.instanceKey,n.fromY,n.toY);var l=n.instanceKey,i=e(t,7,0,!1,!1,!1,!0);e(t,6,0,l,i),e(t,9,1,[n.instanceKey,n.addWindow,n.width,n.height,n.fromX,n.toX,n.fromY,n.toY,n.scatterChartMode,n.application,n.selectedAgent,n.i18nText,n.timezone,n.dateFormat]),e(t,11,0,n.instanceKey,n.typeCount),e(t,13,0,n.showBlockMessagePopup)}),(function(e,t){e(t,3,0,t.component.hideSettingPopup)}))}l["\u0275ccf"]("pp-scatter-chart-for-info-per-server-container",Xe,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-scatter-chart-for-info-per-server-container",[],null,null,null,qe,$e)),l["\u0275did"](1,4440064,null,0,Xe,[J.a,Ee.i,W.a,m.a,g.a,Me.a,ye.a,ee.a,te.a,l.ComponentFactoryResolver,l.Injector,ne.b,l.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);var Qe=n("eIep"),Ze=n("oIO+"),Je=n("Ej/u");class et{constructor(e,t,n,l,i,o,a,u,s,r){this.storeHelperService=e,this.newUrlStateNotificationService=t,this.urlRouteManagerService=n,this.agentHistogramDataService=l,this.dynamicPopupService=i,this.analyticsService=o,this.componentFactoryResolver=a,this.messageQueueService=u,this.injector=s,this.cd=r,this.unsubscribe=new z.b,this.listAnimationTrigger="start",this.chartAnimationTrigger="start"}ngOnInit(){this.listenToEmitter()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}listenToEmitter(){this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_DATA_UPDATE).subscribe(e=>{this.serverMapData=e}),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).subscribe(e=>{this.selectedTarget=e,this.selectedAgent="",this.cd.detectChanges()}),this.storeHelperService.getInfoPerServerState(this.unsubscribe).pipe(Object(X.a)(()=>this.selectedTarget&&this.selectedTarget.isNode),Object(X.a)(e=>!!e||(this.hide(),this.cd.detectChanges(),!1)),Object(c.a)(()=>this.serverMapData.getNodeData(this.selectedTarget.node[0])),Object(Qe.a)(e=>{const t=[this.newUrlStateNotificationService.getStartTimeToNumber(),this.newUrlStateNotificationService.getEndTimeToNumber()];return this.agentHistogramDataService.getData(e.key,e.applicationName,e.serviceTypeCode,this.serverMapData,t).pipe(Object(Y.a)((t={})=>{this.agentHistogramData=Object.assign({isWas:e.isWas},t),this.onSelectAgent(this.selectedAgent?this.selectedAgent:this.getFirstAgent())}))})).subscribe(()=>{this.show(),this.cd.detectChanges()},e=>{this.dynamicPopupService.openPopup({data:{title:"Error",contents:e},component:Je.a},{resolver:this.componentFactoryResolver,injector:this.injector}),this.messageQueueService.sendMessage({to:d.b.SERVER_MAP_DISABLE,param:!1}),this.cd.detectChanges()})}hide(){this.listAnimationTrigger="start",this.chartAnimationTrigger="start"}show(){this.listAnimationTrigger="end",this.chartAnimationTrigger="end"}getFirstAgent(){const e=Object.keys(this.agentHistogramData.serverList).sort()[0];return Object.keys(this.agentHistogramData.serverList[e].instanceList).sort()[0]}onSelectAgent(e){this.analyticsService.trackEvent(d.e.SELECT_AGENT),this.storeHelperService.dispatch(new Ze.a.ChangeAgentForServerList({agent:e,responseSummary:this.agentHistogramData.agentHistogram[e],load:this.agentHistogramData.agentTimeSeriesHistogram[e]})),this.selectedAgent=e}onOpenInspector(e){this.analyticsService.trackEvent(d.e.OPEN_INSPECTOR_WITH_AGENT),this.urlRouteManagerService.openInspectorPage(!1,e)}}var tt=[["[_nghost-%COMP%]{z-index:9}.l-sidemenu2[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:477px;border-left:1px solid #e5e8f0;background:#fff;height:100%;overflow-x:hidden;overflow-y:hidden}.l-title-group2[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;color:#666;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding:0 25px;background:0 0;border:none;height:50px}.l-selected-agent[_ngcontent-%COMP%]{color:#666;font-size:13px;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.l-selected-agent[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:11px;font-weight:600;display:inline-block;background:var(--primary-color);margin:0 12px 0 0;padding:6px 11px;line-height:1em;position:relative}.l-selected-agent[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:'';position:absolute;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:3px solid var(--primary-color);right:-3px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.l-contents-group[_ngcontent-%COMP%]{height:calc(100vh - 50px);padding:51px 0 16px;overflow-y:auto;overflow-x:hidden}.l-chart-group-list[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;height:calc(100vh - 150px)}.l-sidemenu3[_ngcontent-%COMP%]{top:0;left:0;width:348px;background:#f8f9fb;border:none;border-left:1px solid #e5e8f0;position:absolute;height:100%;overflow-y:hidden;overflow-x:hidden}.l-title-group3[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:center;align-items:center;height:64px;padding:0 25px;margin-bottom:37px;position:relative}.l-title-group3[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:14px;width:30px;height:30px;border-radius:50%;background:var(--primary-color);color:#fff;-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin:0 7px 0 0}.l-title-group3[_ngcontent-%COMP%]   .l-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#666}.l-sidemenu3[_ngcontent-%COMP%]   .l-contents-group[_ngcontent-%COMP%]{height:calc(100vh - 150px);padding-top:0}.sidemenu[_ngcontent-%COMP%]{top:0;left:-477px}.title-group2[_ngcontent-%COMP%]{background-color:#f9fafc;border-bottom:1px solid #eaeef4}hr[_ngcontent-%COMP%]{height:1px;border-top:1px solid #eaeef4;margin:5px 0}"]],nt=l["\u0275crt"]({encapsulation:0,styles:tt,data:{animation:[{type:7,name:"listAnimationTrigger",definitions:[{type:0,name:"start",styles:{type:6,styles:{left:"0px"},offset:null},options:void 0},{type:0,name:"end",styles:{type:6,styles:{left:"-825px"},offset:null},options:void 0},{type:1,expr:"* => *",animation:[{type:4,styles:null,timings:"0.2s 0s ease-out"}],options:null}],options:{}},{type:7,name:"chartAnimationTrigger",definitions:[{type:0,name:"start",styles:{type:6,styles:{left:"0px"},offset:null},options:void 0},{type:0,name:"end",styles:{type:6,styles:{left:"-477px"},offset:null},options:void 0},{type:1,expr:"* => *",animation:[{type:4,styles:null,timings:"0.2s 0s ease-out"}],options:null}],options:{}}]}});function lt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"pp-server-list-container",[],null,[[null,"outSelectAgent"],[null,"outOpenInspector"]],(function(e,t,n){var l=!0,i=e.component;"outSelectAgent"===t&&(l=!1!==i.onSelectAgent(n)&&l);"outOpenInspector"===t&&(l=!1!==i.onOpenInspector(n)&&l);return l}),Ke.b,Ke.a)),l["\u0275did"](2,114688,null,0,Be.a,[W.a],{data:[0,"data"],selectedAgent:[1,"selectedAgent"]},{outSelectAgent:"outSelectAgent",outOpenInspector:"outOpenInspector"})],(function(e,t){var n=t.component;e(t,2,0,n.agentHistogramData,n.selectedAgent)}),null)}function it(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","l-sidemenu2"]],[[24,"@chartAnimationTrigger",0]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","l-title-group2"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","l-selected-agent"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Selected Agent"])),(e()(),l["\u0275eld"](5,0,null,null,1,"span",[],[[1,"title",0]],null,null,null,null)),(e()(),l["\u0275ted"](6,null,["",""])),(e()(),l["\u0275eld"](7,0,null,null,9,"div",[["class","l-contents-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,8,"div",[["class","l-chart-group-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"pp-scatter-chart-for-info-per-server-container",[],[[8,"hidden",0]],null,null,qe,$e)),l["\u0275did"](10,4440064,null,0,Xe,[J.a,Ee.i,W.a,m.a,g.a,Me.a,ye.a,ee.a,te.a,l.ComponentFactoryResolver,l.Injector,ne.b,l.ChangeDetectorRef],null,null),(e()(),l["\u0275eld"](11,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,1,"pp-response-summary-chart-container",[],null,null,null,Ue.b,Ue.a)),l["\u0275did"](13,245760,null,0,Fe.a,[J.a,ne.b,We.a,m.a,Ee.i,W.a,ee.a,te.a,l.Injector,l.ComponentFactoryResolver,l.ChangeDetectorRef],{sourceType:[0,"sourceType"]},null),(e()(),l["\u0275eld"](14,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](15,0,null,null,1,"pp-load-chart-container",[],null,null,null,He.b,He.a)),l["\u0275did"](16,245760,null,0,ze.a,[l.Injector,Ee.i,W.a,ee.a,te.a,l.ComponentFactoryResolver,J.a,ne.b,We.a,m.a,l.ChangeDetectorRef],{sourceType:[0,"sourceType"]},null),(e()(),l["\u0275eld"](17,0,null,null,7,"div",[["class","l-sidemenu3"]],[[24,"@listAnimationTrigger",0]],null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,3,"div",[["class","l-title-group3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,0,"span",[["class","fas fa-file-alt"]],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,1,"span",[["class","l-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Servers List"])),(e()(),l["\u0275eld"](22,0,null,null,2,"div",[["class","l-contents-group"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,lt)),l["\u0275did"](24,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,10,0);e(t,13,0,"INFO_PER_SERVER");e(t,16,0,"INFO_PER_SERVER"),e(t,24,0,n.agentHistogramData)}),(function(e,t){var n=t.component;e(t,0,0,n.chartAnimationTrigger),e(t,5,0,n.selectedAgent),e(t,6,0,n.selectedAgent),e(t,9,0,!(null!=n.selectedTarget&&n.selectedTarget.isWAS)),e(t,17,0,n.listAnimationTrigger)}))}l["\u0275ccf"]("pp-info-per-server-container",et,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-info-per-server-container",[],null,null,null,it,nt)),l["\u0275did"](1,245760,null,0,et,[J.a,m.a,g.a,We.a,te.a,ee.a,l.ComponentFactoryResolver,ne.b,l.Injector,l.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);var ot=n("lreY"),at=n("fqV1"),ut=n("iInd"),st=n("VRyK"),rt=n("CqXF");class ct{constructor(e,t,n,l,i){this.router=e,this.messageQueueService=t,this.el=n,this.renderer=l,this.cd=i,this.unsubscribe=new z.b,this.useDisable=!0,this.showLoading=!0,this.showDivider=!1,this.sidebarVisibility="hidden"}ngOnInit(){this.addPageLoadingHandler(),this.connectStore()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}addPageLoadingHandler(){this.router.events.pipe(Object(B.a)(this.unsubscribe),Object(X.a)(e=>e instanceof ut.e)).subscribe(()=>{this.showLoading=!0,this.useDisable=!0,this.cd.detectChanges()})}connectStore(){this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_DATA_UPDATE).pipe(Object(c.a)(e=>0===e.getNodeCount())).subscribe(e=>{this.renderer.setStyle(this.el.nativeElement,"display",e?"none":"block")}),this.isTargetMerged$=Object(st.a)(this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT_BY_LIST).pipe(Object(rt.a)(!1)),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).pipe(Object(Y.a)(({isNode:e,isWAS:t,isMerged:n})=>{this.showLoading=!1,this.useDisable=!1,this.showDivider=e&&t&&!n,this.sidebarVisibility="visible"}),Object(c.a)(({isMerged:e})=>e)))}}var dt=[["[_nghost-%COMP%]{position:relative;width:477px}.l-sidemenu-wrap[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column nowrap;height:100%;overflow-x:hidden}.l-sidemenu[_ngcontent-%COMP%]{width:100%;height:100%;z-index:10;border-left:1px solid #e5e8f0;background-color:#fff}.l-title-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;color:#666;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding:0 12px;background:#f9fafc;height:50px;border-bottom:1px solid #e5e8f0}.l-contents-group[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 99px)}.l-chart-group-list[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;height:calc(100vh - 150px)}hr[_ngcontent-%COMP%]{height:1px;border-top:1px solid #eaeef4;margin:5px 0}"]],pt=l["\u0275crt"]({encapsulation:0,styles:dt,data:{}});function ht(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function gt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-film-for-disable",[],null,null,null,de.b,de.a)),l["\u0275did"](1,114688,null,0,pe.a,[l.ElementRef,l.Renderer2],{zIndex:[0,"zIndex"],marginWidth:[1,"marginWidth"]},null)],(function(e,t){e(t,1,0,100,0)}),null)}function mt(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,23,"section",[["class","l-sidemenu-wrap font-opensans"]],[[4,"visibility",null]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,20,"div",[["class","l-sidemenu"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","l-title-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"pp-side-bar-title-container",[],[[2,"flex-container",null],[2,"flex-row",null]],null,null,he.b,he.a)),l["\u0275did"](4,245760,null,0,ge.a,[J.a,W.a,ee.a,ne.b,l.ChangeDetectorRef],null,null),(e()(),l["\u0275eld"](5,0,null,null,16,"div",[["class","l-contents-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"pp-server-status-container",[],null,null,null,me.b,me.a)),l["\u0275did"](7,245760,null,0,be.a,[J.a,m.a,g.a,ee.a,l.ChangeDetectorRef,ne.b],null,null),(e()(),l["\u0275eld"](8,0,null,null,13,"div",[["class","l-chart-group-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"pp-scatter-chart-container",[],null,null,null,Le,Ne)),l["\u0275did"](10,245760,null,0,ke,[J.a,Ee.i,W.a,m.a,g.a,Me.a,ye.a,ee.a,te.a,l.ComponentFactoryResolver,l.Injector,ne.b,l.ChangeDetectorRef],null,null),(e()(),l["\u0275eld"](11,0,null,null,1,"pp-target-list-container",[],null,null,null,je.b,je.a)),l["\u0275did"](12,245760,null,0,Ve.a,[l.Injector,l.ComponentFactoryResolver,Ee.i,ee.a,g.a,m.a,te.a,ne.b,l.ChangeDetectorRef],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,ht)),l["\u0275did"](14,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](15,0,null,null,6,"div",[],[[8,"hidden",0]],null,null,null,null)),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](17,0,null,null,1,"pp-response-summary-chart-container",[],null,null,null,Ue.b,Ue.a)),l["\u0275did"](18,245760,null,0,Fe.a,[J.a,ne.b,We.a,m.a,Ee.i,W.a,ee.a,te.a,l.Injector,l.ComponentFactoryResolver,l.ChangeDetectorRef],{sourceType:[0,"sourceType"]},null),(e()(),l["\u0275eld"](19,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,1,"pp-load-chart-container",[],null,null,null,He.b,He.a)),l["\u0275did"](21,245760,null,0,ze.a,[l.Injector,Ee.i,W.a,ee.a,te.a,l.ComponentFactoryResolver,J.a,ne.b,We.a,m.a,l.ChangeDetectorRef],{sourceType:[0,"sourceType"]},null),(e()(),l["\u0275eld"](22,0,null,null,1,"pp-info-per-server-container",[],null,null,null,it,nt)),l["\u0275did"](23,245760,null,0,et,[J.a,m.a,g.a,We.a,te.a,ee.a,l.ComponentFactoryResolver,ne.b,l.Injector,l.ChangeDetectorRef],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,gt)),l["\u0275did"](25,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](26,0,null,null,1,"pp-loading",[],null,null,null,ot.b,ot.a)),l["\u0275did"](27,114688,null,0,at.a,[l.ElementRef,l.Renderer2],{showLoading:[0,"showLoading"],zIndex:[1,"zIndex"]},null)],(function(e,t){var n=t.component;e(t,4,0),e(t,7,0),e(t,10,0),e(t,12,0),e(t,14,0,n.showDivider);e(t,18,0,"MAIN");e(t,21,0,"MAIN"),e(t,23,0),e(t,25,0,n.useDisable);e(t,27,0,n.showLoading,101)}),(function(e,t){var n=t.component;e(t,0,0,n.sidebarVisibility),e(t,3,0,l["\u0275nov"](t,4).flexContainerClass,l["\u0275nov"](t,4).flexRowClass),e(t,15,0,l["\u0275unv"](t,15,0,l["\u0275nov"](t,16).transform(n.isTargetMerged$)))}))}l["\u0275ccf"]("pp-side-bar-container",ct,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-side-bar-container",[],null,null,null,mt,pt)),l["\u0275did"](1,245760,null,0,ct,[ut.m,ne.b,l.ElementRef,l.Renderer2,l.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);var bt=n("m1dV"),ft=n("QJdi"),vt=n("7rHv"),St=n("w1KT"),Ct=n("xcNo"),Ot=n("rgvr"),wt=n("vHCP"),yt=n("z/t1");class xt{constructor(){this.outSelected=new l.EventEmitter,this.hideList=!0}ngOnInit(){}ngOnChanges(e){e.selectedBidirectional&&(this.prevBidirectional=this.selectedBidirectional=e.selectedBidirectional.currentValue),e.selectedWasOnly&&(this.prevWasOnly=this.selectedWasOnly=e.selectedWasOnly.currentValue),e.selectedInbound&&(this.prevSelectedInbound=this.selectedInbound=e.selectedInbound.currentValue),e.selectedOutbound&&(this.prevSelectedOutbound=this.selectedOutbound=e.selectedOutbound.currentValue)}close(){this.hideList=!0}get bidirectionalImgSrc(){return this.funcImagePath(`bidirect_${this.selectedBidirectional?"on":"off"}`)}onChangeWasOnly(){this.selectedWasOnly=!this.selectedWasOnly}onChangeBidirectional(){this.selectedBidirectional=!this.selectedBidirectional}onSelectInbound(e){this.selectedInbound=e}onSelectOutbound(e){this.selectedOutbound=e}onApply(){this.selectedInbound===this.prevSelectedInbound&&this.selectedOutbound===this.prevSelectedOutbound&&this.selectedWasOnly===this.prevWasOnly&&this.selectedBidirectional===this.prevBidirectional||this.outSelected.emit({inbound:this.selectedInbound,outbound:this.selectedOutbound,wasOnly:this.selectedWasOnly,bidirectional:this.selectedBidirectional}),this.close()}onCancel(){this.selectedWasOnly=this.prevWasOnly,this.selectedBidirectional=this.prevBidirectional,this.selectedInbound=this.prevSelectedInbound,this.selectedOutbound=this.prevSelectedOutbound,this.close()}toggleList(){this.hideList=!this.hideList}onClose(){this.onCancel()}}var Pt=[["[_nghost-%COMP%]{display:block;position:relative;width:180px}.fa-sign-in-alt[_ngcontent-%COMP%], .fa-sign-out-alt[_ngcontent-%COMP%]{color:#33b692}button[_ngcontent-%COMP%]{outline:0}.l-dropdown-button[_ngcontent-%COMP%]{width:100%;height:32px;border:1px solid var(--dark-primary-color);padding:4px 0;display:-webkit-box;display:flex;font-size:13px;text-align:left;-webkit-box-align:center;align-items:center;background-color:#fff}.l-dropdown-button[_ngcontent-%COMP%]   .fa-angle-down[_ngcontent-%COMP%]{font-size:15px;display:inline-block;margin-left:16px;color:#33b692}.l-bound-text[_ngcontent-%COMP%]{display:inline-block;font-size:14px;margin-left:11px;color:#333}.l-bound-double-text[_ngcontent-%COMP%]{color:#ddd;font-size:8px;text-align:center;font-weight:600}.l-bound-double-text.selected[_ngcontent-%COMP%]{color:var(--primary-color)}.l-dropdown-menu-wrapper[_ngcontent-%COMP%]{position:absolute;top:32px;left:0;z-index:9999;display:-webkit-box;display:flex;flex-wrap:wrap;border:1px solid var(--dark-primary-color);background-color:#fff;width:180px}.l-inbound-list[_ngcontent-%COMP%]{border-right:1px solid #e5e8f0}.l-inbound-list[_ngcontent-%COMP%], .l-outbound-list[_ngcontent-%COMP%]{width:50%;text-align:center}.l-bound-list-item[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:13px;padding:5px 10px;cursor:pointer}.l-bound-title[_ngcontent-%COMP%]{padding:5px 10px;color:#333;background-color:#edf2f8;font-weight:600!important;font-size:12px;border-bottom:1px solid #e5e8f0}.l-bidirectional-title[_ngcontent-%COMP%]{letter-spacing:-.5px}.l-bound-list-item.active[_ngcontent-%COMP%], .l-bound-list-item[_ngcontent-%COMP%]:hover{color:var(--primary-color);background-color:#edf2f8}.l-bidirectional-selector[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color);margin:10px;cursor:pointer}.l-was-only-selector[_ngcontent-%COMP%]{text-align:center;color:#ddd;margin:12px 10px 10px;font-size:20px;cursor:pointer}.l-was-only-selector[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:var(--primary-color)}.l-button-group-wrapper[_ngcontent-%COMP%]{width:100%;border-top:1px solid #e5e8f0;padding:2px;text-align:right}.l-apply-button[_ngcontent-%COMP%]{font-size:12px!important;background-color:var(--primary-color);margin-left:2px;color:#fff}.l-cancel-button[_ngcontent-%COMP%]{font-size:12px!important}"]],Tt=l["\u0275crt"]({encapsulation:0,styles:Pt,data:{}});function Rt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"dd",[["class","l-bound-list-item"]],[[2,"active",null]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onSelectInbound(e.context.$implicit)&&l);return l}),null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.selectedInbound===t.context.$implicit),e(t,1,0,t.context.$implicit)}))}function At(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"dd",[["class","l-bound-list-item"]],[[2,"active",null]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onSelectOutbound(e.context.$implicit)&&l);return l}),null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.selectedOutbound===t.context.$implicit),e(t,1,0,t.context.$implicit)}))}function Mt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,42,"div",[["class","l-wrapper"]],null,[[null,"clickOutside"]],(function(e,t,n){var l=!0,i=e.component;"clickOutside"===t&&(l=!1!==i.onClose()&&l);return l}),null,null)),l["\u0275did"](1,737280,null,0,u.ClickOutsideDirective,[l.ElementRef,l.NgZone,l.PLATFORM_ID],null,{clickOutside:"clickOutside"}),(e()(),l["\u0275eld"](2,0,null,null,14,"button",[["class","l-dropdown-button"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.toggleList()&&l);return l}),null,null)),(e()(),l["\u0275eld"](3,0,null,null,3,"span",[["class","l-bound-text l-bound-double-text"]],[[2,"selected",null]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["WAS"])),(e()(),l["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["ONLY"])),(e()(),l["\u0275eld"](7,0,null,null,1,"span",[["class","l-bound-text"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,0,"img",[["height","18px"],["width","18px"]],[[8,"src",4]],null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,7,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,2,"span",[["class","l-bound-text"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,0,"span",[["class","fas fa-sign-in-alt"]],null,null,null,null,null)),(e()(),l["\u0275ted"](12,null,[" ",""])),(e()(),l["\u0275eld"](13,0,null,null,2,"span",[["class","l-bound-text"]],null,null,null,null,null)),(e()(),l["\u0275eld"](14,0,null,null,0,"span",[["class","fas fa-sign-out-alt"]],null,null,null,null,null)),(e()(),l["\u0275ted"](15,null,[" ",""])),(e()(),l["\u0275eld"](16,0,null,null,0,"span",[["class","fas fa-angle-down"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,25,"div",[["class","l-dropdown-menu-wrapper"]],[[8,"hidden",0]],null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,4,"dl",[["class","l-inbound-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,1,"dt",[["class","l-bound-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Inbound"])),(e()(),l["\u0275and"](16777216,null,null,1,null,Rt)),l["\u0275did"](22,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](23,0,null,null,4,"dl",[["class","l-outbound-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](24,0,null,null,1,"dt",[["class","l-bound-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Outbound"])),(e()(),l["\u0275and"](16777216,null,null,1,null,At)),l["\u0275did"](27,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](28,0,null,null,4,"dl",[["class","l-inbound-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](29,0,null,null,1,"dt",[["class","l-bound-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["WAS ONLY"])),(e()(),l["\u0275eld"](31,0,null,null,1,"dd",[["class","l-was-only-selector"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onChangeWasOnly()&&l);return l}),null,null)),(e()(),l["\u0275eld"](32,0,null,null,0,"i",[["class","fas fa-check-square"]],[[2,"selected",null]],null,null,null,null)),(e()(),l["\u0275eld"](33,0,null,null,4,"dl",[["class","l-outbound-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](34,0,null,null,1,"dt",[["class","l-bound-title l-bidirectional-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Bidirectional"])),(e()(),l["\u0275eld"](36,0,null,null,1,"dd",[["class","l-bidirectional-selector"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onChangeBidirectional()&&l);return l}),null,null)),(e()(),l["\u0275eld"](37,0,null,null,0,"img",[["height","22px"],["width","22px"]],[[8,"src",4]],null,null,null,null)),(e()(),l["\u0275eld"](38,0,null,null,4,"div",[["class","l-button-group-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](39,0,null,null,1,"button",[["class","btn l-cancel-button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onCancel()&&l);return l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Cancel"])),(e()(),l["\u0275eld"](41,0,null,null,1,"button",[["class","btn l-apply-button"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onApply()&&l);return l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Apply"]))],(function(e,t){var n=t.component;e(t,1,0),e(t,22,0,n.inboundList),e(t,27,0,n.outboundList)}),(function(e,t){var n=t.component;e(t,3,0,n.selectedWasOnly),e(t,8,0,n.bidirectionalImgSrc),e(t,12,0,n.selectedInbound),e(t,15,0,n.selectedOutbound),e(t,17,0,n.hideList),e(t,32,0,n.selectedWasOnly),e(t,37,0,n.bidirectionalImgSrc)}))}l["\u0275ccf"]("pp-server-map-options",xt,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-server-map-options",[],null,null,null,Mt,Tt)),l["\u0275did"](1,638976,null,0,xt,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{funcImagePath:"funcImagePath",selectedWasOnly:"selectedWasOnly",selectedBidirectional:"selectedBidirectional",selectedInbound:"selectedInbound",selectedOutbound:"selectedOutbound",inboundList:"inboundList",outboundList:"outboundList"},{outSelected:"outSelected"},[]);class _t{constructor(e,t,n,l,i){this.cd=e,this.webAppSettingDataService=t,this.newUrlStateNotificationService=n,this.urlRouteManagerService=l,this.analyticsService=i,this.unsubscribe=new z.b}ngOnInit(){this.funcImagePath=this.webAppSettingDataService.getImagePathMakeFunc(),this.inboundList=this.webAppSettingDataService.getInboundList(),this.outboundList=this.webAppSettingDataService.getOutboundList(),this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(B.a)(this.unsubscribe),Object(Y.a)(e=>{this.hiddenComponent=!e.hasValue(p.b.APPLICATION)}),Object(c.a)(e=>({inbound:e.hasValue(p.d.INBOUND)?e.getQueryValue(p.d.INBOUND):this.webAppSettingDataService.getUserDefaultInbound(),outbound:e.hasValue(p.d.OUTBOUND)?e.getQueryValue(p.d.OUTBOUND):this.webAppSettingDataService.getUserDefaultOutbound(),bidirectional:!!e.hasValue(p.d.BIDIRECTIONAL)&&e.getQueryValue(p.d.BIDIRECTIONAL),wasOnly:!!e.hasValue(p.d.WAS_ONLY)&&e.getQueryValue(p.d.WAS_ONLY)}))).subscribe(({inbound:e,outbound:t,bidirectional:n,wasOnly:l})=>{this.selectedInbound=e,this.selectedOutbound=t,this.selectedBidirectional=n,this.selectedWasOnly=l,this.cd.detectChanges()})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}onChangeBound(e){this.analyticsService.trackEvent(d.e.SET_SERVER_MAP_OPTION,`inbound: ${e.inbound}, outbound: ${e.outbound}, wasOnly: ${e.wasOnly}, bidirectional: ${e.bidirectional}`);const t=this.newUrlStateNotificationService.isRealTimeMode()?[this.newUrlStateNotificationService.getStartPath(),p.a.REAL_TIME,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr()]:[this.newUrlStateNotificationService.getStartPath(),this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime()];this.urlRouteManagerService.moveOnPage({url:t,queryParam:{[p.d.INBOUND]:e.inbound,[p.d.OUTBOUND]:e.outbound,[p.d.WAS_ONLY]:e.wasOnly,[p.d.BIDIRECTIONAL]:e.bidirectional}})}}var kt=[["[_nghost-%COMP%]{display:block;margin-right:10px}"]],Et=l["\u0275crt"]({encapsulation:0,styles:kt,data:{}});function It(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-server-map-options",[],[[8,"hidden",0]],[[null,"outSelected"]],(function(e,t,n){var l=!0,i=e.component;"outSelected"===t&&(l=!1!==i.onChangeBound(n)&&l);return l}),Mt,Tt)),l["\u0275did"](1,638976,null,0,xt,[],{funcImagePath:[0,"funcImagePath"],selectedWasOnly:[1,"selectedWasOnly"],selectedBidirectional:[2,"selectedBidirectional"],selectedInbound:[3,"selectedInbound"],selectedOutbound:[4,"selectedOutbound"],inboundList:[5,"inboundList"],outboundList:[6,"outboundList"]},{outSelected:"outSelected"})],(function(e,t){var n=t.component;e(t,1,0,n.funcImagePath,n.selectedWasOnly,n.selectedBidirectional,n.selectedInbound,n.selectedOutbound,n.inboundList,n.outboundList)}),(function(e,t){e(t,0,0,t.component.hiddenComponent)}))}l["\u0275ccf"]("pp-server-map-options-container",_t,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-server-map-options-container",[],null,null,null,It,Et)),l["\u0275did"](1,245760,null,0,_t,[l.ChangeDetectorRef,W.a,m.a,g.a,ee.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);var Nt=n("0fGH"),Dt=n("AMqW"),Lt=n("jVku"),jt=n("UQIx"),Vt=n("u41I"),Ut=n("itXk"),Ft=n("wO+i"),Wt=n("JX91");class Ht{constructor(e,t,n,l,i,o){this.newUrlStateNotificationService=e,this.webAppSettingDataService=t,this.analyticsService=n,this.dynamicPopupService=l,this.componentFactoryResolver=i,this.injector=o}ngOnInit(){this.enableRealTime$=Object(Ut.a)(this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(c.a)(e=>e.isRealTimeMode())),this.webAppSettingDataService.useActiveThreadChart()).pipe(Object(c.a)(([e,t])=>e&&t)),this.isAppKeyProvided$=this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(c.a)(e=>e.hasValue(p.b.APPLICATION))),this.webAppSettingDataService.getVersion().subscribe(e=>{this.analyticsService.trackEvent(d.e.VERSION,e)}),this.isScreenWideEnough$=Object(K.a)(window,"resize").pipe(Object(Ft.a)("target","innerWidth"),Object(Wt.a)(window.innerWidth),Object(c.a)(e=>e>=1380))}onShowHelp(e){this.analyticsService.trackEvent(d.e.TOGGLE_HELP_VIEWER,q.a.NAVBAR);const{left:t,top:n,width:l,height:i}=e.target.getBoundingClientRect();this.dynamicPopupService.openPopup({data:q.a.NAVBAR,coord:{coordX:t+l/2,coordY:n+i/2},component:q.b},{resolver:this.componentFactoryResolver,injector:this.injector})}onClickSearchIcon(e){const{left:t,top:n,width:l,height:i}=e.getBoundingClientRect(),o={coordX:t+l/2,coordY:n+i/2};this.dynamicPopupService.openPopup({coord:o,component:h},{resolver:this.componentFactoryResolver,injector:this.injector})}}var zt=[["[_nghost-%COMP%]{display:block}.l-widget-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-flex:1;flex:1;padding:0 15px;height:100%;-webkit-box-align:center;align-items:center;position:relative}.l-main-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;height:calc(100vh - 50px);overflow-y:hidden}.l-main-section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column nowrap;-webkit-box-flex:1;flex:1;--background-color:#edf2f8;background:var(--background-color);position:relative;height:100%;overflow:hidden}.l-main-contents[_ngcontent-%COMP%]{height:100%;position:relative;overflow:hidden}.fa-question-circle[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin-right:15px}button[_ngcontent-%COMP%]{outline:0}.l-concised-search-button[_ngcontent-%COMP%]{position:absolute;right:0;color:#fff;font-size:18px;margin-right:15px}"]],Kt=l["\u0275crt"]({encapsulation:0,styles:zt,data:{}});function Bt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"pp-transaction-id-search-container",[],null,null,null,C,f)),l["\u0275did"](2,4308992,null,0,h,[g.a,m.a,l.ElementRef,l.Renderer2],null,null)],(function(e,t){e(t,2,0)}),null)}function Xt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"button",[["class","l-concised-search-button fas fa-search"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onClickSearchIcon(n.target)&&l);return l}),null,null))],null,null)}function Yt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-real-time-container",[],null,null,null,ce,ie)),l["\u0275did"](1,4440064,null,0,Z,[m.a,g.a,J.a,W.a,G.a,ee.a,te.a,ne.b,l.ComponentFactoryResolver,l.Injector,l.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}function $t(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-side-bar-container",[],null,null,null,mt,pt)),l["\u0275did"](1,245760,null,0,ct,[ut.m,ne.b,l.ElementRef,l.Renderer2,l.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}function Gt(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-notice-container",[],null,null,null,bt.b,bt.a)),l["\u0275did"](1,114688,null,0,ft.a,[l.ElementRef,l.Renderer2,vt.a],null,null),(e()(),l["\u0275eld"](2,0,null,null,16,"header",[["class","l-header flex-container flex-row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"pp-header-logo",[],null,null,null,St.b,St.a)),l["\u0275did"](4,114688,null,0,Ct.a,[W.a,ee.a],null,null),(e()(),l["\u0275eld"](5,0,null,null,10,"div",[["class","l-widget-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"pp-application-list-for-header-container",[],null,null,null,Ot.b,Ot.a)),l["\u0275did"](7,4440064,null,0,wt.a,[l.ChangeDetectorRef,J.a,W.a,yt.a,m.a,g.a,Ee.i,ee.a,l.Renderer2],null,null),(e()(),l["\u0275eld"](8,0,null,null,1,"pp-server-map-options-container",[],null,null,null,It,Et)),l["\u0275did"](9,245760,null,0,_t,[l.ChangeDetectorRef,W.a,m.a,g.a,ee.a],null,null),(e()(),l["\u0275eld"](10,0,null,null,1,"pp-period-selector-container",[],null,null,null,Nt.b,Nt.a)),l["\u0275did"](11,245760,null,0,Dt.a,[W.a,J.a,m.a,g.a,Ee.i,Lt.a,ee.a,l.ChangeDetectorRef],null,null),(e()(),l["\u0275and"](16777216,null,null,2,null,Bt)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](0,[["searchIcon",2]],null,0,null,Xt)),(e()(),l["\u0275eld"](16,0,null,null,0,"button",[["class","fa fa-question-circle"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onShowHelp(n)&&l);return l}),null,null)),(e()(),l["\u0275eld"](17,0,null,null,1,"pp-configuration-icon-container",[],null,null,null,jt.b,jt.a)),l["\u0275did"](18,114688,null,0,Vt.a,[te.a,ee.a,l.ComponentFactoryResolver,l.Injector],null,null),(e()(),l["\u0275eld"](19,0,null,null,10,"div",[["class","l-main-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,6,"section",[["class","l-main-section"]],null,null,null,null,null)),(e()(),l["\u0275eld"](21,0,null,null,2,"article",[["class","l-main-contents"]],null,null,null,null,null)),(e()(),l["\u0275eld"](22,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l["\u0275did"](23,212992,null,0,ut.r,[ut.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null),(e()(),l["\u0275and"](16777216,null,null,2,null,Yt)),l["\u0275did"](25,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](16777216,null,null,2,null,$t)),l["\u0275did"](28,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef])],(function(e,t){var n=t.component;e(t,1,0),e(t,4,0),e(t,7,0),e(t,9,0),e(t,11,0),e(t,13,0,l["\u0275unv"](t,13,0,l["\u0275nov"](t,14).transform(n.isScreenWideEnough$)),l["\u0275nov"](t,15)),e(t,18,0),e(t,23,0),e(t,25,0,l["\u0275unv"](t,25,0,l["\u0275nov"](t,26).transform(n.enableRealTime$))),e(t,28,0,l["\u0275unv"](t,28,0,l["\u0275nov"](t,29).transform(n.isAppKeyProvided$)))}),null)}var qt=l["\u0275ccf"]("pp-main-page",Ht,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-main-page",[],null,null,null,Gt,Kt)),l["\u0275did"](1,114688,null,0,Ht,[m.a,W.a,ee.a,te.a,l.ComponentFactoryResolver,l.Injector],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Qt=n("K2d9"),Zt=n("o06k"),Jt=n("Rb2K"),en=n("Chx4"),tn=n("8PdE"),nn=n("YRXC"),ln=n("0lxK"),on=n("DD/R"),an=n("Q7fR"),un=n("lxp2"),sn=n("9QVn"),rn=n("Z3Kl");class cn{constructor(e,t,n,l,i,o,a,u,s,r,c,d,p){this.router=e,this.injector=t,this.componentFactoryResolver=n,this.translateService=l,this.urlRouteManagerService=i,this.newUrlStateNotificationService=o,this.serverMapDataService=a,this.webAppSettingDataService=u,this.dynamicPopupService=s,this.analyticsService=r,this.cd=c,this.messageQueueService=d,this.type=p,this.unsubscribe=new z.b,this.i18nText={NO_AGENTS:""},this.showLoading=!0,this.useDisable=!0}ngOnInit(){this.funcServerMapImagePath=this.webAppSettingDataService.getServerMapIconPathMakeFunc(),this.addPageLoadingHandler(),this.getI18NText(),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_DISABLE).subscribe(e=>{this.useDisable=e,this.cd.detectChanges()}),this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(B.a)(this.unsubscribe),Object(c.a)(e=>{if(e.isRealTimeMode()){const t=e.getUrlServerTimeData(),n=this.webAppSettingDataService.getSystemDefaultPeriod();return this.initVarBeforeDataLoad(Ae.b.formatDate(t),n.getValueWithTime(),e.getPathValue(p.b.APPLICATION)),[t-n.getMiliSeconds(),t]}return this.initVarBeforeDataLoad(e.getPathValue(p.b.END_TIME).getEndTime(),e.getPathValue(p.b.PERIOD).getValueWithTime(),e.getPathValue(p.b.APPLICATION)),[e.getStartTimeToNumber(),e.getEndTimeToNumber()]}),Object(Qe.a)(e=>this.serverMapDataService.getData(e))).subscribe(e=>{this.mapData=new on.c(e.applicationMapData.nodeDataArray,e.applicationMapData.linkDataArray),this.isEmpty=0===this.mapData.getNodeCount(),this.messageQueueService.sendMessage({to:d.b.SERVER_MAP_DATA_UPDATE,param:this.mapData}),this.isEmpty&&(this.showLoading=!1),this.cd.detectChanges()},e=>{this.dynamicPopupService.openPopup({data:{title:"Server Error",contents:e},component:Je.a,onCloseCallback:()=>{this.urlRouteManagerService.move({url:[this.newUrlStateNotificationService.getStartPath()],needServerTimeRequest:!1})}},{resolver:this.componentFactoryResolver,injector:this.injector})})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}addPageLoadingHandler(){this.router.events.pipe(Object(B.a)(this.unsubscribe),Object(X.a)(e=>e instanceof ut.e)).subscribe(()=>{this.showLoading=!0,this.useDisable=!0,this.cd.detectChanges()})}getI18NText(){this.translateService.get("COMMON.NO_AGENTS").subscribe(e=>{this.i18nText.NO_AGENTS=e})}initVarBeforeDataLoad(e,t,n){this.endTime=e,this.period=t,this.showLoading=!0,this.useDisable=!0,this.baseApplicationKey=n.getKeyStr()}onRenderCompleted(){this.showLoading=!1,this.useDisable=!1,this.cd.detectChanges()}onClickNode(e){let t;this.analyticsService.trackEvent(d.e.CLICK_NODE),on.b.isGroupKey(e.key)?(this.analyticsService.trackEvent(d.e.SHOW_GROUPED_NODE_VIEW),t={period:this.period,endTime:this.endTime,isAuthorized:!0,isNode:!0,isLink:!1,isMerged:!0,isWAS:e.isWas,node:e.mergedNodes.map(e=>e.key)},e.mergedSourceNodes&&(t.groupedNode=e.mergedSourceNodes.map(e=>e.applicationName))):t={period:this.period,endTime:this.endTime,isAuthorized:e.isAuthorized,isNode:!0,isLink:!1,isMerged:!1,isWAS:e.isWas,node:[e.key],hasServerList:e.instanceCount>0},this.messageQueueService.sendMessage({to:d.b.SERVER_MAP_TARGET_SELECT,param:t})}onClickLink(e){let t;this.analyticsService.trackEvent(d.e.CLICK_LINK),on.b.isGroupKey(e.key)?(this.analyticsService.trackEvent(d.e.SHOW_GROUPED_LINK_VIEW),t={period:this.period,endTime:this.endTime,isAuthorized:!0,isNode:!1,isLink:!0,isMerged:!0,isSourceMerge:on.b.isGroupKey(e.from),isWAS:!1,node:[e.from],link:e.targetInfo.map(e=>e.key),hasServerList:!1}):t={period:this.period,endTime:this.endTime,isAuthorized:this.mapData.getNodeData(e.from).isAuthorized,isNode:!1,isLink:!0,isMerged:!1,isWAS:!1,node:[e.from],link:[e.key],hasServerList:!1},this.messageQueueService.sendMessage({to:d.b.SERVER_MAP_TARGET_SELECT,param:t})}onContextClickBackground(e){this.dynamicPopupService.openPopup({data:this.mapData,coord:e,component:rn.a},{resolver:this.componentFactoryResolver,injector:this.injector})}onContextClickNode({key:e,coord:t}){const n=this.mapData.getNodeData(e);n.isWas&&this.dynamicPopupService.openPopup({data:n,coord:t,component:sn.a},{resolver:this.componentFactoryResolver,injector:this.injector})}onContextClickLink({key:e,coord:t}){this.dynamicPopupService.openPopup({data:this.mapData.getLinkData(e),coord:t,component:un.a},{resolver:this.componentFactoryResolver,injector:this.injector})}}var dn=n("hh58"),pn=[[".l-popup-section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;z-index:10;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.l-popup-section[_ngcontent-%COMP%]:before{content:'';display:block;height:100%;width:100%;background:#000;opacity:.6;position:absolute;left:0;top:0}.l-popup-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{width:90%;min-width:500px;max-width:1000px;box-shadow:1 1 10px 0 rgba(0,0,0,.75);position:static;background:#fff;border:1px solid #e5e8f0;text-align:left;z-index:10}.l-contents-group[_ngcontent-%COMP%]{background:#f6f8fb;padding:17px 18px;overflow-y:auto}.l-sql-list[_ngcontent-%COMP%]{margin:0}.l-sql-list[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#333;margin:0 0 12px}.l-sql-list[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{border:1px solid #cfd7e1;background:#fff;padding:28px;font-size:13px;color:#999;line-height:2em;position:relative}"]],hn=l["\u0275crt"]({encapsulation:0,styles:pn,data:{}});function gn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"pp-server-map",[],null,[[null,"outContextClickBackground"],[null,"outClickNode"],[null,"outClickLink"],[null,"outContextClickNode"],[null,"outContextClickLink"],[null,"outRenderCompleted"]],(function(e,t,n){var l=!0,i=e.component;"outContextClickBackground"===t&&(l=!1!==i.onContextClickBackground(n)&&l);"outClickNode"===t&&(l=!1!==i.onClickNode(n)&&l);"outClickLink"===t&&(l=!1!==i.onClickLink(n)&&l);"outContextClickNode"===t&&(l=!1!==i.onContextClickNode(n)&&l);"outContextClickLink"===t&&(l=!1!==i.onContextClickLink(n)&&l);"outRenderCompleted"===t&&(l=!1!==i.onRenderCompleted()&&l);return l}),nn.b,nn.a)),l["\u0275did"](2,4964352,null,0,ln.a,[tn.a,ee.a],{mapData:[0,"mapData"],baseApplicationKey:[1,"baseApplicationKey"],funcServerMapImagePath:[2,"funcServerMapImagePath"],type:[3,"type"]},{outClickNode:"outClickNode",outContextClickNode:"outContextClickNode",outClickLink:"outClickLink",outContextClickLink:"outContextClickLink",outContextClickBackground:"outContextClickBackground",outRenderCompleted:"outRenderCompleted"})],(function(e,t){var n=t.component;e(t,2,0,n.mapData,n.baseApplicationKey,n.funcServerMapImagePath,n.type)}),null)}function mn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","l-popup-section font-opensans"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,6,"article",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,5,"div",[["class","l-contents-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,4,"dl",[["class","l-sql-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"dt",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Notice"])),(e()(),l["\u0275eld"](6,0,null,null,1,"dd",[],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,["",""]))],null,(function(e,t){e(t,7,0,t.component.i18nText.NO_AGENTS)}))}function bn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,gn)),l["\u0275did"](2,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l["\u0275and"](0,[["noAgentGuide",2]],null,0,null,mn))],(function(e,t){e(t,2,0,!t.component.isEmpty,l["\u0275nov"](t,3))}),null)}function fn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-film-for-disable",[],null,null,null,de.b,de.a)),l["\u0275did"](1,114688,null,0,pe.a,[l.ElementRef,l.Renderer2],{zIndex:[0,"zIndex"],marginWidth:[1,"marginWidth"]},null)],(function(e,t){e(t,1,0,9,0)}),null)}function vn(e){return l["\u0275vid"](2,[(e()(),l["\u0275and"](16777216,null,null,1,null,bn)),l["\u0275did"](1,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,fn)),l["\u0275did"](3,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](4,0,null,null,1,"pp-loading",[],null,null,null,ot.b,ot.a)),l["\u0275did"](5,114688,null,0,at.a,[l.ElementRef,l.Renderer2],{showLoading:[0,"showLoading"],zIndex:[1,"zIndex"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.mapData),e(t,3,0,n.useDisable);e(t,5,0,n.showLoading,11)}),null)}l["\u0275ccf"]("pp-server-map-container",cn,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-server-map-container",[],null,null,null,vn,hn)),l["\u0275did"](1,245760,null,0,cn,[ut.m,l.Injector,l.ComponentFactoryResolver,Ee.i,g.a,m.a,an.a,W.a,te.a,ee.a,l.ChangeDetectorRef,ne.b,dn.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);class Sn{constructor(e,t,n,l){this.dynamicPopupService=e,this.newUrlStateNotificationService=t,this.componentFactoryResolver=n,this.injector=l}ngOnInit(){this.showElements$=this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(c.a)(e=>e.hasValue(p.b.PERIOD,p.b.END_TIME)))}onShowHelp(e){const{left:t,top:n,width:l,height:i}=e.target.getBoundingClientRect();this.dynamicPopupService.openPopup({data:q.a.SERVER_MAP,coord:{coordX:t+l/2,coordY:n+i/2},component:q.b},{resolver:this.componentFactoryResolver,injector:this.injector})}}var Cn=[[".l-main-contents-top[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;margin:11px 0 0 25px;-webkit-box-align:center;align-items:center;top:0;right:0;z-index:8;padding:0 10px;font-size:13px;-webkit-box-pack:end;justify-content:flex-end;position:absolute}.fas[_ngcontent-%COMP%]{color:#a8acb5;font-size:18px}.l-fixed-period-mover-wrapper[_ngcontent-%COMP%]{margin-right:4px}.l-search-result-viewer-wrapper[_ngcontent-%COMP%]{margin-right:10px}"]],On=l["\u0275crt"]({encapsulation:0,styles:Cn,data:{}});function wn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","l-fixed-period-mover-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"pp-fixed-period-mover-container",[],null,null,null,Qt.b,Qt.a)),l["\u0275did"](3,245760,null,0,Zt.a,[l.ChangeDetectorRef,m.a,g.a,ee.a,J.a],null,null),(e()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","l-search-result-viewer-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"pp-server-map-search-result-viewer-container",[],null,null,null,Jt.b,Jt.a)),l["\u0275did"](6,114688,null,0,en.a,[Ee.i,m.a,tn.a,l.Renderer2,ee.a,l.ChangeDetectorRef],null,null)],(function(e,t){e(t,3,0),e(t,6,0)}),null)}function yn(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","l-main-contents-top font-opensans"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,wn)),l["\u0275did"](2,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,r.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](4,0,null,null,0,"button",[["class","fas fa-question-circle"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;"click"===t&&(l=!1!==i.onShowHelp(n)&&l);return l}),null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"pp-server-map-container",[],null,null,null,vn,hn)),l["\u0275did"](6,245760,null,0,cn,[ut.m,l.Injector,l.ComponentFactoryResolver,Ee.i,g.a,m.a,an.a,W.a,te.a,ee.a,l.ChangeDetectorRef,ne.b,dn.a],null,null)],(function(e,t){var n=t.component;e(t,2,0,l["\u0275unv"](t,2,0,l["\u0275nov"](t,3).transform(n.showElements$))),e(t,6,0)}),null)}var xn=l["\u0275ccf"]("pp-main-contents-container",Sn,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-main-contents-container",[],null,null,null,yn,On)),l["\u0275did"](1,114688,null,0,Sn,[te.a,m.a,l.ComponentFactoryResolver,l.Injector],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Pn=n("yIm2"),Tn=n("o7q+"),Rn=n("s7LF"),An=n("+TFa"),Mn=n("7006"),_n=n("d7A3"),kn=n("IheW"),En=n("uyHx"),In=n("POq0"),Nn=n("cUpR"),Dn=n("Xd0L"),Ln=n("QQfA"),jn=n("IP0z"),Vn=n("JjoW"),Un=n("22Na"),Fn=n("IbkX"),Wn=n("M0ag"),Hn=n("uuw7"),zn=n("/HVE"),Kn=n("hOhj"),Bn=n("FTGN");class Xn{}var Yn=n("jsEk"),$n=n("3Dce");class Gn{}var qn=n("MyRj"),Qn=n("lXRe"),Zn=n("xu3O"),Jn=n("by9t"),el=n("bGL8"),tl=n("3Pji"),nl=n("C8VF"),ll=n("FgOB"),il=n("gRh7"),ol=n("XEjc"),al=n("Z7st"),ul=n("sM80"),sl=n("5gQU");class rl{}var cl=n("pBi1"),dl=n("1lvu"),pl=n("nZAD"),hl=n("ikCJ"),gl=n("X4gm"),ml=n("xocn"),bl=n("VQBl"),fl=n("zMNK"),vl=n("HsOI"),Sl=n("Wp4o"),Cl=n("lFtu"),Ol=n("E/VC"),wl=n("zMA2"),yl=n("iSkw"),xl=n("0npI");const Pl={showRealTimeButton:!0,enableRealTimeMode:!0},Tl={path:p.a.MAIN},Rl={path:p.a.MAIN},Al={showRealTimeButton:!0,enableRealTimeMode:!1};p.a.REAL_TIME,p.a.MAIN,p.b.APPLICATION,d.c,p.b.APPLICATION,p.b.REAL_TIME,p.a.MAIN,p.a.REAL_TIME,p.b.APPLICATION,p.b.APPLICATION,xl.a,p.b.PERIOD,xl.a,p.b.END_TIME,yl.a;var Ml=n("ezOy"),_l=n("/48X");n.d(t,"MainPageModuleNgFactory",(function(){return kl}));var kl=l["\u0275cmf"](i,[],(function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,a.a,O,w.a,y.a,x.a,P.a,T.a,R.a,A.a,M.a,qt,xn,Pn.a,Tn.a]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,r.NgLocalization,r.NgLocaleLocalization,[l.LOCALE_ID,[2,r["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,Rn["\u0275angular_packages_forms_forms_o"],Rn["\u0275angular_packages_forms_forms_o"],[]),l["\u0275mpd"](4608,An.a,An.a,[]),l["\u0275mpd"](4608,Mn.NguiDatetime,Mn.NguiDatetime,[]),l["\u0275mpd"](4608,tn.a,tn.a,[]),l["\u0275mpd"](4608,_n.a,_n.a,[m.a,J.a]),l["\u0275mpd"](4608,an.a,an.a,[kn.c,W.a,m.a]),l["\u0275mpd"](4608,En.a,En.a,[kn.c,J.a,W.a,g.a,m.a,te.a,l.ComponentFactoryResolver,l.Injector]),l["\u0275mpd"](4608,In.c,In.c,[]),l["\u0275mpd"](4608,Nn.e,Dn.c,[[2,Dn.g],[2,Dn.l]]),l["\u0275mpd"](4608,G.a,G.a,[H.a]),l["\u0275mpd"](4608,ye.a,ye.a,[]),l["\u0275mpd"](4608,Me.a,Me.a,[kn.c]),l["\u0275mpd"](4608,Ln.c,Ln.c,[Ln.h,Ln.d,l.ComponentFactoryResolver,Ln.g,Ln.e,l.Injector,l.NgZone,r.DOCUMENT,jn.b,[2,r.Location]]),l["\u0275mpd"](5120,Ln.i,Ln.j,[Ln.c]),l["\u0275mpd"](5120,Vn.a,Vn.b,[Ln.c]),l["\u0275mpd"](1073742336,r.CommonModule,r.CommonModule,[]),l["\u0275mpd"](1073742336,ut.q,ut.q,[[2,ut.v],[2,ut.m]]),l["\u0275mpd"](1073742336,Un.ClickOutsideModule,Un.ClickOutsideModule,[]),l["\u0275mpd"](1073742336,Rn["\u0275angular_packages_forms_forms_d"],Rn["\u0275angular_packages_forms_forms_d"],[]),l["\u0275mpd"](1073742336,Rn.FormsModule,Rn.FormsModule,[]),l["\u0275mpd"](1073742336,Fn.b,Fn.b,[]),l["\u0275mpd"](1073742336,Wn.a,Wn.a,[]),l["\u0275mpd"](1073742336,Hn.a,Hn.a,[]),l["\u0275mpd"](1073742336,jn.a,jn.a,[]),l["\u0275mpd"](1073742336,zn.b,zn.b,[]),l["\u0275mpd"](1073742336,Kn.g,Kn.g,[]),l["\u0275mpd"](1073742336,Bn.a,Bn.a,[]),l["\u0275mpd"](1073742336,Xn,Xn,[]),l["\u0275mpd"](1073742336,Yn.NguiDatetimePickerModule,Yn.NguiDatetimePickerModule,[]),l["\u0275mpd"](1073742336,$n.a,$n.a,[]),l["\u0275mpd"](1073742336,Gn,Gn,[]),l["\u0275mpd"](1073742336,qn.a,qn.a,[]),l["\u0275mpd"](1073742336,Qn.a,Qn.a,[]),l["\u0275mpd"](1073742336,Zn.a,Zn.a,[]),l["\u0275mpd"](1073742336,Jn.a,Jn.a,[]),l["\u0275mpd"](1073742336,el.a,el.a,[]),l["\u0275mpd"](1073742336,tl.b,tl.b,[]),l["\u0275mpd"](1073742336,nl.a,nl.a,[]),l["\u0275mpd"](1073742336,ll.a,ll.a,[]),l["\u0275mpd"](1073742336,il.a,il.a,[]),l["\u0275mpd"](1073742336,ol.a,ol.a,[]),l["\u0275mpd"](1073742336,al.a,al.a,[]),l["\u0275mpd"](1073742336,ul.a,ul.a,[]),l["\u0275mpd"](1073742336,sl.a,sl.a,[]),l["\u0275mpd"](1073742336,rl,rl,[]),l["\u0275mpd"](1073742336,cl.d,cl.d,[]),l["\u0275mpd"](1073742336,Dn.l,Dn.l,[[2,Dn.d],[2,Nn.f]]),l["\u0275mpd"](1073742336,Dn.v,Dn.v,[]),l["\u0275mpd"](1073742336,In.d,In.d,[]),l["\u0275mpd"](1073742336,cl.c,cl.c,[]),l["\u0275mpd"](1073742336,dl.a,dl.a,[]),l["\u0275mpd"](1073742336,pl.a,pl.a,[]),l["\u0275mpd"](1073742336,hl.a,hl.a,[]),l["\u0275mpd"](1073742336,gl.a,gl.a,[]),l["\u0275mpd"](1073742336,ml.a,ml.a,[]),l["\u0275mpd"](1073742336,bl.a,bl.a,[]),l["\u0275mpd"](1073742336,fl.e,fl.e,[]),l["\u0275mpd"](1073742336,Ln.f,Ln.f,[]),l["\u0275mpd"](1073742336,Dn.t,Dn.t,[]),l["\u0275mpd"](1073742336,Dn.r,Dn.r,[]),l["\u0275mpd"](1073742336,vl.d,vl.d,[]),l["\u0275mpd"](1073742336,Vn.d,Vn.d,[]),l["\u0275mpd"](1073742336,Sl.a,Sl.a,[]),l["\u0275mpd"](1073742336,Cl.a,Cl.a,[]),l["\u0275mpd"](1073742336,Ol.a,Ol.a,[]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](1024,ut.k,(function(){return[[{path:"",component:Ht,children:[{path:"realtime",children:[{path:"",pathMatch:"full",redirectTo:"/main"},{path:":application",resolve:{serverTime:wl.a},data:Pl,component:Sn}]},{path:":application/realtime",pathMatch:"full",redirectTo:"/main/realtime/:application"},{path:":application",children:[{path:"",pathMatch:"full",data:Tl,component:Ml.a},{path:":period",children:[{path:"",pathMatch:"full",data:Rl,component:Ml.a},{path:":endTime",data:Al,component:Sn}]}]},{path:"",pathMatch:"full",component:_l.a}]}]]}),[])])}))}}]);