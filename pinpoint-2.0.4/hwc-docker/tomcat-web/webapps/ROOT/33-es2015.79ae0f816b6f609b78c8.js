(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{SJjU:function(n,l,e){"use strict";e.r(l);var t=e("8Y7J");class a{}var o=e("pMnS"),i=e("XWnP"),c=e("o0cf"),u=e("NxbU"),r=e("exIq"),s=e("FVN4"),p=e("2lf1"),d=e("qaS5"),m=e("pwZw"),h=e("3WZk"),v=e("C6IX"),b=e("m1dV"),g=e("QJdi"),f=e("7rHv"),w=e("w1KT"),S=e("xcNo"),C=e("W33f"),y=e("/yY+"),T=e("UQIx"),_=e("u41I"),I=e("9BJz"),P=e("iInd"),O=e("XNiG"),M=e("1G5W"),R=e("pLZG"),V=e("eIep"),x=e("ZF+8"),D=e("oIO+"),k=e("TwVa"),E=e("Ej/u");class N{constructor(n,l,e,t,a,o,i){this.storeHelperService=n,this.newUrlStateNotificationService=l,this.urlRouteManagerService=e,this.transactionDetailDataService=t,this.dynamicPopupService=a,this.componentFactoryResolver=o,this.injector=i,this.unsubscribe=new O.b}ngOnInit(){this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(M.a)(this.unsubscribe),Object(R.a)(n=>n.hasValue(k.b.AGENT_ID,k.b.SPAN_ID,k.b.TRACE_ID,k.b.FOCUS_TIMESTAMP)),Object(V.a)(n=>this.transactionDetailDataService.getData(n.getPathValue(k.b.AGENT_ID),n.getPathValue(k.b.SPAN_ID),n.getPathValue(k.b.TRACE_ID),n.getPathValue(k.b.FOCUS_TIMESTAMP)))).subscribe(n=>{this.storeHelperService.dispatch(new D.a.UpdateTransactionDetailData(n))},n=>{this.dynamicPopupService.openPopup({data:{title:"Error",contents:n},component:E.a,onCloseCallback:()=>{this.urlRouteManagerService.reload()}},{resolver:this.componentFactoryResolver,injector:this.injector})})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}var j=e("OPvN"),F=e("nUCp"),A=e("D5ZC"),U=e("TMnP"),L=[[".l-transaction-content[_ngcontent-%COMP%]{height:100%}.l-main-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;overflow-y:hidden;height:calc(100vh - 50px)}.l-main-section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column nowrap;-webkit-box-flex:1;flex:1;position:relative;height:100%}.l-main-section[_ngcontent-%COMP%]   .l-main-contents[_ngcontent-%COMP%]{height:100%;position:relative;overflow:auto}.l-main-section[_ngcontent-%COMP%]   .l-main-contents.l-main-contents-transaction[_ngcontent-%COMP%]{overflow:hidden}.l-main-contents[_ngcontent-%COMP%]   .l-content-item[_ngcontent-%COMP%]{margin:10px}.l-main-contents[_ngcontent-%COMP%]   .l-content-item.l-margin-none[_ngcontent-%COMP%]{margin:0}.l-main-contents[_ngcontent-%COMP%]   .l-content-item.l-border-none[_ngcontent-%COMP%]{border:none}"]],H=t["\u0275crt"]({encapsulation:0,styles:L,data:{}});function X(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-notice-container",[],null,null,null,b.b,b.a)),t["\u0275did"](1,114688,null,0,g.a,[t.ElementRef,t.Renderer2,f.a],null,null),(n()(),t["\u0275eld"](2,0,null,null,4,"header",[["class","l-header flex-container flex-row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,1,"pp-header-logo",[],null,null,null,w.b,w.a)),t["\u0275did"](4,114688,null,0,S.a,[C.a,y.a],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"pp-configuration-icon-container",[],null,null,null,T.b,T.a)),t["\u0275did"](6,114688,null,0,_.a,[I.a,y.a,t.ComponentFactoryResolver,t.Injector],null,null),(n()(),t["\u0275eld"](7,0,null,null,5,"div",[["class","l-main-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,4,"section",[["class","l-main-section"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,3,"div",[["class","l-main-contents l-main-contents-transaction"]],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,2,"article",[["class","l-content-item l-margin-none l-transaction-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](12,212992,null,0,P.r,[P.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],(function(n,l){n(l,1,0),n(l,4,0),n(l,6,0),n(l,12,0)}),null)}var z=t["\u0275ccf"]("pp-transaction-detail-page",N,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-transaction-detail-page",[],null,null,null,X,H)),t["\u0275did"](1,245760,null,0,N,[j.a,F.a,A.a,U.a,I.a,t.ComponentFactoryResolver,t.Injector],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),G=e("BVPj"),B=e("kjD4"),K=e("z7my"),W=e("8PdE"),q=e("d7A3"),J=e("hh58"),Q=e("/vre"),Z=e("KjnD"),Y=e("YXhU"),$=e("kKeB"),nn=e("29DB"),ln=e("Qloe"),en=e("6Ldl"),tn=e("FzIv"),an=e("j/kz");class on{constructor(n,l,e,t,a,o,i,c){this.newUrlStateNotificationService=n,this.storeHelperService=l,this.urlRouteManagerService=e,this.transactionDetailDataService=t,this.analyticsService=a,this.dynamicPopupService=o,this.componentFactoryResolver=i,this.injector=c,this.unsubscribe=new O.b}ngOnInit(){this.storeHelperService.getTransactionViewType(this.unsubscribe).subscribe(n=>{this.activeTabKey=n}),this.transactionDetailDataService.partInfo$.subscribe(n=>{this.partInfo=n})}onSelectViewType(n){this.analyticsService.trackEvent(x.e[`CLICK_${n}`]),this.storeHelperService.dispatch(new D.a.ChangeTransactionViewType(n))}onOpenDetailView(){this.analyticsService.trackEvent(x.e.OPEN_TRANSACTION_VIEW),this.urlRouteManagerService.openPage({path:[k.a.TRANSACTION_VIEW,this.newUrlStateNotificationService.getPathValue(k.b.AGENT_ID),this.newUrlStateNotificationService.getPathValue(k.b.TRACE_ID),this.newUrlStateNotificationService.getPathValue(k.b.FOCUS_TIMESTAMP),this.newUrlStateNotificationService.getPathValue(k.b.SPAN_ID)]})}onOpenExtraView(n){n.open?this.urlRouteManagerService.openPage({path:[n.url]}):this.dynamicPopupService.openPopup({data:{title:"Notice",contents:this.partInfo.disableButtonMessage},component:an.a},{resolver:this.componentFactoryResolver,injector:this.injector})}}var cn=[[""]],un=t["\u0275crt"]({encapsulation:0,styles:cn,data:{}});function rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-transaction-detail-menu",[],null,[[null,"outOpenDetailView"],[null,"outSelectViewType"],[null,"outOpenExtraView"]],(function(n,l,e){var t=!0,a=n.component;"outOpenDetailView"===l&&(t=!1!==a.onOpenDetailView()&&t);"outSelectViewType"===l&&(t=!1!==a.onSelectViewType(e)&&t);"outOpenExtraView"===l&&(t=!1!==a.onOpenExtraView(e)&&t);return t}),en.b,en.a)),t["\u0275did"](1,114688,null,0,tn.a,[],{activeTabKey:[0,"activeTabKey"],partInfo:[1,"partInfo"]},{outSelectViewType:"outSelectViewType",outOpenDetailView:"outOpenDetailView",outOpenExtraView:"outOpenExtraView"})],(function(n,l){var e=l.component;n(l,1,0,e.activeTabKey,e.partInfo)}),null)}t["\u0275ccf"]("pp-transaction-detail-menu-for-detail-container",on,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-transaction-detail-menu-for-detail-container",[],null,null,null,rn,un)),t["\u0275did"](1,114688,null,0,on,[F.a,j.a,A.a,U.a,y.a,I.a,t.ComponentFactoryResolver,t.Injector],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]);var sn=e("XncD"),pn=e("b1Km"),dn=e("TSSN"),mn=e("jVku"),hn=e("xlwc"),vn=e("/lTL"),bn=e("SVse"),gn=e("vkgz"),fn=e("Xf8D");class wn{constructor(n,l,e,t,a,o){this.storeHelperService=n,this.analyticsService=l,this.dynamicPopupService=e,this.componentFactoryResolver=t,this.injector=a,this.renderer=o,this.unsubscribe=new O.b}ngOnInit(){this.storeHelperService.getTransactionViewType(this.unsubscribe).pipe(Object(gn.a)(n=>{this.renderer.setStyle(this.callTreeComponent.nativeElement,"display","callTree"===n?"block":"none")})).subscribe(n=>{this.activeView=n,this.showSearch="callTree"===this.activeView||"timeline"===this.activeView})}onShowHelp(n){this.analyticsService.trackEvent(x.e.TOGGLE_HELP_VIEWER,fn.a.CALL_TREE);const{left:l,top:e,width:t,height:a}=n.target.getBoundingClientRect();this.dynamicPopupService.openPopup({data:fn.a.CALL_TREE,coord:{coordX:l+t/2,coordY:e+a/2},component:fn.b},{resolver:this.componentFactoryResolver,injector:this.injector})}}var Sn=[[".l-content-section[_ngcontent-%COMP%]{height:100%;position:relative}.l-tab-menu-options[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap}.l-component-wrapper[_ngcontent-%COMP%]{width:100%;height:calc(100% - 84px);position:relative}.l-middle-tool-box[_ngcontent-%COMP%]{height:54px;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;padding:0 25px;position:relative}.l-middle-tool-box[_ngcontent-%COMP%], .l-middle-tool-box-tip[_ngcontent-%COMP%]{color:#a8acb5;font-size:18px}"]],Cn=t["\u0275crt"]({encapsulation:0,styles:Sn,data:{}});function yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"pp-server-map-others-container",[],null,null,null,G.b,G.a)),t["\u0275did"](2,245760,null,0,B.a,[t.ChangeDetectorRef,t.Injector,t.ComponentFactoryResolver,C.a,I.a,K.a,W.a,q.a,J.a],{sourceType:[0,"sourceType"]},null)],(function(n,l){n(l,2,0,"TRANSACTION_LIST")}),null)}function Tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"pp-transaction-timeline-container",[],null,null,null,Q.b,Q.a)),t["\u0275did"](2,245760,null,0,Z.a,[j.a,Y.a,$.b,y.a,t.ChangeDetectorRef],null,null)],(function(n,l){n(l,2,0)}),null)}function _n(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{callTreeComponent:0}),(n()(),t["\u0275eld"](1,0,null,null,18,"div",[["class","l-content-section"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"pp-transaction-short-info-container",[],null,null,null,nn.b,nn.a)),t["\u0275did"](3,245760,null,0,ln.a,[t.ChangeDetectorRef,j.a],null,null),(n()(),t["\u0275eld"](4,0,null,null,6,"div",[["class","l-tab-menu-options l-middle-tool-box"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"pp-transaction-detail-menu-for-detail-container",[],null,null,null,rn,un)),t["\u0275did"](6,114688,null,0,on,[F.a,j.a,A.a,U.a,y.a,I.a,t.ComponentFactoryResolver,t.Injector],null,null),(n()(),t["\u0275eld"](7,0,null,null,1,"pp-transaction-search-container",[],[[8,"hidden",0]],null,null,sn.b,sn.a)),t["\u0275did"](8,245760,null,0,pn.a,[j.a,Y.a,dn.i,mn.a,y.a,t.ChangeDetectorRef],null,null),(n()(),t["\u0275eld"](9,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,0,"button",[["class","fas fa-question-circle l-middle-tool-box-tip"]],null,[[null,"click"]],(function(n,l,e){var t=!0,a=n.component;"click"===l&&(t=!1!==a.onShowHelp(e)&&t);return t}),null,null)),(n()(),t["\u0275eld"](11,0,null,null,8,"div",[["class","l-component-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,[[1,0]],null,1,"pp-call-tree-container",[],null,null,null,hn.b,hn.a)),t["\u0275did"](13,245760,null,0,vn.a,[j.a,Y.a,y.a,I.a,t.ComponentFactoryResolver,t.Injector,$.b],null,null),(n()(),t["\u0275eld"](14,0,null,null,5,null,null,null,null,null,null,null)),t["\u0275did"](15,16384,null,0,bn.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,yn)),t["\u0275did"](17,278528,null,0,bn.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,bn.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](19,278528,null,0,bn.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,bn.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,l){var e=l.component;n(l,3,0),n(l,6,0),n(l,8,0),n(l,13,0),n(l,15,0,e.activeView);n(l,17,0,"serverMap");n(l,19,0,"timeline")}),(function(n,l){n(l,7,0,!l.component.showSearch)}))}var In=t["\u0275ccf"]("pp-transaction-detail-contents-container",wn,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-transaction-detail-contents-container",[],null,null,null,_n,Cn)),t["\u0275did"](1,114688,null,0,wn,[j.a,y.a,I.a,t.ComponentFactoryResolver,t.Injector,t.Renderer2],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),Pn=e("s7LF"),On=e("myvU"),Mn=e("IheW"),Rn=e("Q7fR"),Vn=e("uyHx"),xn=e("22Na"),Dn=e("IbkX"),kn=e("M0ag"),En=e("uuw7"),Nn=e("MyRj"),jn=e("lXRe"),Fn=e("eJHu"),An=e("7XXT"),Un=e("eC/d"),Ln=e("IQUl"),Hn=e("SXLW"),Xn=e("lYoP"),zn=e("TwHB"),Gn=e("bGL8"),Bn=e("3Pji"),Kn=e("C8VF"),Wn=e("FgOB"),qn=e("gRh7"),Jn=e("XEjc"),Qn=e("Z7st"),Zn=e("sM80"),Yn=e("IP0z"),$n=e("/HVE"),nl=e("hOhj"),ll=e("q/BS"),el=e("5gQU");class tl{}e.d(l,"TransactionDetailPageModuleNgFactory",(function(){return al}));var al=t["\u0275cmf"](a,[],(function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,i.a,c.a,u.a,r.a,s.a,p.a,d.a,m.a,h.a,v.a,z,In]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,bn.NgLocalization,bn.NgLocaleLocalization,[t.LOCALE_ID,[2,bn["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,Pn["\u0275angular_packages_forms_forms_o"],Pn["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,Y.a,Y.a,[]),t["\u0275mpd"](4608,On.a,On.a,[Mn.c]),t["\u0275mpd"](4608,W.a,W.a,[]),t["\u0275mpd"](4608,q.a,q.a,[F.a,j.a]),t["\u0275mpd"](4608,Rn.a,Rn.a,[Mn.c,C.a,F.a]),t["\u0275mpd"](4608,Vn.a,Vn.a,[Mn.c,j.a,C.a,A.a,F.a,I.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](1073742336,bn.CommonModule,bn.CommonModule,[]),t["\u0275mpd"](1073742336,P.q,P.q,[[2,P.v],[2,P.m]]),t["\u0275mpd"](1073742336,xn.ClickOutsideModule,xn.ClickOutsideModule,[]),t["\u0275mpd"](1073742336,Pn["\u0275angular_packages_forms_forms_d"],Pn["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,Pn.FormsModule,Pn.FormsModule,[]),t["\u0275mpd"](1073742336,Dn.b,Dn.b,[]),t["\u0275mpd"](1073742336,kn.a,kn.a,[]),t["\u0275mpd"](1073742336,En.a,En.a,[]),t["\u0275mpd"](1073742336,Nn.a,Nn.a,[]),t["\u0275mpd"](1073742336,jn.a,jn.a,[]),t["\u0275mpd"](1073742336,Fn.a,Fn.a,[]),t["\u0275mpd"](1073742336,An.a,An.a,[]),t["\u0275mpd"](1073742336,Un.a,Un.a,[]),t["\u0275mpd"](1073742336,Ln.a,Ln.a,[]),t["\u0275mpd"](1073742336,Hn.AgGridModule,Hn.AgGridModule,[]),t["\u0275mpd"](1073742336,Xn.a,Xn.a,[]),t["\u0275mpd"](1073742336,zn.a,zn.a,[]),t["\u0275mpd"](1073742336,Gn.a,Gn.a,[]),t["\u0275mpd"](1073742336,Bn.b,Bn.b,[]),t["\u0275mpd"](1073742336,Kn.a,Kn.a,[]),t["\u0275mpd"](1073742336,Wn.a,Wn.a,[]),t["\u0275mpd"](1073742336,qn.a,qn.a,[]),t["\u0275mpd"](1073742336,Jn.a,Jn.a,[]),t["\u0275mpd"](1073742336,Qn.a,Qn.a,[]),t["\u0275mpd"](1073742336,Zn.a,Zn.a,[]),t["\u0275mpd"](1073742336,Yn.a,Yn.a,[]),t["\u0275mpd"](1073742336,$n.b,$n.b,[]),t["\u0275mpd"](1073742336,nl.g,nl.g,[]),t["\u0275mpd"](1073742336,ll.a,ll.a,[]),t["\u0275mpd"](1073742336,el.a,el.a,[]),t["\u0275mpd"](1073742336,tl,tl,[]),t["\u0275mpd"](1073742336,a,a,[]),t["\u0275mpd"](1024,P.k,(function(){return[[{path:"",component:N,children:[{path:":traceId/:focusTimestamp/:agentId/:spanId",component:wn},{path:":traceId/:focusTimestamp/:agentId",redirectTo:"/main",pathMatch:"full"},{path:":traceId/:focusTimestamp",redirectTo:"/main",pathMatch:"full"},{path:":traceId",redirectTo:"/main",pathMatch:"full"},{path:"",redirectTo:"/main",pathMatch:"full"}]}]]}),[])])}))}}]);