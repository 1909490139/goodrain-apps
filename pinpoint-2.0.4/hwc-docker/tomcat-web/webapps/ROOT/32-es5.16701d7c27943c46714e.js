function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,n){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],l=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(l=(a=u.next()).done)&&(t.push(a.value),!n||t.length!==n);l=!0);}catch(r){i=!0,o=r}finally{try{l||null==u.return||u.return()}finally{if(i)throw o}}return t}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var l=n[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{oLEV:function(e,n,t){"use strict";t.r(n);var l=t("8Y7J"),i=function e(){_classCallCheck(this,e)},o=t("pMnS"),a=t("EGXd"),u=t("S5y4"),r=t("huS9"),c=t("SVse"),s=t("lJxs"),d=t("ZF+8"),p=t("TwVa"),h=function(){function e(n,t,i,o){_classCallCheck(this,e),this.urlRouteManagerService=n,this.newUrlStateNotificationService=t,this.el=i,this.renderer=o,this.outClose=new l.EventEmitter,this.outCreated=new l.EventEmitter,this.outSearchId=new l.EventEmitter,this.searchUseEnter=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.isAppSelected$=this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(s.a)((function(e){return e.hasValue(p.b.APPLICATION)}))),this.coord&&(this.posX=this.coord.coordX-20+this.el.nativeElement.offsetWidth<=window.innerWidth?this.coord.coordX-20:window.innerWidth-this.el.nativeElement.offsetWidth)}},{key:"ngAfterViewInit",value:function(){this.coord&&(this.renderer.setStyle(this.el.nativeElement,"position","absolute"),this.renderer.setStyle(this.el.nativeElement.querySelector(".l-search-input"),"border-top",0),this.outCreated.emit({coordX:this.posX,coordY:this.coord.coordY+9+7}))}},{key:"calculateTooltipCaretLeft",value:function(e){var n=this.coord.coordX;return"".concat(n-this.posX-e.offsetWidth/2,"px")}},{key:"onSearchId",value:function(e){if(""!==e){var n=e.split("^");if(3===n.length){var t=n[0];this.urlRouteManagerService.openPage({path:[p.a.TRANSACTION_DETAIL,e,"0",t,"-1"]})}}}},{key:"onInputChange",value:function(){this.outClose.emit()}},{key:"onClickOutside",value:function(){this.outClose.emit()}}]),e}(),g=t("D5ZC"),f=t("nUCp"),m=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:170px;height:32px;position:relative}.l-wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.l-search-input[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #d7dde4;padding:0 28px 0 10px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;background-color:#fff}.l-search-input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 1px 1px var(--primary-color);outline:0}.l-search-button[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#a8acb5;font-size:18px}.l-tooltip-caret[_ngcontent-%COMP%]{width:0;height:0;position:absolute;bottom:100%;border-bottom:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent}"]],data:{}});function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,[["tooltipCaret",1]],null,0,"div",[["class","l-tooltip-caret"]],[[4,"left",null]],null,null,null,null))],null,(function(e,n){e(n,1,0,n.component.calculateTooltipCaretLeft(l["\u0275nov"](n,1)))}))}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,6,"div",[["class","l-wrapper"]],null,[[null,"clickOutside"]],(function(e,n,t){var l=!0,i=e.component;return"clickOutside"===n&&(l=!1!==i.onClickOutside()&&l),l}),null,null)),l["\u0275did"](2,737280,null,0,u.ClickOutsideDirective,[l.ElementRef,l.NgZone,l.PLATFORM_ID],{exclude:[0,"exclude"]},{clickOutside:"clickOutside"}),(e()(),l["\u0275eld"](3,0,[["searchInput",1]],null,1,"input",[["class","l-search-input"],["placeholder","search pTxId"],["ppSearchInput",""],["type","text"]],null,[[null,"outSearch"],[null,"keydown"],[null,"keyup"]],(function(e,n,t){var i=!0,o=e.component;return"keydown"===n&&(i=!1!==l["\u0275nov"](e,4).onKeyDown(t)&&i),"keyup"===n&&(i=!1!==l["\u0275nov"](e,4).onKeyUp(t)&&i),"outSearch"===n&&(i=!1!==o.onSearchId(t)&&i),i}),null,null)),l["\u0275did"](4,737280,null,0,r.a,[l.ElementRef],{useEnter:[0,"useEnter"]},{outSearch:"outSearch"}),(e()(),l["\u0275eld"](5,0,null,null,0,"button",[["class","l-search-button fas fa-search"]],null,[[null,"click"]],(function(e,n,t){var i=!0,o=e.component;return"click"===n&&(i=!1!==o.onSearchId(l["\u0275nov"](e,3).value.trim())&&i),i}),null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](7,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,2,0,".l-concised-search-button"),e(n,4,0,t.searchUseEnter),e(n,7,0,t.coord)}),null)}function C(e){return l["\u0275vid"](2,[(e()(),l["\u0275and"](16777216,null,null,2,null,v)),l["\u0275did"](1,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,c.AsyncPipe,[l.ChangeDetectorRef])],(function(e,n){var t=n.component;e(n,1,0,l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform(t.isAppSelected$)))}),null)}var S=l["\u0275ccf"]("pp-transaction-id-search-container",h,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-transaction-id-search-container",[],null,null,null,C,m)),l["\u0275did"](1,4308992,null,0,h,[g.a,f.a,l.ElementRef,l.Renderer2],null,null)],(function(e,n){e(n,1,0)}),null)}),{coord:"coord"},{outClose:"outClose",outCreated:"outCreated",outSearchId:"outSearchId"},[]),y=t("XWnP"),w=t("exIq"),O=t("FVN4"),k=t("2lf1"),x=t("qaS5"),P=t("pwZw"),T=t("3WZk"),_=t("C6IX"),R=t("LFJv"),A=t("OwZn"),M=function(){function e(){_classCallCheck(this,e),this.maxChartNumberPerPage=1,this.chartOption={canvasLeftPadding:0,canvasTopPadding:0,canvasRightPadding:0,canvasBottomPadding:0,chartInnerPadding:15,containerWidth:277,containerHeight:144,chartWidth:159,chartHeight:114,titleHeight:34,gapBtnChart:0,chartColors:["#33b692","#51afdf","#fea63e","#e76f4b"],chartLabels:["1s","3s","5s","Slow"],ellipsis:"...",drawHGridLine:!1,drawVGridLine:!0,showXAxis:!0,showXAxisLabel:!1,showYAxis:!0,showYAxisLabel:!0,yAxisLabelWidth:8,marginFromYAxis:5,marginFromLegend:10,tooltipEnabled:!0,titleFontSize:"13px",errorFontSize:"15px",duration:4e3}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.chartOption,n=e.chartInnerPadding,t=e.titleHeight;this.legendStyle={right:"".concat(n,"px"),top:"".concat(t+n-5,"px")}}},{key:"ngOnChanges",value:function(e){var n=e.sum;n&&(this.totalCount=n.currentValue.reduce((function(e,n){return e+n}),0))}}]),e}(),E=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;position:relative;width:100%;height:100%}.l-legend[_ngcontent-%COMP%]{position:absolute;list-style:none;font-size:11px;width:62px}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0 0;color:#666}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin:0;color:#010101;font-weight:600}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .l-text[_ngcontent-%COMP%]{width:30px;text-align:right;margin:0 10px 0 0}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .l-circle[_ngcontent-%COMP%]{width:21px;height:11px;line-height:11px;color:#fff;border-radius:10px;text-align:center;overflow:hidden;text-overflow:ellipsis}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1)   .l-circle[_ngcontent-%COMP%]{background:#a8acb5}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2)   .l-circle[_ngcontent-%COMP%]{background:#e76f4b}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3)   .l-circle[_ngcontent-%COMP%]{background:#fea63e}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4)   .l-circle[_ngcontent-%COMP%]{background:#51afdf}.l-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5)   .l-circle[_ngcontent-%COMP%]{background:#33b692}"]],data:{}});function I(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-real-time-chart",[],null,null,null,R.b,R.a)),l["\u0275did"](1,4964352,null,0,A.a,[l.ElementRef,l.NgZone,l.Renderer2],{timezone:[0,"timezone"],dateFormat:[1,"dateFormat"],timeStamp:[2,"timeStamp"],activeRequestCounts:[3,"activeRequestCounts"],maxChartNumberPerPage:[4,"maxChartNumberPerPage"],sum:[5,"sum"],chartOption:[6,"chartOption"]},null),(e()(),l["\u0275eld"](2,0,null,null,27,"ul",[["class","l-legend"]],null,null,null,null,null)),l["\u0275prd"](512,null,c["\u0275NgStyleImpl"],c["\u0275NgStyleR2Impl"],[l.ElementRef,l.KeyValueDiffers,l.Renderer2]),l["\u0275did"](4,278528,null,0,c.NgStyle,[c["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275eld"](5,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Total"])),(e()(),l["\u0275eld"](8,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](9,null,["",""])),(e()(),l["\u0275eld"](10,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Slow"])),(e()(),l["\u0275eld"](13,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](14,null,["",""])),(e()(),l["\u0275eld"](15,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["5s"])),(e()(),l["\u0275eld"](18,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](19,null,["",""])),(e()(),l["\u0275eld"](20,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](21,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["3s"])),(e()(),l["\u0275eld"](23,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](24,null,["",""])),(e()(),l["\u0275eld"](25,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),l["\u0275eld"](26,0,null,null,1,"span",[["class","l-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["1s"])),(e()(),l["\u0275eld"](28,0,null,null,1,"span",[["class","l-circle"]],null,null,null,null,null)),(e()(),l["\u0275ted"](29,null,["",""]))],(function(e,n){var t=n.component;e(n,1,0,t.timezone,t.dateFormat,t.timeStamp,t.activeRequestCounts,t.maxChartNumberPerPage,t.sum,t.chartOption),e(n,4,0,t.legendStyle)}),(function(e,n){var t=n.component;e(n,9,0,t.totalCount),e(n,14,0,t.sum[3]),e(n,19,0,t.sum[2]),e(n,24,0,t.sum[1]),e(n,29,0,t.sum[0])}))}l["\u0275ccf"]("pp-real-time-total-chart",M,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-real-time-total-chart",[],null,null,null,I,E)),l["\u0275did"](1,638976,null,0,M,[],null,null)],(function(e,n){e(n,1,0)}),null)}),{timezone:"timezone",dateFormat:"dateFormat",applicationName:"applicationName",timeStamp:"timeStamp",sum:"sum",activeRequestCounts:"activeRequestCounts"},{},[]);var N=t("dElo"),D=t("WnXL"),L=t("yjCR"),j=t("tLPc"),V=function(){function e(n,t,l,i){_classCallCheck(this,e),this.elementRef=n,this.renderer=t,this.webAppSettingDataService=l,this.windowRefService=i,this.dragging=!1,this.resizeElement=this.elementRef.nativeElement.parentElement,this.maxHeight=this.windowRefService.nativeWindow.innerHeight,this.windowRefService.nativeWindow.addEventListener("mouseup",this.onWindowMouseUp.bind(this)),this.windowRefService.nativeWindow.addEventListener("mousemove",this.onWindowMouseMove.bind(this))}return _createClass(e,[{key:"ngOnInit",value:function(){this.maxHeight=this.windowRefService.nativeWindow.innerHeight-this.maxHeightPadding}},{key:"ngOnDestroy",value:function(){this.windowRefService.nativeWindow.removeEventListener("mouseup",this.onWindowMouseUp),this.windowRefService.nativeWindow.removeEventListener("mousemove",this.onWindowMouseMove)}},{key:"onWindowMouseUp",value:function(e){this.dragging=!1}},{key:"onWindowMouseMove",value:function(e){this.dragging&&this.resizeOn(-e.movementY)}},{key:"onMouseDown",value:function(e){this.dragging=!0}},{key:"onMouseMove",value:function(e){this.dragging&&this.resizeOn(-e.movementY)}},{key:"onMouseUp",value:function(){this.dragging=!1}},{key:"resizeOn",value:function(e){if(0!==e){var n=(Number.parseInt(this.resizeElement.style.height,10)||this.minHeight)+e;n>=this.minHeight&&n<=this.maxHeight&&(this.webAppSettingDataService.setLayerHeight(n),this.renderer.setStyle(this.resizeElement,"height",n+"px"))}}}]),e}(),U=t("W33f"),F=t("OsX8"),W=t("XNiG"),H=t("xgIS"),z=t("1G5W"),K=t("pLZG"),B=t("vkgz"),X=t("3E0/"),Y=t("qWpi"),G=t("Xf8D"),q=t("aY87"),Q=function(){function e(n,t,l,i,o,a,u,r,c,s,d){_classCallCheck(this,e),this.newUrlStateNotificationService=n,this.urlRouteManagerService=t,this.storeHelperService=l,this.webAppSettingDataService=i,this.realTimeWebSocketService=o,this.analyticsService=a,this.dynamicPopupService=u,this.messageQueueService=r,this.componentFactoryResolver=c,this.injector=s,this.cd=d,this.unsubscribe=new W.b,this.serviceType="",this.activeOnly=!1,this.isPinUp=!0,this.minHeight=343,this.maxHeightPadding=50,this.applicationName="",this.hiddenComponent=!0,this.messageTemplate="LOADING"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.lastHeight=this.webAppSettingDataService.getLayerHeight()||this.minHeight,this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(z.a)(this.unsubscribe)).subscribe((function(){e.resetState(),e.messageTemplate="LOADING",e.cd.markForCheck()})),this.listenToEmitter(),this.realTimeWebSocketService.onMessage$.pipe(Object(z.a)(this.unsubscribe)).subscribe((function(n){switch(n.type){case"open":e.onOpen();break;case"close":e.onClose();break;case"retry":e.onRetry();break;case"message":e.onMessage(n.message)}}))}},{key:"ngAfterViewInit",value:function(){this.addEventListener()}},{key:"ngOnDestroy",value:function(){this.realTimeWebSocketService.close(),this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"listenToEmitter",value:function(){var e=this;this.timezone$=this.storeHelperService.getTimezone(this.unsubscribe),this.dateFormat$=this.storeHelperService.getDateFormat(this.unsubscribe,0),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_DATA_UPDATE).pipe(Object(K.a)((function(e){return 0===e.getNodeCount()}))).subscribe((function(){e.hiddenComponent=!0,e.cd.markForCheck()})),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).pipe(Object(B.a)((function(){return e.hiddenComponent=!1})),Object(K.a)((function(){return!(e.isPinUp&&""!==e.applicationName)}))).subscribe((function(n){var t=_slicedToArray(n.node[0].split("^"),2),l=t[0],i=t[1];n.isWAS?e.isSameWithCurrentTarget(l,i)||(e.applicationName=l,e.serviceType=i,e.realTimeWebSocketService.isOpened()?e.startDataRequest():e.realTimeWebSocketService.connect()):(e.applicationName=l,e.serviceType=i,e.realTimeWebSocketService.close(),e.stopDataRequest(),e.hide()),e.cd.markForCheck()}))}},{key:"addEventListener",value:function(){var e=this,n=Object(H.a)(document,"visibilitychange").pipe(Object(z.a)(this.unsubscribe));n.pipe(Object(K.a)((function(){return!document.hidden})),Object(K.a)((function(){return!e.realTimeWebSocketService.isOpened()}))).subscribe((function(){e.onRetry()})),n.pipe(Object(K.a)((function(){return document.hidden})),Object(X.a)(1e4),Object(K.a)((function(){return document.hidden}))).subscribe((function(){e.realTimeWebSocketService.close()}))}},{key:"resetState",value:function(){this.applicationName="",this.serviceType="",this.activeRequestCounts=null,this.isPinUp=!0}},{key:"hide",value:function(){this.messageTemplate="NO_DATA"}},{key:"isSameWithCurrentTarget",value:function(e,n){return this.applicationName===e&&this.serviceType===n}},{key:"startDataRequest",value:function(){this.realTimeWebSocketService.send(this.getRequestDataStr(this.applicationName))}},{key:"stopDataRequest",value:function(){this.realTimeWebSocketService.send(this.getRequestDataStr(""))}},{key:"getRequestDataStr",value:function(e){return{type:"REQUEST",command:"activeThreadCount",parameters:{applicationName:e}}}},{key:"onOpen",value:function(){this.startDataRequest()}},{key:"onClose",value:function(){this.messageTemplate="RETRY",this.activeRequestCounts=null,this.cd.markForCheck()}},{key:"onRetry",value:function(){this.onRetryConnection(),this.cd.markForCheck()}},{key:"onMessage",value:function(e){var n=e.timeStamp,t=e.applicationName,l=e.activeThreadCounts;t&&t!==this.applicationName||(this.timeStamp=n,this.arcForAgent=this.activeOnly?Object(q.c)(Object(q.a)(this.activeRequestCounts,l)):Object(q.a)(this.activeRequestCounts,l),this.arcForTotal=Object(q.b)(t,l),this.sum=this.arcForTotal[Object.keys(this.arcForTotal)[0]].status,this.totalCount=Object.keys(this.arcForAgent).length,this.activeRequestCounts=l,this.cd.markForCheck())}},{key:"onRetryConnection",value:function(){this.messageTemplate="LOADING",this.realTimeWebSocketService.connect()}},{key:"onPinUp",value:function(){this.analyticsService.trackEvent(this.isPinUp?d.e.PIN_UP_REAL_TIME_CHART:d.e.REMOVE_PIN_ON_REAL_TIME_CHART),this.isPinUp=!this.isPinUp}},{key:"onOpenPage",value:function(e){this.urlRouteManagerService.openPage({path:[p.a.REAL_TIME,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),""+e],queryParam:{activeOnly:this.activeOnly}})}},{key:"onChangeActiveOnlyToggle",value:function(e){this.activeOnly=e}},{key:"onOpenThreadDump",value:function(e){this.analyticsService.trackEvent(d.e.OPEN_THREAD_DUMP),this.urlRouteManagerService.openPage({path:[p.a.THREAD_DUMP,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),e,""+Date.now()]})}},{key:"onShowHelp",value:function(e){this.analyticsService.trackEvent(d.e.TOGGLE_HELP_VIEWER,G.a.REAL_TIME);var n=e.target.getBoundingClientRect(),t=n.left,l=n.top,i=n.width,o=n.height;this.dynamicPopupService.openPopup({data:G.a.REAL_TIME,coord:{coordX:t+i/2,coordY:l+o/2},component:G.b},{resolver:this.componentFactoryResolver,injector:this.injector})}},{key:"onRenderCompleted",value:function(){this.messageTemplate="NOTHING"}}]),e}(),$=t("OPvN"),Z=t("/yY+"),J=t("9BJz"),ee=t("kKeB"),ne=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;z-index:30}.l-thread-chart-wrap[_ngcontent-%COMP%]{background:#d3dbe6;border-top:1px solid #ccd5e0;position:absolute;bottom:0;left:0;width:100%}.l-title-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;color:#566370;font-size:14px;font-weight:600;height:34px;padding:0 10px 0 25px;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;border-bottom:1px solid #bdc7d5;cursor:ns-resize;background:#f6f8fb}.l-title-group[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:18px;color:#a8acb5;cursor:pointer}.l-title-group[_ngcontent-%COMP%]   .l-title[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin:0 9px 0 0}.l-title[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}.l-title-group[_ngcontent-%COMP%]   .l-tool-box[_ngcontent-%COMP%]{color:#8f9caf}.l-tool-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.l-pin-up[_ngcontent-%COMP%]{color:red!important}.l-chart-group-wrap[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;padding:5px 10px 5px 5px;height:calc(100% - 34px)}.l-total-chart[_ngcontent-%COMP%]{width:277px;height:178px;margin-right:5px}.l-agent-chart[_ngcontent-%COMP%]{width:calc(100% - 282px);height:100%;outline:0}.l-message[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:absolute;text-align:center;background-color:rgba(226,226,226,.5);z-index:9999}.l-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:80px 0 10px;font-weight:100}.l-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px 40px 6px;background-color:#fff}.l-retry[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:6px}.l-message.l-no-data[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#000;color:#fff}.fa-chart-area[_ngcontent-%COMP%]{margin-right:2px}"]],data:{}});function te(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,4,"article",[["class","l-total-chart"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,3,"pp-real-time-total-chart",[],null,null,null,I,E)),l["\u0275did"](3,638976,null,0,M,[],{timezone:[0,"timezone"],dateFormat:[1,"dateFormat"],timeStamp:[2,"timeStamp"],sum:[3,"sum"],activeRequestCounts:[4,"activeRequestCounts"]},null),l["\u0275pid"](131072,c.AsyncPipe,[l.ChangeDetectorRef]),l["\u0275pid"](131072,c.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](6,0,null,null,4,"article",[["class","l-agent-chart"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,1,"pp-real-time-chart-header",[],null,[[null,"outOpenPage"],[null,"outChangeActiveOnlyToggle"]],(function(e,n,t){var l=!0,i=e.component;return"outOpenPage"===n&&(l=!1!==i.onOpenPage(t)&&l),"outChangeActiveOnlyToggle"===n&&(l=!1!==i.onChangeActiveOnlyToggle(t)&&l),l}),N.b,N.a)),l["\u0275did"](8,114688,null,0,D.a,[],{totalCount:[0,"totalCount"]},{outOpenPage:"outOpenPage",outChangeActiveOnlyToggle:"outChangeActiveOnlyToggle"}),(e()(),l["\u0275eld"](9,0,null,null,1,"pp-real-time-agent-chart",[],null,[[null,"outOpenThreadDump"],[null,"outRenderCompleted"]],(function(e,n,t){var l=!0,i=e.component;return"outOpenThreadDump"===n&&(l=!1!==i.onOpenThreadDump(t)&&l),"outRenderCompleted"===n&&(l=!1!==i.onRenderCompleted()&&l),l}),L.b,L.a)),l["\u0275did"](10,4308992,null,0,j.a,[],{timeStamp:[0,"timeStamp"],activeRequestCounts:[1,"activeRequestCounts"],sum:[2,"sum"]},{outOpenThreadDump:"outOpenThreadDump",outRenderCompleted:"outRenderCompleted"})],(function(e,n){var t=n.component;e(n,3,0,l["\u0275unv"](n,3,0,l["\u0275nov"](n,4).transform(t.timezone$)),l["\u0275unv"](n,3,1,l["\u0275nov"](n,5).transform(t.dateFormat$)),t.timeStamp,t.sum,t.arcForTotal),e(n,8,0,t.totalCount),e(n,10,0,t.timeStamp,t.arcForAgent,t.sum)}),null)}function le(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","l-message l-waiting"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Waiting Connection..."])),(e()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","fas fa-spinner fa-spin fa-2x fa-fw"]],null,null,null,null,null))],null,null)}function ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","l-message l-retry"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Closed connection"])),(e()(),l["\u0275eld"](4,0,null,null,3,"button",[["class","pinpoint-btn"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onRetryConnection()&&l),l}),null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-redo"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Retry"]))],null,null)}function oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","l-message l-no-data"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["This node is not WAS"]))],null,null)}function ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ue(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","l-thread-chart-wrap"]],[[4,"height","px"],[8,"hidden",0]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","l-title-group font-opensans"],["ppResizeTop",""]],null,[[null,"mousedown"],[null,"mousemove"],[null,"mouseup"]],(function(e,n,t){var i=!0;return"mousedown"===n&&(i=!1!==l["\u0275nov"](e,2).onMouseDown(t)&&i),"mousemove"===n&&(i=!1!==l["\u0275nov"](e,2).onMouseMove(t)&&i),"mouseup"===n&&(i=!1!==l["\u0275nov"](e,2).onMouseUp()&&i),i}),null,null)),l["\u0275did"](2,212992,null,0,V,[l.ElementRef,l.Renderer2,U.a,F.a],{minHeight:[0,"minHeight"],maxHeightPadding:[1,"maxHeightPadding"]},null),(e()(),l["\u0275eld"](3,0,null,null,2,"div",[["class","l-title"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,0,"span",[["class","fas fa-chart-area"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Active Request "])),(e()(),l["\u0275eld"](6,0,null,null,2,"div",[["class","l-tool-box"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,0,"button",[["class","fas fa-thumbtack"]],[[2,"l-pin-up",null]],[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onPinUp()&&l),l}),null,null)),(e()(),l["\u0275eld"](8,0,null,null,0,"button",[["class","fas fa-question-circle"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onShowHelp(t)&&l),l}),null,null)),(e()(),l["\u0275eld"](9,0,null,null,12,"div",[["class","l-chart-group-wrap font-opensans"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,te)),l["\u0275did"](11,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](12,0,null,null,9,null,null,null,null,null,null,null)),l["\u0275did"](13,16384,null,0,c.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,le)),l["\u0275did"](15,278528,null,0,c.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,c.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ie)),l["\u0275did"](17,278528,null,0,c.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,c.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,oe)),l["\u0275did"](19,278528,null,0,c.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,c.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ae)),l["\u0275did"](21,16384,null,0,c.NgSwitchDefault,[l.ViewContainerRef,l.TemplateRef,c.NgSwitch],null,null)],(function(e,n){var t=n.component;e(n,2,0,t.minHeight,t.maxHeightPadding),e(n,11,0,t.activeRequestCounts),e(n,13,0,t.messageTemplate),e(n,15,0,"LOADING"),e(n,17,0,"RETRY"),e(n,19,0,"NO_DATA")}),(function(e,n){var t=n.component;e(n,0,0,t.lastHeight,t.hiddenComponent),e(n,7,0,t.isPinUp)}))}l["\u0275ccf"]("pp-real-time-container",Q,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-real-time-container",[],null,null,null,ue,ne)),l["\u0275did"](1,4440064,null,0,Q,[f.a,g.a,$.a,U.a,Y.a,Z.a,J.a,ee.b,l.ComponentFactoryResolver,l.Injector,l.ChangeDetectorRef],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]);var re=t("hIJE"),ce=t("YsHj"),se=t("qQV/"),de=t("Yx30"),pe=t("wegP"),he=t("i1BI"),ge=t("Ea0K"),fe=t("hNim"),me=t("erdE"),be=t("hiii"),ve=t("O/DK"),Ce=t("dryN"),Se=t("zw4y"),ye=t("R4Tc"),we=t("7fKh"),Oe=t("cp0P"),ke=t("LRne"),xe=t("sKXY"),Pe=t("R0vR"),Te=t("xvpG"),_e=function(){function e(n,t,l,i,o,a,u,r,c,s,d,p,h){_classCallCheck(this,e),this.storeHelperService=n,this.translateService=t,this.webAppSettingDataService=l,this.newUrlStateNotificationService=i,this.urlRouteManagerService=o,this.scatterChartDataService=a,this.scatterChartInteractionService=u,this.analyticsService=r,this.dynamicPopupService=c,this.componentFactoryResolver=s,this.injector=d,this.messageQueueService=p,this.cd=h,this.unsubscribe=new W.b,this._hideSettingPopup=!0,this.wrapperClassName="",this.instanceKey="side-bar",this.addWindow=!0,this.currentRange={from:0,to:0},this.width=460,this.height=230,this.showBlockMessagePopup=!1,this.shouldHide=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.setScatterY(),Object(Oe.a)(this.translateService.get("COMMON.NO_DATA"),this.translateService.get("COMMON.FAILED_TO_FETCH_DATA"),this.translateService.get("COMMON.POPUP_BLOCK_MESSAGE")).subscribe((function(n){e.i18nText={NO_DATA:n[0],FAILED_TO_FETCH_DATA:n[1],POPUP_BLOCK_MESSAGE:n[2]}})),this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(z.a)(this.unsubscribe),Object(K.a)((function(e){return e.hasValue(p.b.APPLICATION)}))).subscribe((function(n){e.scatterChartDataService.stopLoad(),e.scatterChartMode=n.isRealTimeMode()?Te.a.MODE.REALTIME:Te.a.MODE.STATIC,e.application=n.getPathValue(p.b.APPLICATION).getKeyStr(),e.selectedAgent="",e.currentRange.from=e.fromX=n.getStartTimeToNumber(),e.currentRange.to=e.toX=n.getEndTimeToNumber(),e.cd.detectChanges()})),this.scatterChartDataService.outScatterData$.pipe(Object(z.a)(this.unsubscribe)).subscribe((function(n){n.complete||e.scatterChartDataService.loadData(e.selectedApplication.split("^")[0],e.fromX,n.resultFrom-1,e.getGroupUnitX(),e.getGroupUnitY(),!1),e.scatterChartInteractionService.addChartData(e.instanceKey,n),e.cd.detectChanges()})),this.scatterChartDataService.outRealTimeScatterData$.pipe(Object(z.a)(this.unsubscribe)).subscribe((function(n){n.reset?(e.fromX=n.currentServerTime-e.webAppSettingDataService.getSystemDefaultPeriod().getMiliSeconds(),e.toX=n.currentServerTime,e.scatterChartInteractionService.reset(e.instanceKey,e.selectedApplication,e.selectedAgent,e.fromX,e.toX,e.scatterChartMode),Object(ke.a)(1).pipe(Object(X.a)(1e3)).subscribe((function(n){e.getScatterData()}))):e.scatterChartInteractionService.addChartData(e.instanceKey,n),e.cd.detectChanges()})),this.scatterChartDataService.outScatterErrorData$.pipe(Object(z.a)(this.unsubscribe)).subscribe((function(n){e.scatterChartInteractionService.setError(n),e.cd.detectChanges()})),this.scatterChartDataService.outRealTimeScatterErrorData$.pipe(Object(z.a)(this.unsubscribe)).subscribe((function(e){})),this.connectStore(),this.addEventListener()}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"addEventListener",value:function(){var e=this,n=Object(H.a)(document,"visibilitychange").pipe(Object(z.a)(this.unsubscribe),Object(K.a)((function(){return e.scatterChartMode===Te.a.MODE.REALTIME})));n.pipe(Object(K.a)((function(){return!document.hidden})),Object(K.a)((function(){return!e.scatterChartDataService.isConnected()}))).subscribe((function(){e.getScatterData()})),n.pipe(Object(K.a)((function(){return document.hidden})),Object(X.a)(1e4),Object(K.a)((function(){return document.hidden}))).subscribe((function(){e.scatterChartDataService.stopLoad()}))}},{key:"setScatterY",value:function(){var e=this.webAppSettingDataService.getScatterY(this.instanceKey),n=e.min,t=e.max;this.fromY=n,this.toY=t}},{key:"connectStore",value:function(){var e=this;this.storeHelperService.getTimezone(this.unsubscribe).subscribe((function(n){e.timezone=n,e.cd.detectChanges()})),this.storeHelperService.getDateFormatArray(this.unsubscribe,4,5).subscribe((function(n){e.dateFormat=n,e.cd.detectChanges()})),this.storeHelperService.getAgentSelection(this.unsubscribe).pipe(Object(K.a)((function(n){return e.selectedAgent!==n}))).subscribe((function(n){e.selectedAgent=n,e.scatterChartInteractionService.changeAgent(e.instanceKey,n),e.cd.detectChanges()})),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).subscribe((function(n){e.selectedTarget=n,e.shouldHide=!(e.selectedTarget.isNode&&e.selectedTarget.isWAS&&!e.selectedTarget.isMerged),e.shouldHide||(e.selectedAgent="",e.selectedApplication=e.selectedTarget.node[0],e.scatterChartInteractionService.reset(e.instanceKey,e.selectedApplication,e.selectedAgent,e.fromX,e.toX,e.scatterChartMode),e.getScatterData()),e.cd.detectChanges()}))}},{key:"getScatterData",value:function(){this.scatterChartDataService.loadData(this.selectedApplication.split("^")[0],this.fromX,this.toX,this.getGroupUnitX(),this.getGroupUnitY()),this.scatterChartMode===Te.a.MODE.REALTIME&&this.scatterChartDataService.loadRealTimeDataV2(this.toX)}},{key:"getGroupUnitX",value:function(){return Math.round((this.toX-this.fromX)/this.width)}},{key:"getGroupUnitY",value:function(){return Math.round((this.toY-this.fromY)/this.height)}},{key:"onApplySetting",value:function(e){this.fromY=e.min,this.toY=e.max,this.scatterChartInteractionService.changeYRange({instanceKey:this.instanceKey,from:e.min,to:e.max}),this.hideSettingPopup=!0,this.webAppSettingDataService.setScatterY(this.instanceKey,{min:e.min,max:e.max})}},{key:"onCancelSetting",value:function(){this.hideSettingPopup=!0}},{key:"onShowSetting",value:function(){this.analyticsService.trackEvent(d.e.CLICK_SCATTER_SETTING),this.hideSettingPopup=!1}},{key:"onDownload",value:function(){this.analyticsService.trackEvent(d.e.DOWNLOAD_SCATTER),this.scatterChartInteractionService.downloadChart(this.instanceKey)}},{key:"onOpenScatterPage",value:function(){this.analyticsService.trackEvent(d.e.GO_TO_FULL_SCREEN_SCATTER),this.scatterChartMode===Te.a.MODE.STATIC?this.urlRouteManagerService.openPage({path:[p.a.SCATTER_FULL_SCREEN_MODE,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime(),this.selectedAgent]}):this.urlRouteManagerService.openPage({path:[p.a.SCATTER_FULL_SCREEN_MODE,p.b.REAL_TIME,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.selectedAgent]})}},{key:"onShowHelp",value:function(e){this.analyticsService.trackEvent(d.e.TOGGLE_HELP_VIEWER,G.a.SCATTER);var n=e.target.getBoundingClientRect(),t=n.left,l=n.top,i=n.width,o=n.height;this.dynamicPopupService.openPopup({data:G.a.SCATTER,coord:{coordX:t+i/2,coordY:l+o/2},component:G.b},{resolver:this.componentFactoryResolver,injector:this.injector})}},{key:"onChangedSelectType",value:function(e){this.analyticsService.trackEvent(d.e.CHANGE_SCATTER_CHART_STATE,"".concat(e.name,": ").concat(e.checked?"on":"off")),this.scatterChartInteractionService.changeViewType(e)}},{key:"onChangeTransactionCount",value:function(e){this.typeCount=e}},{key:"onChangeRangeX",value:function(e){this.currentRange.from=e.from,this.currentRange.to=e.to,this.messageQueueService.sendMessage({to:d.b.REAL_TIME_SCATTER_CHART_X_RANGE,param:e})}},{key:"onSelectArea",value:function(e){this.analyticsService.trackEvent(d.e.OPEN_TRANSACTION_LIST),null==(this.newUrlStateNotificationService.isRealTimeMode()?this.urlRouteManagerService.openPage({path:[p.a.TRANSACTION_LIST,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.webAppSettingDataService.getSystemDefaultPeriod().getValueWithTime(),xe.b.newByNumber(this.currentRange.to).getEndTime()],metaInfo:"".concat(this.selectedApplication,"|").concat(e.x.from,"|").concat(e.x.to,"|").concat(e.y.from,"|").concat(e.y.to,"|").concat(this.selectedAgent,"|").concat(e.type.join(","))}):this.urlRouteManagerService.openPage({path:[p.a.TRANSACTION_LIST,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime()],metaInfo:"".concat(this.selectedApplication,"|").concat(e.x.from,"|").concat(e.x.to,"|").concat(e.y.from,"|").concat(e.y.to,"|").concat(this.selectedAgent,"|").concat(e.type.join(","))}))&&(this.showBlockMessagePopup=!0)}},{key:"onCloseBlockMessage",value:function(){this.showBlockMessagePopup=!1}},{key:"hideSettingPopup",set:function(e){this._hideSettingPopup=e,this.wrapperClassName=e?"":"l-popup-on"},get:function(){return this._hideSettingPopup}}]),e}(),Re=t("TSSN"),Ae=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{position:relative}.l-chart-item[_ngcontent-%COMP%]{margin:15px 0;height:285px;position:relative;border-top:none}.l-chart-item.l-popup-on[_ngcontent-%COMP%]:before{display:block;z-index:490;position:absolute;content:'';width:100%;height:100%;background:#fff;opacity:.8}.l-popup-block-message[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;display:-webkit-box;display:flex;z-index:1000;position:absolute;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.l-popup-block-message[_ngcontent-%COMP%] > .l-button[_ngcontent-%COMP%]{width:80%;cursor:pointer;display:-webkit-box;display:flex;font-size:18px;font-weight:600;-webkit-box-pack:end;justify-content:flex-end;margin:0 10px -22px 0;z-index:1001}.l-popup-block-message[_ngcontent-%COMP%] > .l-message[_ngcontent-%COMP%]{width:80%;height:100px;display:-webkit-box;display:flex;font-weight:600;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;box-shadow:8px 8px 5px -5px rgba(148,148,148,1);background-color:rgba(235,71,71,.3)}"]],data:{}});function Me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","l-popup-block-message"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","l-button"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onCloseBlockMessage()&&l),l}),null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-times-circle"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"div",[["class","l-message"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,n){e(n,3,0,n.component.i18nText.POPUP_BLOCK_MESSAGE)}))}function Ee(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,13,"article",[["class","l-chart-item"]],[[8,"hidden",0]],null,null,null,null)),l["\u0275prd"](512,null,c["\u0275NgClassImpl"],c["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,c.NgClass,[c["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l["\u0275eld"](3,0,null,null,1,"pp-scatter-chart-setting-popup",[],[[8,"hidden",0]],[[null,"outApply"],[null,"outCancel"]],(function(e,n,t){var l=!0,i=e.component;return"outApply"===n&&(l=!1!==i.onApplySetting(t)&&l),"outCancel"===n&&(l=!1!==i.onCancelSetting()&&l),l}),ge.b,ge.a)),l["\u0275did"](4,114688,null,0,fe.a,[],{instanceKey:[0,"instanceKey"],min:[1,"min"],max:[2,"max"]},{outApply:"outApply",outCancel:"outCancel"}),(e()(),l["\u0275eld"](5,0,null,null,2,"pp-scatter-chart-options",[],null,[[null,"outShowSetting"],[null,"outDownload"],[null,"outOpenScatterPage"],[null,"outShowHelp"]],(function(e,n,t){var l=!0,i=e.component;return"outShowSetting"===n&&(l=!1!==i.onShowSetting()&&l),"outDownload"===n&&(l=!1!==i.onDownload()&&l),"outOpenScatterPage"===n&&(l=!1!==i.onOpenScatterPage()&&l),"outShowHelp"===n&&(l=!1!==i.onShowHelp(t)&&l),l}),me.b,me.a)),l["\u0275did"](6,114688,null,0,be.a,[],{instanceKey:[0,"instanceKey"],hiddenOptions:[1,"hiddenOptions"]},{outShowSetting:"outShowSetting",outDownload:"outDownload",outOpenScatterPage:"outOpenScatterPage",outShowHelp:"outShowHelp"}),l["\u0275pod"](7,{setting:0,download:1,open:2,help:3}),(e()(),l["\u0275eld"](8,0,null,null,1,"pp-scatter-chart",[["style","height: 215px"]],null,[[null,"outTransactionCount"],[null,"outSelectArea"],[null,"outChangeRangeX"]],(function(e,n,t){var l=!0,i=e.component;return"outTransactionCount"===n&&(l=!1!==i.onChangeTransactionCount(t)&&l),"outSelectArea"===n&&(l=!1!==i.onSelectArea(t)&&l),"outChangeRangeX"===n&&(l=!1!==i.onChangeRangeX(t)&&l),l}),ve.b,ve.a)),l["\u0275did"](9,770048,null,0,Ce.a,[F.a,Se.a],{instanceKey:[0,"instanceKey"],addWindow:[1,"addWindow"],width:[2,"width"],height:[3,"height"],fromX:[4,"fromX"],toX:[5,"toX"],fromY:[6,"fromY"],toY:[7,"toY"],mode:[8,"mode"],application:[9,"application"],agent:[10,"agent"],i18nText:[11,"i18nText"],timezone:[12,"timezone"],dateFormat:[13,"dateFormat"]},{outTransactionCount:"outTransactionCount",outSelectArea:"outSelectArea",outChangeRangeX:"outChangeRangeX"}),(e()(),l["\u0275eld"](10,0,null,null,1,"pp-scatter-chart-state-view",[],null,[[null,"outChanged"]],(function(e,n,t){var l=!0,i=e.component;return"outChanged"===n&&(l=!1!==i.onChangedSelectType(t)&&l),l}),ye.b,ye.a)),l["\u0275did"](11,638976,null,0,we.a,[],{instanceKey:[0,"instanceKey"],transactionTypeCount:[1,"transactionTypeCount"]},{outChanged:"outChanged"}),(e()(),l["\u0275and"](16777216,null,null,1,null,Me)),l["\u0275did"](13,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,2,0,"l-chart-item",t.wrapperClassName),e(n,4,0,t.instanceKey,t.fromY,t.toY);var l=t.instanceKey,i=e(n,7,0,!1,!1,!1,!1);e(n,6,0,l,i),e(n,9,1,[t.instanceKey,t.addWindow,t.width,t.height,t.fromX,t.toX,t.fromY,t.toY,t.scatterChartMode,t.application,t.selectedAgent,t.i18nText,t.timezone,t.dateFormat]),e(n,11,0,t.instanceKey,t.typeCount),e(n,13,0,t.showBlockMessagePopup)}),(function(e,n){var t=n.component;e(n,0,0,t.shouldHide),e(n,3,0,t.hideSettingPopup)}))}l["\u0275ccf"]("pp-scatter-chart-container",_e,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-scatter-chart-container",[],null,null,null,Ee,Ae)),l["\u0275did"](1,245760,null,0,_e,[$.a,Re.i,U.a,f.a,g.a,Pe.a,Se.a,Z.a,J.a,l.ComponentFactoryResolver,l.Injector,ee.b,l.ChangeDetectorRef],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]);var Ie=t("47/7"),Ne=t("wZXa"),De=t("+ln2"),Le=t("3bEf"),je=t("QtZs"),Ve=t("nEve"),Ue=t("5sje"),Fe=t("jtbc"),We=t("m1aq"),He=function(){function e(n,t,l,i,o,a,u,r,c,s,d,p,h){_classCallCheck(this,e),this.storeHelperService=n,this.translateService=t,this.webAppSettingDataService=l,this.newUrlStateNotificationService=i,this.urlRouteManagerService=o,this.scatterChartDataService=a,this.scatterChartInteractionService=u,this.analyticsService=r,this.dynamicPopupService=c,this.componentFactoryResolver=s,this.injector=d,this.messageQueueService=p,this.cd=h,this.unsubscribe=new W.b,this._hideSettingPopup=!0,this.wrapperClassName="",this.instanceKey="info-per-server",this.addWindow=!1,this.width=460,this.height=230,this.showBlockMessagePopup=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.setScatterY(),Object(Oe.a)(this.translateService.get("COMMON.NO_DATA"),this.translateService.get("COMMON.FAILED_TO_FETCH_DATA"),this.translateService.get("COMMON.POPUP_BLOCK_MESSAGE")).subscribe((function(n){e.i18nText={NO_DATA:n[0],FAILED_TO_FETCH_DATA:n[1],POPUP_BLOCK_MESSAGE:n[2]}})),this.connectStore(),this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(z.a)(this.unsubscribe),Object(K.a)((function(e){return e.hasValue(p.b.APPLICATION)}))).subscribe((function(n){e.scatterChartMode=n.isRealTimeMode()?Te.a.MODE.REALTIME:Te.a.MODE.STATIC,e.application=n.getPathValue(p.b.APPLICATION).getKeyStr(),e.selectedAgent="",e.fromX=n.getStartTimeToNumber(),e.toX=n.getEndTimeToNumber(),e.cd.detectChanges()}))}},{key:"ngAfterViewInit",value:function(){this.storeHelperService.getInfoPerServerState(this.unsubscribe).subscribe((function(e){}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"setScatterY",value:function(){var e=this.webAppSettingDataService.getScatterY(this.instanceKey),n=e.min,t=e.max;this.fromY=n,this.toY=t}},{key:"connectStore",value:function(){var e=this;this.storeHelperService.getTimezone(this.unsubscribe).subscribe((function(n){e.timezone=n,e.cd.detectChanges()})),this.storeHelperService.getDateFormatArray(this.unsubscribe,4,5).subscribe((function(n){e.dateFormat=n,e.cd.detectChanges()})),this.storeHelperService.getAgentSelectionForServerList(this.unsubscribe).pipe(Object(K.a)((function(e){return!!e}))).subscribe((function(n){var t=n.agent;e.selectedAgent=t,e.scatterChartInteractionService.changeAgent(e.instanceKey,t),e.cd.detectChanges()})),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).subscribe((function(n){e.isChangedTarget=!0,e.selectedTarget=n,e.selectedAgent="",e.selectedApplication=e.selectedTarget.node[0],e.scatterChartInteractionService.reset(e.instanceKey,e.selectedApplication,e.selectedAgent,e.fromX,e.toX,e.scatterChartMode),e.scatterChartDataService.getSavedData().pipe(Object(z.a)(e.unsubscribe)).subscribe((function(n){e.scatterChartInteractionService.addChartData(e.instanceKey,n)})),e.cd.detectChanges()}))}},{key:"onApplySetting",value:function(e){this.fromY=e.min,this.toY=e.max,this.scatterChartInteractionService.changeYRange({instanceKey:this.instanceKey,from:e.min,to:e.max}),this.hideSettingPopup=!0,this.webAppSettingDataService.setScatterY(this.instanceKey,{min:e.min,max:e.max})}},{key:"onCancelSetting",value:function(){this.hideSettingPopup=!0}},{key:"onShowSetting",value:function(){this.analyticsService.trackEvent(d.e.CLICK_SCATTER_SETTING),this.hideSettingPopup=!1}},{key:"onDownload",value:function(){this.analyticsService.trackEvent(d.e.DOWNLOAD_SCATTER),this.scatterChartInteractionService.downloadChart(this.instanceKey)}},{key:"onOpenScatterPage",value:function(){this.analyticsService.trackEvent(d.e.GO_TO_FULL_SCREEN_SCATTER),this.urlRouteManagerService.openPage({path:[p.a.SCATTER_FULL_SCREEN_MODE,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime(),this.selectedAgent]})}},{key:"onShowHelp",value:function(e){this.analyticsService.trackEvent(d.e.TOGGLE_HELP_VIEWER,G.a.SCATTER);var n=e.target.getBoundingClientRect(),t=n.left,l=n.top,i=n.width,o=n.height;this.dynamicPopupService.openPopup({data:G.a.SCATTER,coord:{coordX:t+i/2,coordY:l+o/2},component:G.b},{resolver:this.componentFactoryResolver,injector:this.injector})}},{key:"onChangedSelectType",value:function(e){this.analyticsService.trackEvent(d.e.CHANGE_SCATTER_CHART_STATE,"".concat(e.name,": ").concat(e.checked?"on":"off")),this.scatterChartInteractionService.changeViewType(e)}},{key:"onChangeTransactionCount",value:function(e){this.typeCount=e}},{key:"onChangeRangeX",value:function(e){this.messageQueueService.sendMessage({to:d.b.REAL_TIME_SCATTER_CHART_X_RANGE,param:e})}},{key:"onSelectArea",value:function(e){this.analyticsService.trackEvent(d.e.OPEN_TRANSACTION_LIST),null==this.urlRouteManagerService.openPage({path:[p.a.TRANSACTION_LIST,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime()],metaInfo:"".concat(this.selectedApplication,"|").concat(e.x.from,"|").concat(e.x.to,"|").concat(e.y.from,"|").concat(e.y.to,"|").concat(this.selectedAgent,"|").concat(e.type.join(","))})&&(this.showBlockMessagePopup=!0)}},{key:"onCloseBlockMessage",value:function(){this.showBlockMessagePopup=!1}},{key:"hideSettingPopup",set:function(e){this._hideSettingPopup=e,this.wrapperClassName=e?"":"l-popup-on"},get:function(){return this._hideSettingPopup}}]),e}(),ze=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{position:relative}.l-chart-item[_ngcontent-%COMP%]{margin:15px 0;height:285px;position:relative;border-top:none}.l-chart-item.l-popup-on[_ngcontent-%COMP%]:before{display:block;z-index:490;position:absolute;content:'';width:100%;height:100%;background:#fff;opacity:.8}.l-popup-block-message[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;display:-webkit-box;display:flex;z-index:1000;position:absolute;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.l-popup-block-message[_ngcontent-%COMP%] > .l-button[_ngcontent-%COMP%]{width:80%;cursor:pointer;display:-webkit-box;display:flex;font-size:18px;font-weight:600;-webkit-box-pack:end;justify-content:flex-end;margin:0 10px -22px 0;z-index:1001}.l-popup-block-message[_ngcontent-%COMP%] > .l-message[_ngcontent-%COMP%]{width:80%;height:100px;display:-webkit-box;display:flex;font-weight:600;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;box-shadow:8px 8px 5px -5px rgba(148,148,148,1);background-color:rgba(235,71,71,.3)}"]],data:{}});function Ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","l-popup-block-message"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"div",[["class","l-button"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onCloseBlockMessage()&&l),l}),null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fas fa-times-circle"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"div",[["class","l-message"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,n){e(n,3,0,n.component.i18nText.POPUP_BLOCK_MESSAGE)}))}function Be(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,13,"article",[["class","l-chart-item"]],null,null,null,null,null)),l["\u0275prd"](512,null,c["\u0275NgClassImpl"],c["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,c.NgClass,[c["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l["\u0275eld"](3,0,null,null,1,"pp-scatter-chart-setting-popup",[],[[8,"hidden",0]],[[null,"outApply"],[null,"outCancel"]],(function(e,n,t){var l=!0,i=e.component;return"outApply"===n&&(l=!1!==i.onApplySetting(t)&&l),"outCancel"===n&&(l=!1!==i.onCancelSetting()&&l),l}),ge.b,ge.a)),l["\u0275did"](4,114688,null,0,fe.a,[],{instanceKey:[0,"instanceKey"],min:[1,"min"],max:[2,"max"]},{outApply:"outApply",outCancel:"outCancel"}),(e()(),l["\u0275eld"](5,0,null,null,2,"pp-scatter-chart-options",[],null,[[null,"outShowSetting"],[null,"outDownload"],[null,"outOpenScatterPage"],[null,"outShowHelp"]],(function(e,n,t){var l=!0,i=e.component;return"outShowSetting"===n&&(l=!1!==i.onShowSetting()&&l),"outDownload"===n&&(l=!1!==i.onDownload()&&l),"outOpenScatterPage"===n&&(l=!1!==i.onOpenScatterPage()&&l),"outShowHelp"===n&&(l=!1!==i.onShowHelp(t)&&l),l}),me.b,me.a)),l["\u0275did"](6,114688,null,0,be.a,[],{instanceKey:[0,"instanceKey"],hiddenOptions:[1,"hiddenOptions"]},{outShowSetting:"outShowSetting",outDownload:"outDownload",outOpenScatterPage:"outOpenScatterPage",outShowHelp:"outShowHelp"}),l["\u0275pod"](7,{setting:0,download:1,open:2,help:3}),(e()(),l["\u0275eld"](8,0,null,null,1,"pp-scatter-chart",[["style","height: 215px"]],null,[[null,"outTransactionCount"],[null,"outSelectArea"],[null,"outChangeRangeX"]],(function(e,n,t){var l=!0,i=e.component;return"outTransactionCount"===n&&(l=!1!==i.onChangeTransactionCount(t)&&l),"outSelectArea"===n&&(l=!1!==i.onSelectArea(t)&&l),"outChangeRangeX"===n&&(l=!1!==i.onChangeRangeX(t)&&l),l}),ve.b,ve.a)),l["\u0275did"](9,770048,null,0,Ce.a,[F.a,Se.a],{instanceKey:[0,"instanceKey"],addWindow:[1,"addWindow"],width:[2,"width"],height:[3,"height"],fromX:[4,"fromX"],toX:[5,"toX"],fromY:[6,"fromY"],toY:[7,"toY"],mode:[8,"mode"],application:[9,"application"],agent:[10,"agent"],i18nText:[11,"i18nText"],timezone:[12,"timezone"],dateFormat:[13,"dateFormat"]},{outTransactionCount:"outTransactionCount",outSelectArea:"outSelectArea",outChangeRangeX:"outChangeRangeX"}),(e()(),l["\u0275eld"](10,0,null,null,1,"pp-scatter-chart-state-view",[],null,[[null,"outChanged"]],(function(e,n,t){var l=!0,i=e.component;return"outChanged"===n&&(l=!1!==i.onChangedSelectType(t)&&l),l}),ye.b,ye.a)),l["\u0275did"](11,638976,null,0,we.a,[],{instanceKey:[0,"instanceKey"],transactionTypeCount:[1,"transactionTypeCount"]},{outChanged:"outChanged"}),(e()(),l["\u0275and"](16777216,null,null,1,null,Ke)),l["\u0275did"](13,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,2,0,"l-chart-item",t.wrapperClassName),e(n,4,0,t.instanceKey,t.fromY,t.toY);var l=t.instanceKey,i=e(n,7,0,!1,!1,!1,!0);e(n,6,0,l,i),e(n,9,1,[t.instanceKey,t.addWindow,t.width,t.height,t.fromX,t.toX,t.fromY,t.toY,t.scatterChartMode,t.application,t.selectedAgent,t.i18nText,t.timezone,t.dateFormat]),e(n,11,0,t.instanceKey,t.typeCount),e(n,13,0,t.showBlockMessagePopup)}),(function(e,n){e(n,3,0,n.component.hideSettingPopup)}))}l["\u0275ccf"]("pp-scatter-chart-for-info-per-server-container",He,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-scatter-chart-for-info-per-server-container",[],null,null,null,Be,ze)),l["\u0275did"](1,4440064,null,0,He,[$.a,Re.i,U.a,f.a,g.a,Pe.a,Se.a,Z.a,J.a,l.ComponentFactoryResolver,l.Injector,ee.b,l.ChangeDetectorRef],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]);var Xe=t("eIep"),Ye=t("oIO+"),Ge=t("Ej/u"),qe=function(){function e(n,t,l,i,o,a,u,r,c,s){_classCallCheck(this,e),this.storeHelperService=n,this.newUrlStateNotificationService=t,this.urlRouteManagerService=l,this.agentHistogramDataService=i,this.dynamicPopupService=o,this.analyticsService=a,this.componentFactoryResolver=u,this.messageQueueService=r,this.injector=c,this.cd=s,this.unsubscribe=new W.b,this.listAnimationTrigger="start",this.chartAnimationTrigger="start"}return _createClass(e,[{key:"ngOnInit",value:function(){this.listenToEmitter()}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"listenToEmitter",value:function(){var e=this;this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_DATA_UPDATE).subscribe((function(n){e.serverMapData=n})),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).subscribe((function(n){e.selectedTarget=n,e.selectedAgent="",e.cd.detectChanges()})),this.storeHelperService.getInfoPerServerState(this.unsubscribe).pipe(Object(K.a)((function(){return e.selectedTarget&&e.selectedTarget.isNode})),Object(K.a)((function(n){return!!n||(e.hide(),e.cd.detectChanges(),!1)})),Object(s.a)((function(){return e.serverMapData.getNodeData(e.selectedTarget.node[0])})),Object(Xe.a)((function(n){var t=[e.newUrlStateNotificationService.getStartTimeToNumber(),e.newUrlStateNotificationService.getEndTimeToNumber()];return e.agentHistogramDataService.getData(n.key,n.applicationName,n.serviceTypeCode,e.serverMapData,t).pipe(Object(B.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.agentHistogramData=Object.assign({isWas:n.isWas},t),e.onSelectAgent(e.selectedAgent?e.selectedAgent:e.getFirstAgent())})))}))).subscribe((function(){e.show(),e.cd.detectChanges()}),(function(n){e.dynamicPopupService.openPopup({data:{title:"Error",contents:n},component:Ge.a},{resolver:e.componentFactoryResolver,injector:e.injector}),e.messageQueueService.sendMessage({to:d.b.SERVER_MAP_DISABLE,param:!1}),e.cd.detectChanges()}))}},{key:"hide",value:function(){this.listAnimationTrigger="start",this.chartAnimationTrigger="start"}},{key:"show",value:function(){this.listAnimationTrigger="end",this.chartAnimationTrigger="end"}},{key:"getFirstAgent",value:function(){var e=Object.keys(this.agentHistogramData.serverList).sort()[0];return Object.keys(this.agentHistogramData.serverList[e].instanceList).sort()[0]}},{key:"onSelectAgent",value:function(e){this.analyticsService.trackEvent(d.e.SELECT_AGENT),this.storeHelperService.dispatch(new Ye.a.ChangeAgentForServerList({agent:e,responseSummary:this.agentHistogramData.agentHistogram[e],load:this.agentHistogramData.agentTimeSeriesHistogram[e]})),this.selectedAgent=e}},{key:"onOpenInspector",value:function(e){this.analyticsService.trackEvent(d.e.OPEN_INSPECTOR_WITH_AGENT),this.urlRouteManagerService.openInspectorPage(!1,e)}}]),e}(),Qe=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{z-index:9}.l-sidemenu2[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:477px;border-left:1px solid #e5e8f0;background:#fff;height:100%;overflow-x:hidden;overflow-y:hidden}.l-title-group2[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;color:#666;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding:0 25px;background:0 0;border:none;height:50px}.l-selected-agent[_ngcontent-%COMP%]{color:#666;font-size:13px;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.l-selected-agent[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:11px;font-weight:600;display:inline-block;background:var(--primary-color);margin:0 12px 0 0;padding:6px 11px;line-height:1em;position:relative}.l-selected-agent[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:'';position:absolute;width:0;height:0;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:3px solid var(--primary-color);right:-3px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.l-contents-group[_ngcontent-%COMP%]{height:calc(100vh - 50px);padding:51px 0 16px;overflow-y:auto;overflow-x:hidden}.l-chart-group-list[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;height:calc(100vh - 150px)}.l-sidemenu3[_ngcontent-%COMP%]{top:0;left:0;width:348px;background:#f8f9fb;border:none;border-left:1px solid #e5e8f0;position:absolute;height:100%;overflow-y:hidden;overflow-x:hidden}.l-title-group3[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:center;align-items:center;height:64px;padding:0 25px;margin-bottom:37px;position:relative}.l-title-group3[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:14px;width:30px;height:30px;border-radius:50%;background:var(--primary-color);color:#fff;-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin:0 7px 0 0}.l-title-group3[_ngcontent-%COMP%]   .l-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#666}.l-sidemenu3[_ngcontent-%COMP%]   .l-contents-group[_ngcontent-%COMP%]{height:calc(100vh - 150px);padding-top:0}.sidemenu[_ngcontent-%COMP%]{top:0;left:-477px}.title-group2[_ngcontent-%COMP%]{background-color:#f9fafc;border-bottom:1px solid #eaeef4}hr[_ngcontent-%COMP%]{height:1px;border-top:1px solid #eaeef4;margin:5px 0}"]],data:{animation:[{type:7,name:"listAnimationTrigger",definitions:[{type:0,name:"start",styles:{type:6,styles:{left:"0px"},offset:null},options:void 0},{type:0,name:"end",styles:{type:6,styles:{left:"-825px"},offset:null},options:void 0},{type:1,expr:"* => *",animation:[{type:4,styles:null,timings:"0.2s 0s ease-out"}],options:null}],options:{}},{type:7,name:"chartAnimationTrigger",definitions:[{type:0,name:"start",styles:{type:6,styles:{left:"0px"},offset:null},options:void 0},{type:0,name:"end",styles:{type:6,styles:{left:"-477px"},offset:null},options:void 0},{type:1,expr:"* => *",animation:[{type:4,styles:null,timings:"0.2s 0s ease-out"}],options:null}],options:{}}]}});function $e(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"pp-server-list-container",[],null,[[null,"outSelectAgent"],[null,"outOpenInspector"]],(function(e,n,t){var l=!0,i=e.component;return"outSelectAgent"===n&&(l=!1!==i.onSelectAgent(t)&&l),"outOpenInspector"===n&&(l=!1!==i.onOpenInspector(t)&&l),l}),Fe.b,Fe.a)),l["\u0275did"](2,114688,null,0,We.a,[U.a],{data:[0,"data"],selectedAgent:[1,"selectedAgent"]},{outSelectAgent:"outSelectAgent",outOpenInspector:"outOpenInspector"})],(function(e,n){var t=n.component;e(n,2,0,t.agentHistogramData,t.selectedAgent)}),null)}function Ze(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","l-sidemenu2"]],[[24,"@chartAnimationTrigger",0]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","l-title-group2"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","l-selected-agent"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Selected Agent"])),(e()(),l["\u0275eld"](5,0,null,null,1,"span",[],[[1,"title",0]],null,null,null,null)),(e()(),l["\u0275ted"](6,null,["",""])),(e()(),l["\u0275eld"](7,0,null,null,9,"div",[["class","l-contents-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,8,"div",[["class","l-chart-group-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"pp-scatter-chart-for-info-per-server-container",[],[[8,"hidden",0]],null,null,Be,ze)),l["\u0275did"](10,4440064,null,0,He,[$.a,Re.i,U.a,f.a,g.a,Pe.a,Se.a,Z.a,J.a,l.ComponentFactoryResolver,l.Injector,ee.b,l.ChangeDetectorRef],null,null),(e()(),l["\u0275eld"](11,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,1,"pp-response-summary-chart-container",[],null,null,null,De.b,De.a)),l["\u0275did"](13,245760,null,0,Le.a,[$.a,ee.b,je.a,f.a,Re.i,U.a,Z.a,J.a,l.Injector,l.ComponentFactoryResolver,l.ChangeDetectorRef],{sourceType:[0,"sourceType"]},null),(e()(),l["\u0275eld"](14,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](15,0,null,null,1,"pp-load-chart-container",[],null,null,null,Ve.b,Ve.a)),l["\u0275did"](16,245760,null,0,Ue.a,[l.Injector,Re.i,U.a,Z.a,J.a,l.ComponentFactoryResolver,$.a,ee.b,je.a,f.a,l.ChangeDetectorRef],{sourceType:[0,"sourceType"]},null),(e()(),l["\u0275eld"](17,0,null,null,7,"div",[["class","l-sidemenu3"]],[[24,"@listAnimationTrigger",0]],null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,3,"div",[["class","l-title-group3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,0,"span",[["class","fas fa-file-alt"]],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,1,"span",[["class","l-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Servers List"])),(e()(),l["\u0275eld"](22,0,null,null,2,"div",[["class","l-contents-group"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,$e)),l["\u0275did"](24,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,10,0),e(n,13,0,"INFO_PER_SERVER"),e(n,16,0,"INFO_PER_SERVER"),e(n,24,0,t.agentHistogramData)}),(function(e,n){var t=n.component;e(n,0,0,t.chartAnimationTrigger),e(n,5,0,t.selectedAgent),e(n,6,0,t.selectedAgent),e(n,9,0,!(null!=t.selectedTarget&&t.selectedTarget.isWAS)),e(n,17,0,t.listAnimationTrigger)}))}l["\u0275ccf"]("pp-info-per-server-container",qe,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-info-per-server-container",[],null,null,null,Ze,Qe)),l["\u0275did"](1,245760,null,0,qe,[$.a,f.a,g.a,je.a,J.a,Z.a,l.ComponentFactoryResolver,ee.b,l.Injector,l.ChangeDetectorRef],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]);var Je=t("lreY"),en=t("fqV1"),nn=t("iInd"),tn=t("VRyK"),ln=t("CqXF"),on=function(){function e(n,t,l,i,o){_classCallCheck(this,e),this.router=n,this.messageQueueService=t,this.el=l,this.renderer=i,this.cd=o,this.unsubscribe=new W.b,this.useDisable=!0,this.showLoading=!0,this.showDivider=!1,this.sidebarVisibility="hidden"}return _createClass(e,[{key:"ngOnInit",value:function(){this.addPageLoadingHandler(),this.connectStore()}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"addPageLoadingHandler",value:function(){var e=this;this.router.events.pipe(Object(z.a)(this.unsubscribe),Object(K.a)((function(e){return e instanceof nn.e}))).subscribe((function(){e.showLoading=!0,e.useDisable=!0,e.cd.detectChanges()}))}},{key:"connectStore",value:function(){var e=this;this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_DATA_UPDATE).pipe(Object(s.a)((function(e){return 0===e.getNodeCount()}))).subscribe((function(n){e.renderer.setStyle(e.el.nativeElement,"display",n?"none":"block")})),this.isTargetMerged$=Object(tn.a)(this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT_BY_LIST).pipe(Object(ln.a)(!1)),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_TARGET_SELECT).pipe(Object(B.a)((function(n){var t=n.isNode,l=n.isWAS,i=n.isMerged;e.showLoading=!1,e.useDisable=!1,e.showDivider=t&&l&&!i,e.sidebarVisibility="visible"})),Object(s.a)((function(e){return e.isMerged}))))}}]),e}(),an=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{position:relative;width:477px}.l-sidemenu-wrap[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column nowrap;height:100%;overflow-x:hidden}.l-sidemenu[_ngcontent-%COMP%]{width:100%;height:100%;z-index:10;border-left:1px solid #e5e8f0;background-color:#fff}.l-title-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;color:#666;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding:0 12px;background:#f9fafc;height:50px;border-bottom:1px solid #e5e8f0}.l-contents-group[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 99px)}.l-chart-group-list[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;overflow-y:auto;overflow-x:hidden;height:calc(100vh - 150px)}hr[_ngcontent-%COMP%]{height:1px;border-top:1px solid #eaeef4;margin:5px 0}"]],data:{}});function un(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}function rn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-film-for-disable",[],null,null,null,re.b,re.a)),l["\u0275did"](1,114688,null,0,ce.a,[l.ElementRef,l.Renderer2],{zIndex:[0,"zIndex"],marginWidth:[1,"marginWidth"]},null)],(function(e,n){e(n,1,0,100,0)}),null)}function cn(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,23,"section",[["class","l-sidemenu-wrap font-opensans"]],[[4,"visibility",null]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,20,"div",[["class","l-sidemenu"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","l-title-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"pp-side-bar-title-container",[],[[2,"flex-container",null],[2,"flex-row",null]],null,null,se.b,se.a)),l["\u0275did"](4,245760,null,0,de.a,[$.a,U.a,Z.a,ee.b,l.ChangeDetectorRef],null,null),(e()(),l["\u0275eld"](5,0,null,null,16,"div",[["class","l-contents-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"pp-server-status-container",[],null,null,null,pe.b,pe.a)),l["\u0275did"](7,245760,null,0,he.a,[$.a,f.a,g.a,Z.a,l.ChangeDetectorRef,ee.b],null,null),(e()(),l["\u0275eld"](8,0,null,null,13,"div",[["class","l-chart-group-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"pp-scatter-chart-container",[],null,null,null,Ee,Ae)),l["\u0275did"](10,245760,null,0,_e,[$.a,Re.i,U.a,f.a,g.a,Pe.a,Se.a,Z.a,J.a,l.ComponentFactoryResolver,l.Injector,ee.b,l.ChangeDetectorRef],null,null),(e()(),l["\u0275eld"](11,0,null,null,1,"pp-target-list-container",[],null,null,null,Ie.b,Ie.a)),l["\u0275did"](12,245760,null,0,Ne.a,[l.Injector,l.ComponentFactoryResolver,Re.i,Z.a,g.a,f.a,J.a,ee.b,l.ChangeDetectorRef],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,un)),l["\u0275did"](14,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](15,0,null,null,6,"div",[],[[8,"hidden",0]],null,null,null,null)),l["\u0275pid"](131072,c.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](17,0,null,null,1,"pp-response-summary-chart-container",[],null,null,null,De.b,De.a)),l["\u0275did"](18,245760,null,0,Le.a,[$.a,ee.b,je.a,f.a,Re.i,U.a,Z.a,J.a,l.Injector,l.ComponentFactoryResolver,l.ChangeDetectorRef],{sourceType:[0,"sourceType"]},null),(e()(),l["\u0275eld"](19,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,1,"pp-load-chart-container",[],null,null,null,Ve.b,Ve.a)),l["\u0275did"](21,245760,null,0,Ue.a,[l.Injector,Re.i,U.a,Z.a,J.a,l.ComponentFactoryResolver,$.a,ee.b,je.a,f.a,l.ChangeDetectorRef],{sourceType:[0,"sourceType"]},null),(e()(),l["\u0275eld"](22,0,null,null,1,"pp-info-per-server-container",[],null,null,null,Ze,Qe)),l["\u0275did"](23,245760,null,0,qe,[$.a,f.a,g.a,je.a,J.a,Z.a,l.ComponentFactoryResolver,ee.b,l.Injector,l.ChangeDetectorRef],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,rn)),l["\u0275did"](25,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](26,0,null,null,1,"pp-loading",[],null,null,null,Je.b,Je.a)),l["\u0275did"](27,114688,null,0,en.a,[l.ElementRef,l.Renderer2],{showLoading:[0,"showLoading"],zIndex:[1,"zIndex"]},null)],(function(e,n){var t=n.component;e(n,4,0),e(n,7,0),e(n,10,0),e(n,12,0),e(n,14,0,t.showDivider),e(n,18,0,"MAIN"),e(n,21,0,"MAIN"),e(n,23,0),e(n,25,0,t.useDisable),e(n,27,0,t.showLoading,101)}),(function(e,n){var t=n.component;e(n,0,0,t.sidebarVisibility),e(n,3,0,l["\u0275nov"](n,4).flexContainerClass,l["\u0275nov"](n,4).flexRowClass),e(n,15,0,l["\u0275unv"](n,15,0,l["\u0275nov"](n,16).transform(t.isTargetMerged$)))}))}l["\u0275ccf"]("pp-side-bar-container",on,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-side-bar-container",[],null,null,null,cn,an)),l["\u0275did"](1,245760,null,0,on,[nn.m,ee.b,l.ElementRef,l.Renderer2,l.ChangeDetectorRef],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]);var sn=t("m1dV"),dn=t("QJdi"),pn=t("7rHv"),hn=t("w1KT"),gn=t("xcNo"),fn=t("rgvr"),mn=t("vHCP"),bn=t("z/t1"),vn=function(){function e(){_classCallCheck(this,e),this.outSelected=new l.EventEmitter,this.hideList=!0}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){e.selectedBidirectional&&(this.prevBidirectional=this.selectedBidirectional=e.selectedBidirectional.currentValue),e.selectedWasOnly&&(this.prevWasOnly=this.selectedWasOnly=e.selectedWasOnly.currentValue),e.selectedInbound&&(this.prevSelectedInbound=this.selectedInbound=e.selectedInbound.currentValue),e.selectedOutbound&&(this.prevSelectedOutbound=this.selectedOutbound=e.selectedOutbound.currentValue)}},{key:"close",value:function(){this.hideList=!0}},{key:"onChangeWasOnly",value:function(){this.selectedWasOnly=!this.selectedWasOnly}},{key:"onChangeBidirectional",value:function(){this.selectedBidirectional=!this.selectedBidirectional}},{key:"onSelectInbound",value:function(e){this.selectedInbound=e}},{key:"onSelectOutbound",value:function(e){this.selectedOutbound=e}},{key:"onApply",value:function(){this.selectedInbound===this.prevSelectedInbound&&this.selectedOutbound===this.prevSelectedOutbound&&this.selectedWasOnly===this.prevWasOnly&&this.selectedBidirectional===this.prevBidirectional||this.outSelected.emit({inbound:this.selectedInbound,outbound:this.selectedOutbound,wasOnly:this.selectedWasOnly,bidirectional:this.selectedBidirectional}),this.close()}},{key:"onCancel",value:function(){this.selectedWasOnly=this.prevWasOnly,this.selectedBidirectional=this.prevBidirectional,this.selectedInbound=this.prevSelectedInbound,this.selectedOutbound=this.prevSelectedOutbound,this.close()}},{key:"toggleList",value:function(){this.hideList=!this.hideList}},{key:"onClose",value:function(){this.onCancel()}},{key:"bidirectionalImgSrc",get:function(){return this.funcImagePath("bidirect_".concat(this.selectedBidirectional?"on":"off"))}}]),e}(),Cn=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;position:relative;width:180px}.fa-sign-in-alt[_ngcontent-%COMP%], .fa-sign-out-alt[_ngcontent-%COMP%]{color:#33b692}button[_ngcontent-%COMP%]{outline:0}.l-dropdown-button[_ngcontent-%COMP%]{width:100%;height:32px;border:1px solid var(--dark-primary-color);padding:4px 0;display:-webkit-box;display:flex;font-size:13px;text-align:left;-webkit-box-align:center;align-items:center;background-color:#fff}.l-dropdown-button[_ngcontent-%COMP%]   .fa-angle-down[_ngcontent-%COMP%]{font-size:15px;display:inline-block;margin-left:16px;color:#33b692}.l-bound-text[_ngcontent-%COMP%]{display:inline-block;font-size:14px;margin-left:11px;color:#333}.l-bound-double-text[_ngcontent-%COMP%]{color:#ddd;font-size:8px;text-align:center;font-weight:600}.l-bound-double-text.selected[_ngcontent-%COMP%]{color:var(--primary-color)}.l-dropdown-menu-wrapper[_ngcontent-%COMP%]{position:absolute;top:32px;left:0;z-index:9999;display:-webkit-box;display:flex;flex-wrap:wrap;border:1px solid var(--dark-primary-color);background-color:#fff;width:180px}.l-inbound-list[_ngcontent-%COMP%]{border-right:1px solid #e5e8f0}.l-inbound-list[_ngcontent-%COMP%], .l-outbound-list[_ngcontent-%COMP%]{width:50%;text-align:center}.l-bound-list-item[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:13px;padding:5px 10px;cursor:pointer}.l-bound-title[_ngcontent-%COMP%]{padding:5px 10px;color:#333;background-color:#edf2f8;font-weight:600!important;font-size:12px;border-bottom:1px solid #e5e8f0}.l-bidirectional-title[_ngcontent-%COMP%]{letter-spacing:-.5px}.l-bound-list-item.active[_ngcontent-%COMP%], .l-bound-list-item[_ngcontent-%COMP%]:hover{color:var(--primary-color);background-color:#edf2f8}.l-bidirectional-selector[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color);margin:10px;cursor:pointer}.l-was-only-selector[_ngcontent-%COMP%]{text-align:center;color:#ddd;margin:12px 10px 10px;font-size:20px;cursor:pointer}.l-was-only-selector[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:var(--primary-color)}.l-button-group-wrapper[_ngcontent-%COMP%]{width:100%;border-top:1px solid #e5e8f0;padding:2px;text-align:right}.l-apply-button[_ngcontent-%COMP%]{font-size:12px!important;background-color:var(--primary-color);margin-left:2px;color:#fff}.l-cancel-button[_ngcontent-%COMP%]{font-size:12px!important}"]],data:{}});function Sn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"dd",[["class","l-bound-list-item"]],[[2,"active",null]],[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onSelectInbound(e.context.$implicit)&&l),l}),null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,(function(e,n){e(n,0,0,n.component.selectedInbound===n.context.$implicit),e(n,1,0,n.context.$implicit)}))}function yn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"dd",[["class","l-bound-list-item"]],[[2,"active",null]],[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onSelectOutbound(e.context.$implicit)&&l),l}),null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,(function(e,n){e(n,0,0,n.component.selectedOutbound===n.context.$implicit),e(n,1,0,n.context.$implicit)}))}function wn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,42,"div",[["class","l-wrapper"]],null,[[null,"clickOutside"]],(function(e,n,t){var l=!0,i=e.component;return"clickOutside"===n&&(l=!1!==i.onClose()&&l),l}),null,null)),l["\u0275did"](1,737280,null,0,u.ClickOutsideDirective,[l.ElementRef,l.NgZone,l.PLATFORM_ID],null,{clickOutside:"clickOutside"}),(e()(),l["\u0275eld"](2,0,null,null,14,"button",[["class","l-dropdown-button"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.toggleList()&&l),l}),null,null)),(e()(),l["\u0275eld"](3,0,null,null,3,"span",[["class","l-bound-text l-bound-double-text"]],[[2,"selected",null]],null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["WAS"])),(e()(),l["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["ONLY"])),(e()(),l["\u0275eld"](7,0,null,null,1,"span",[["class","l-bound-text"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,0,"img",[["height","18px"],["width","18px"]],[[8,"src",4]],null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,7,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,2,"span",[["class","l-bound-text"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,0,"span",[["class","fas fa-sign-in-alt"]],null,null,null,null,null)),(e()(),l["\u0275ted"](12,null,[" ",""])),(e()(),l["\u0275eld"](13,0,null,null,2,"span",[["class","l-bound-text"]],null,null,null,null,null)),(e()(),l["\u0275eld"](14,0,null,null,0,"span",[["class","fas fa-sign-out-alt"]],null,null,null,null,null)),(e()(),l["\u0275ted"](15,null,[" ",""])),(e()(),l["\u0275eld"](16,0,null,null,0,"span",[["class","fas fa-angle-down"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,25,"div",[["class","l-dropdown-menu-wrapper"]],[[8,"hidden",0]],null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,4,"dl",[["class","l-inbound-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,1,"dt",[["class","l-bound-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Inbound"])),(e()(),l["\u0275and"](16777216,null,null,1,null,Sn)),l["\u0275did"](22,278528,null,0,c.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](23,0,null,null,4,"dl",[["class","l-outbound-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](24,0,null,null,1,"dt",[["class","l-bound-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Outbound"])),(e()(),l["\u0275and"](16777216,null,null,1,null,yn)),l["\u0275did"](27,278528,null,0,c.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](28,0,null,null,4,"dl",[["class","l-inbound-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](29,0,null,null,1,"dt",[["class","l-bound-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["WAS ONLY"])),(e()(),l["\u0275eld"](31,0,null,null,1,"dd",[["class","l-was-only-selector"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onChangeWasOnly()&&l),l}),null,null)),(e()(),l["\u0275eld"](32,0,null,null,0,"i",[["class","fas fa-check-square"]],[[2,"selected",null]],null,null,null,null)),(e()(),l["\u0275eld"](33,0,null,null,4,"dl",[["class","l-outbound-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](34,0,null,null,1,"dt",[["class","l-bound-title l-bidirectional-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Bidirectional"])),(e()(),l["\u0275eld"](36,0,null,null,1,"dd",[["class","l-bidirectional-selector"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onChangeBidirectional()&&l),l}),null,null)),(e()(),l["\u0275eld"](37,0,null,null,0,"img",[["height","22px"],["width","22px"]],[[8,"src",4]],null,null,null,null)),(e()(),l["\u0275eld"](38,0,null,null,4,"div",[["class","l-button-group-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](39,0,null,null,1,"button",[["class","btn l-cancel-button"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onCancel()&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Cancel"])),(e()(),l["\u0275eld"](41,0,null,null,1,"button",[["class","btn l-apply-button"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onApply()&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,["Apply"]))],(function(e,n){var t=n.component;e(n,1,0),e(n,22,0,t.inboundList),e(n,27,0,t.outboundList)}),(function(e,n){var t=n.component;e(n,3,0,t.selectedWasOnly),e(n,8,0,t.bidirectionalImgSrc),e(n,12,0,t.selectedInbound),e(n,15,0,t.selectedOutbound),e(n,17,0,t.hideList),e(n,32,0,t.selectedWasOnly),e(n,37,0,t.bidirectionalImgSrc)}))}l["\u0275ccf"]("pp-server-map-options",vn,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-server-map-options",[],null,null,null,wn,Cn)),l["\u0275did"](1,638976,null,0,vn,[],null,null)],(function(e,n){e(n,1,0)}),null)}),{funcImagePath:"funcImagePath",selectedWasOnly:"selectedWasOnly",selectedBidirectional:"selectedBidirectional",selectedInbound:"selectedInbound",selectedOutbound:"selectedOutbound",inboundList:"inboundList",outboundList:"outboundList"},{outSelected:"outSelected"},[]);var On=function(){function e(n,t,l,i,o){_classCallCheck(this,e),this.cd=n,this.webAppSettingDataService=t,this.newUrlStateNotificationService=l,this.urlRouteManagerService=i,this.analyticsService=o,this.unsubscribe=new W.b}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.funcImagePath=this.webAppSettingDataService.getImagePathMakeFunc(),this.inboundList=this.webAppSettingDataService.getInboundList(),this.outboundList=this.webAppSettingDataService.getOutboundList(),this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(z.a)(this.unsubscribe),Object(B.a)((function(n){e.hiddenComponent=!n.hasValue(p.b.APPLICATION)})),Object(s.a)((function(n){return{inbound:n.hasValue(p.d.INBOUND)?n.getQueryValue(p.d.INBOUND):e.webAppSettingDataService.getUserDefaultInbound(),outbound:n.hasValue(p.d.OUTBOUND)?n.getQueryValue(p.d.OUTBOUND):e.webAppSettingDataService.getUserDefaultOutbound(),bidirectional:!!n.hasValue(p.d.BIDIRECTIONAL)&&n.getQueryValue(p.d.BIDIRECTIONAL),wasOnly:!!n.hasValue(p.d.WAS_ONLY)&&n.getQueryValue(p.d.WAS_ONLY)}}))).subscribe((function(n){var t=n.inbound,l=n.outbound,i=n.bidirectional,o=n.wasOnly;e.selectedInbound=t,e.selectedOutbound=l,e.selectedBidirectional=i,e.selectedWasOnly=o,e.cd.detectChanges()}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"onChangeBound",value:function(e){var n;this.analyticsService.trackEvent(d.e.SET_SERVER_MAP_OPTION,"inbound: ".concat(e.inbound,", outbound: ").concat(e.outbound,", wasOnly: ").concat(e.wasOnly,", bidirectional: ").concat(e.bidirectional));var t=this.newUrlStateNotificationService.isRealTimeMode()?[this.newUrlStateNotificationService.getStartPath(),p.a.REAL_TIME,this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr()]:[this.newUrlStateNotificationService.getStartPath(),this.newUrlStateNotificationService.getPathValue(p.b.APPLICATION).getUrlStr(),this.newUrlStateNotificationService.getPathValue(p.b.PERIOD).getValueWithTime(),this.newUrlStateNotificationService.getPathValue(p.b.END_TIME).getEndTime()];this.urlRouteManagerService.moveOnPage({url:t,queryParam:(n={},_defineProperty(n,p.d.INBOUND,e.inbound),_defineProperty(n,p.d.OUTBOUND,e.outbound),_defineProperty(n,p.d.WAS_ONLY,e.wasOnly),_defineProperty(n,p.d.BIDIRECTIONAL,e.bidirectional),n)})}}]),e}(),kn=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;margin-right:10px}"]],data:{}});function xn(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-server-map-options",[],[[8,"hidden",0]],[[null,"outSelected"]],(function(e,n,t){var l=!0,i=e.component;return"outSelected"===n&&(l=!1!==i.onChangeBound(t)&&l),l}),wn,Cn)),l["\u0275did"](1,638976,null,0,vn,[],{funcImagePath:[0,"funcImagePath"],selectedWasOnly:[1,"selectedWasOnly"],selectedBidirectional:[2,"selectedBidirectional"],selectedInbound:[3,"selectedInbound"],selectedOutbound:[4,"selectedOutbound"],inboundList:[5,"inboundList"],outboundList:[6,"outboundList"]},{outSelected:"outSelected"})],(function(e,n){var t=n.component;e(n,1,0,t.funcImagePath,t.selectedWasOnly,t.selectedBidirectional,t.selectedInbound,t.selectedOutbound,t.inboundList,t.outboundList)}),(function(e,n){e(n,0,0,n.component.hiddenComponent)}))}l["\u0275ccf"]("pp-server-map-options-container",On,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-server-map-options-container",[],null,null,null,xn,kn)),l["\u0275did"](1,245760,null,0,On,[l.ChangeDetectorRef,U.a,f.a,g.a,Z.a],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]);var Pn=t("0fGH"),Tn=t("AMqW"),_n=t("jVku"),Rn=t("UQIx"),An=t("u41I"),Mn=t("itXk"),En=t("wO+i"),In=t("JX91"),Nn=function(){function e(n,t,l,i,o,a){_classCallCheck(this,e),this.newUrlStateNotificationService=n,this.webAppSettingDataService=t,this.analyticsService=l,this.dynamicPopupService=i,this.componentFactoryResolver=o,this.injector=a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.enableRealTime$=Object(Mn.a)(this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(s.a)((function(e){return e.isRealTimeMode()}))),this.webAppSettingDataService.useActiveThreadChart()).pipe(Object(s.a)((function(e){var n=_slicedToArray(e,2),t=n[0],l=n[1];return t&&l}))),this.isAppKeyProvided$=this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(s.a)((function(e){return e.hasValue(p.b.APPLICATION)}))),this.webAppSettingDataService.getVersion().subscribe((function(n){e.analyticsService.trackEvent(d.e.VERSION,n)})),this.isScreenWideEnough$=Object(H.a)(window,"resize").pipe(Object(En.a)("target","innerWidth"),Object(In.a)(window.innerWidth),Object(s.a)((function(e){return e>=1380})))}},{key:"onShowHelp",value:function(e){this.analyticsService.trackEvent(d.e.TOGGLE_HELP_VIEWER,G.a.NAVBAR);var n=e.target.getBoundingClientRect(),t=n.left,l=n.top,i=n.width,o=n.height;this.dynamicPopupService.openPopup({data:G.a.NAVBAR,coord:{coordX:t+i/2,coordY:l+o/2},component:G.b},{resolver:this.componentFactoryResolver,injector:this.injector})}},{key:"onClickSearchIcon",value:function(e){var n=e.getBoundingClientRect(),t=n.left,l=n.top,i={coordX:t+n.width/2,coordY:l+n.height/2};this.dynamicPopupService.openPopup({coord:i,component:h},{resolver:this.componentFactoryResolver,injector:this.injector})}}]),e}(),Dn=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.l-widget-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-flex:1;flex:1;padding:0 15px;height:100%;-webkit-box-align:center;align-items:center;position:relative}.l-main-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;height:calc(100vh - 50px);overflow-y:hidden}.l-main-section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column nowrap;-webkit-box-flex:1;flex:1;--background-color:#edf2f8;background:var(--background-color);position:relative;height:100%;overflow:hidden}.l-main-contents[_ngcontent-%COMP%]{height:100%;position:relative;overflow:hidden}.fa-question-circle[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin-right:15px}button[_ngcontent-%COMP%]{outline:0}.l-concised-search-button[_ngcontent-%COMP%]{position:absolute;right:0;color:#fff;font-size:18px;margin-right:15px}"]],data:{}});function Ln(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"pp-transaction-id-search-container",[],null,null,null,C,m)),l["\u0275did"](2,4308992,null,0,h,[g.a,f.a,l.ElementRef,l.Renderer2],null,null)],(function(e,n){e(n,2,0)}),null)}function jn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"button",[["class","l-concised-search-button fas fa-search"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onClickSearchIcon(t.target)&&l),l}),null,null))],null,null)}function Vn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-real-time-container",[],null,null,null,ue,ne)),l["\u0275did"](1,4440064,null,0,Q,[f.a,g.a,$.a,U.a,Y.a,Z.a,J.a,ee.b,l.ComponentFactoryResolver,l.Injector,l.ChangeDetectorRef],null,null)],(function(e,n){e(n,1,0)}),null)}function Un(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-side-bar-container",[],null,null,null,cn,an)),l["\u0275did"](1,245760,null,0,on,[nn.m,ee.b,l.ElementRef,l.Renderer2,l.ChangeDetectorRef],null,null)],(function(e,n){e(n,1,0)}),null)}function Fn(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-notice-container",[],null,null,null,sn.b,sn.a)),l["\u0275did"](1,114688,null,0,dn.a,[l.ElementRef,l.Renderer2,pn.a],null,null),(e()(),l["\u0275eld"](2,0,null,null,16,"header",[["class","l-header flex-container flex-row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"pp-header-logo",[],null,null,null,hn.b,hn.a)),l["\u0275did"](4,114688,null,0,gn.a,[U.a,Z.a],null,null),(e()(),l["\u0275eld"](5,0,null,null,10,"div",[["class","l-widget-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"pp-application-list-for-header-container",[],null,null,null,fn.b,fn.a)),l["\u0275did"](7,4440064,null,0,mn.a,[l.ChangeDetectorRef,$.a,U.a,bn.a,f.a,g.a,Re.i,Z.a,l.Renderer2],null,null),(e()(),l["\u0275eld"](8,0,null,null,1,"pp-server-map-options-container",[],null,null,null,xn,kn)),l["\u0275did"](9,245760,null,0,On,[l.ChangeDetectorRef,U.a,f.a,g.a,Z.a],null,null),(e()(),l["\u0275eld"](10,0,null,null,1,"pp-period-selector-container",[],null,null,null,Pn.b,Pn.a)),l["\u0275did"](11,245760,null,0,Tn.a,[U.a,$.a,f.a,g.a,Re.i,_n.a,Z.a,l.ChangeDetectorRef],null,null),(e()(),l["\u0275and"](16777216,null,null,2,null,Ln)),l["\u0275did"](13,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l["\u0275pid"](131072,c.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](0,[["searchIcon",2]],null,0,null,jn)),(e()(),l["\u0275eld"](16,0,null,null,0,"button",[["class","fa fa-question-circle"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onShowHelp(t)&&l),l}),null,null)),(e()(),l["\u0275eld"](17,0,null,null,1,"pp-configuration-icon-container",[],null,null,null,Rn.b,Rn.a)),l["\u0275did"](18,114688,null,0,An.a,[J.a,Z.a,l.ComponentFactoryResolver,l.Injector],null,null),(e()(),l["\u0275eld"](19,0,null,null,10,"div",[["class","l-main-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](20,0,null,null,6,"section",[["class","l-main-section"]],null,null,null,null,null)),(e()(),l["\u0275eld"](21,0,null,null,2,"article",[["class","l-main-contents"]],null,null,null,null,null)),(e()(),l["\u0275eld"](22,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l["\u0275did"](23,212992,null,0,nn.r,[nn.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null),(e()(),l["\u0275and"](16777216,null,null,2,null,Vn)),l["\u0275did"](25,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,c.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](16777216,null,null,2,null,Un)),l["\u0275did"](28,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,c.AsyncPipe,[l.ChangeDetectorRef])],(function(e,n){var t=n.component;e(n,1,0),e(n,4,0),e(n,7,0),e(n,9,0),e(n,11,0),e(n,13,0,l["\u0275unv"](n,13,0,l["\u0275nov"](n,14).transform(t.isScreenWideEnough$)),l["\u0275nov"](n,15)),e(n,18,0),e(n,23,0),e(n,25,0,l["\u0275unv"](n,25,0,l["\u0275nov"](n,26).transform(t.enableRealTime$))),e(n,28,0,l["\u0275unv"](n,28,0,l["\u0275nov"](n,29).transform(t.isAppKeyProvided$)))}),null)}var Wn=l["\u0275ccf"]("pp-main-page",Nn,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-main-page",[],null,null,null,Fn,Dn)),l["\u0275did"](1,114688,null,0,Nn,[f.a,U.a,Z.a,J.a,l.ComponentFactoryResolver,l.Injector],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]),Hn=t("K2d9"),zn=t("o06k"),Kn=t("Rb2K"),Bn=t("Chx4"),Xn=t("8PdE"),Yn=t("YRXC"),Gn=t("0lxK"),qn=t("DD/R"),Qn=t("Q7fR"),$n=t("lxp2"),Zn=t("9QVn"),Jn=t("Z3Kl"),et=function(){function e(n,t,l,i,o,a,u,r,c,s,d,p,h){_classCallCheck(this,e),this.router=n,this.injector=t,this.componentFactoryResolver=l,this.translateService=i,this.urlRouteManagerService=o,this.newUrlStateNotificationService=a,this.serverMapDataService=u,this.webAppSettingDataService=r,this.dynamicPopupService=c,this.analyticsService=s,this.cd=d,this.messageQueueService=p,this.type=h,this.unsubscribe=new W.b,this.i18nText={NO_AGENTS:""},this.showLoading=!0,this.useDisable=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.funcServerMapImagePath=this.webAppSettingDataService.getServerMapIconPathMakeFunc(),this.addPageLoadingHandler(),this.getI18NText(),this.messageQueueService.receiveMessage(this.unsubscribe,d.b.SERVER_MAP_DISABLE).subscribe((function(n){e.useDisable=n,e.cd.detectChanges()})),this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(z.a)(this.unsubscribe),Object(s.a)((function(n){if(n.isRealTimeMode()){var t=n.getUrlServerTimeData(),l=e.webAppSettingDataService.getSystemDefaultPeriod();return e.initVarBeforeDataLoad(xe.b.formatDate(t),l.getValueWithTime(),n.getPathValue(p.b.APPLICATION)),[t-l.getMiliSeconds(),t]}return e.initVarBeforeDataLoad(n.getPathValue(p.b.END_TIME).getEndTime(),n.getPathValue(p.b.PERIOD).getValueWithTime(),n.getPathValue(p.b.APPLICATION)),[n.getStartTimeToNumber(),n.getEndTimeToNumber()]})),Object(Xe.a)((function(n){return e.serverMapDataService.getData(n)}))).subscribe((function(n){e.mapData=new qn.c(n.applicationMapData.nodeDataArray,n.applicationMapData.linkDataArray),e.isEmpty=0===e.mapData.getNodeCount(),e.messageQueueService.sendMessage({to:d.b.SERVER_MAP_DATA_UPDATE,param:e.mapData}),e.isEmpty&&(e.showLoading=!1),e.cd.detectChanges()}),(function(n){e.dynamicPopupService.openPopup({data:{title:"Server Error",contents:n},component:Ge.a,onCloseCallback:function(){e.urlRouteManagerService.move({url:[e.newUrlStateNotificationService.getStartPath()],needServerTimeRequest:!1})}},{resolver:e.componentFactoryResolver,injector:e.injector})}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"addPageLoadingHandler",value:function(){var e=this;this.router.events.pipe(Object(z.a)(this.unsubscribe),Object(K.a)((function(e){return e instanceof nn.e}))).subscribe((function(){e.showLoading=!0,e.useDisable=!0,e.cd.detectChanges()}))}},{key:"getI18NText",value:function(){var e=this;this.translateService.get("COMMON.NO_AGENTS").subscribe((function(n){e.i18nText.NO_AGENTS=n}))}},{key:"initVarBeforeDataLoad",value:function(e,n,t){this.endTime=e,this.period=n,this.showLoading=!0,this.useDisable=!0,this.baseApplicationKey=t.getKeyStr()}},{key:"onRenderCompleted",value:function(){this.showLoading=!1,this.useDisable=!1,this.cd.detectChanges()}},{key:"onClickNode",value:function(e){var n;this.analyticsService.trackEvent(d.e.CLICK_NODE),qn.b.isGroupKey(e.key)?(this.analyticsService.trackEvent(d.e.SHOW_GROUPED_NODE_VIEW),n={period:this.period,endTime:this.endTime,isAuthorized:!0,isNode:!0,isLink:!1,isMerged:!0,isWAS:e.isWas,node:e.mergedNodes.map((function(e){return e.key}))},e.mergedSourceNodes&&(n.groupedNode=e.mergedSourceNodes.map((function(e){return e.applicationName})))):n={period:this.period,endTime:this.endTime,isAuthorized:e.isAuthorized,isNode:!0,isLink:!1,isMerged:!1,isWAS:e.isWas,node:[e.key],hasServerList:e.instanceCount>0},this.messageQueueService.sendMessage({to:d.b.SERVER_MAP_TARGET_SELECT,param:n})}},{key:"onClickLink",value:function(e){var n;this.analyticsService.trackEvent(d.e.CLICK_LINK),qn.b.isGroupKey(e.key)?(this.analyticsService.trackEvent(d.e.SHOW_GROUPED_LINK_VIEW),n={period:this.period,endTime:this.endTime,isAuthorized:!0,isNode:!1,isLink:!0,isMerged:!0,isSourceMerge:qn.b.isGroupKey(e.from),isWAS:!1,node:[e.from],link:e.targetInfo.map((function(e){return e.key})),hasServerList:!1}):n={period:this.period,endTime:this.endTime,isAuthorized:this.mapData.getNodeData(e.from).isAuthorized,isNode:!1,isLink:!0,isMerged:!1,isWAS:!1,node:[e.from],link:[e.key],hasServerList:!1},this.messageQueueService.sendMessage({to:d.b.SERVER_MAP_TARGET_SELECT,param:n})}},{key:"onContextClickBackground",value:function(e){this.dynamicPopupService.openPopup({data:this.mapData,coord:e,component:Jn.a},{resolver:this.componentFactoryResolver,injector:this.injector})}},{key:"onContextClickNode",value:function(e){var n=e.key,t=e.coord,l=this.mapData.getNodeData(n);l.isWas&&this.dynamicPopupService.openPopup({data:l,coord:t,component:Zn.a},{resolver:this.componentFactoryResolver,injector:this.injector})}},{key:"onContextClickLink",value:function(e){var n=e.key,t=e.coord;this.dynamicPopupService.openPopup({data:this.mapData.getLinkData(n),coord:t,component:$n.a},{resolver:this.componentFactoryResolver,injector:this.injector})}}]),e}(),nt=t("hh58"),tt=l["\u0275crt"]({encapsulation:0,styles:[[".l-popup-section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;z-index:10;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.l-popup-section[_ngcontent-%COMP%]:before{content:'';display:block;height:100%;width:100%;background:#000;opacity:.6;position:absolute;left:0;top:0}.l-popup-section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{width:90%;min-width:500px;max-width:1000px;box-shadow:1 1 10px 0 rgba(0,0,0,.75);position:static;background:#fff;border:1px solid #e5e8f0;text-align:left;z-index:10}.l-contents-group[_ngcontent-%COMP%]{background:#f6f8fb;padding:17px 18px;overflow-y:auto}.l-sql-list[_ngcontent-%COMP%]{margin:0}.l-sql-list[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#333;margin:0 0 12px}.l-sql-list[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{border:1px solid #cfd7e1;background:#fff;padding:28px;font-size:13px;color:#999;line-height:2em;position:relative}"]],data:{}});function lt(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"pp-server-map",[],null,[[null,"outContextClickBackground"],[null,"outClickNode"],[null,"outClickLink"],[null,"outContextClickNode"],[null,"outContextClickLink"],[null,"outRenderCompleted"]],(function(e,n,t){var l=!0,i=e.component;return"outContextClickBackground"===n&&(l=!1!==i.onContextClickBackground(t)&&l),"outClickNode"===n&&(l=!1!==i.onClickNode(t)&&l),"outClickLink"===n&&(l=!1!==i.onClickLink(t)&&l),"outContextClickNode"===n&&(l=!1!==i.onContextClickNode(t)&&l),"outContextClickLink"===n&&(l=!1!==i.onContextClickLink(t)&&l),"outRenderCompleted"===n&&(l=!1!==i.onRenderCompleted()&&l),l}),Yn.b,Yn.a)),l["\u0275did"](2,4964352,null,0,Gn.a,[Xn.a,Z.a],{mapData:[0,"mapData"],baseApplicationKey:[1,"baseApplicationKey"],funcServerMapImagePath:[2,"funcServerMapImagePath"],type:[3,"type"]},{outClickNode:"outClickNode",outContextClickNode:"outContextClickNode",outClickLink:"outClickLink",outContextClickLink:"outContextClickLink",outContextClickBackground:"outContextClickBackground",outRenderCompleted:"outRenderCompleted"})],(function(e,n){var t=n.component;e(n,2,0,t.mapData,t.baseApplicationKey,t.funcServerMapImagePath,t.type)}),null)}function it(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,7,"div",[["class","l-popup-section font-opensans"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,6,"article",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,5,"div",[["class","l-contents-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,4,"dl",[["class","l-sql-list"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"dt",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Notice"])),(e()(),l["\u0275eld"](6,0,null,null,1,"dd",[],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,["",""]))],null,(function(e,n){e(n,7,0,n.component.i18nText.NO_AGENTS)}))}function ot(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,lt)),l["\u0275did"](2,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l["\u0275and"](0,[["noAgentGuide",2]],null,0,null,it))],(function(e,n){e(n,2,0,!n.component.isEmpty,l["\u0275nov"](n,3))}),null)}function at(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-film-for-disable",[],null,null,null,re.b,re.a)),l["\u0275did"](1,114688,null,0,ce.a,[l.ElementRef,l.Renderer2],{zIndex:[0,"zIndex"],marginWidth:[1,"marginWidth"]},null)],(function(e,n){e(n,1,0,9,0)}),null)}function ut(e){return l["\u0275vid"](2,[(e()(),l["\u0275and"](16777216,null,null,1,null,ot)),l["\u0275did"](1,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,at)),l["\u0275did"](3,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](4,0,null,null,1,"pp-loading",[],null,null,null,Je.b,Je.a)),l["\u0275did"](5,114688,null,0,en.a,[l.ElementRef,l.Renderer2],{showLoading:[0,"showLoading"],zIndex:[1,"zIndex"]},null)],(function(e,n){var t=n.component;e(n,1,0,t.mapData),e(n,3,0,t.useDisable),e(n,5,0,t.showLoading,11)}),null)}l["\u0275ccf"]("pp-server-map-container",et,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-server-map-container",[],null,null,null,ut,tt)),l["\u0275did"](1,245760,null,0,et,[nn.m,l.Injector,l.ComponentFactoryResolver,Re.i,g.a,f.a,Qn.a,U.a,J.a,Z.a,l.ChangeDetectorRef,ee.b,nt.a],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]);var rt=function(){function e(n,t,l,i){_classCallCheck(this,e),this.dynamicPopupService=n,this.newUrlStateNotificationService=t,this.componentFactoryResolver=l,this.injector=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.showElements$=this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(s.a)((function(e){return e.hasValue(p.b.PERIOD,p.b.END_TIME)})))}},{key:"onShowHelp",value:function(e){var n=e.target.getBoundingClientRect(),t=n.left,l=n.top,i=n.width,o=n.height;this.dynamicPopupService.openPopup({data:G.a.SERVER_MAP,coord:{coordX:t+i/2,coordY:l+o/2},component:G.b},{resolver:this.componentFactoryResolver,injector:this.injector})}}]),e}(),ct=l["\u0275crt"]({encapsulation:0,styles:[[".l-main-contents-top[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;margin:11px 0 0 25px;-webkit-box-align:center;align-items:center;top:0;right:0;z-index:8;padding:0 10px;font-size:13px;-webkit-box-pack:end;justify-content:flex-end;position:absolute}.fas[_ngcontent-%COMP%]{color:#a8acb5;font-size:18px}.l-fixed-period-mover-wrapper[_ngcontent-%COMP%]{margin-right:4px}.l-search-result-viewer-wrapper[_ngcontent-%COMP%]{margin-right:10px}"]],data:{}});function st(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","l-fixed-period-mover-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,1,"pp-fixed-period-mover-container",[],null,null,null,Hn.b,Hn.a)),l["\u0275did"](3,245760,null,0,zn.a,[l.ChangeDetectorRef,f.a,g.a,Z.a,$.a],null,null),(e()(),l["\u0275eld"](4,0,null,null,2,"div",[["class","l-search-result-viewer-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"pp-server-map-search-result-viewer-container",[],null,null,null,Kn.b,Kn.a)),l["\u0275did"](6,114688,null,0,Bn.a,[Re.i,f.a,Xn.a,l.Renderer2,Z.a,l.ChangeDetectorRef],null,null)],(function(e,n){e(n,3,0),e(n,6,0)}),null)}function dt(e){return l["\u0275vid"](2,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","l-main-contents-top font-opensans"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,st)),l["\u0275did"](2,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,c.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275eld"](4,0,null,null,0,"button",[["class","fas fa-question-circle"]],null,[[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onShowHelp(t)&&l),l}),null,null)),(e()(),l["\u0275eld"](5,0,null,null,1,"pp-server-map-container",[],null,null,null,ut,tt)),l["\u0275did"](6,245760,null,0,et,[nn.m,l.Injector,l.ComponentFactoryResolver,Re.i,g.a,f.a,Qn.a,U.a,J.a,Z.a,l.ChangeDetectorRef,ee.b,nt.a],null,null)],(function(e,n){var t=n.component;e(n,2,0,l["\u0275unv"](n,2,0,l["\u0275nov"](n,3).transform(t.showElements$))),e(n,6,0)}),null)}var pt=l["\u0275ccf"]("pp-main-contents-container",rt,(function(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"pp-main-contents-container",[],null,null,null,dt,ct)),l["\u0275did"](1,114688,null,0,rt,[J.a,f.a,l.ComponentFactoryResolver,l.Injector],null,null)],(function(e,n){e(n,1,0)}),null)}),{},{},[]),ht=t("yIm2"),gt=t("o7q+"),ft=t("s7LF"),mt=t("+TFa"),bt=t("7006"),vt=t("d7A3"),Ct=t("IheW"),St=t("uyHx"),yt=t("POq0"),wt=t("cUpR"),Ot=t("Xd0L"),kt=t("QQfA"),xt=t("IP0z"),Pt=t("JjoW"),Tt=t("22Na"),_t=t("IbkX"),Rt=t("M0ag"),At=t("uuw7"),Mt=t("/HVE"),Et=t("hOhj"),It=t("FTGN"),Nt=function e(){_classCallCheck(this,e)},Dt=t("jsEk"),Lt=t("3Dce"),jt=function e(){_classCallCheck(this,e)},Vt=t("MyRj"),Ut=t("lXRe"),Ft=t("xu3O"),Wt=t("by9t"),Ht=t("bGL8"),zt=t("3Pji"),Kt=t("C8VF"),Bt=t("FgOB"),Xt=t("gRh7"),Yt=t("XEjc"),Gt=t("Z7st"),qt=t("sM80"),Qt=t("5gQU"),$t=function e(){_classCallCheck(this,e)},Zt=t("pBi1"),Jt=t("1lvu"),el=t("nZAD"),nl=t("ikCJ"),tl=t("X4gm"),ll=t("xocn"),il=t("VQBl"),ol=t("zMNK"),al=t("HsOI"),ul=t("Wp4o"),rl=t("lFtu"),cl=t("E/VC"),sl=t("zMA2"),dl=t("iSkw"),pl=t("0npI"),hl={showRealTimeButton:!0,enableRealTimeMode:!0},gl={path:p.a.MAIN},fl={path:p.a.MAIN},ml={showRealTimeButton:!0,enableRealTimeMode:!1};p.a.REAL_TIME,p.a.MAIN,p.b.APPLICATION,d.c,p.b.APPLICATION,p.b.REAL_TIME,p.a.MAIN,p.a.REAL_TIME,p.b.APPLICATION,p.b.APPLICATION,pl.a,p.b.PERIOD,pl.a,p.b.END_TIME,dl.a;var bl=t("ezOy"),vl=t("/48X");t.d(n,"MainPageModuleNgFactory",(function(){return Cl}));var Cl=l["\u0275cmf"](i,[],(function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,a.a,S,y.a,w.a,O.a,k.a,x.a,P.a,T.a,_.a,Wn,pt,ht.a,gt.a]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,c.NgLocalization,c.NgLocaleLocalization,[l.LOCALE_ID,[2,c["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,ft["\u0275angular_packages_forms_forms_o"],ft["\u0275angular_packages_forms_forms_o"],[]),l["\u0275mpd"](4608,mt.a,mt.a,[]),l["\u0275mpd"](4608,bt.NguiDatetime,bt.NguiDatetime,[]),l["\u0275mpd"](4608,Xn.a,Xn.a,[]),l["\u0275mpd"](4608,vt.a,vt.a,[f.a,$.a]),l["\u0275mpd"](4608,Qn.a,Qn.a,[Ct.c,U.a,f.a]),l["\u0275mpd"](4608,St.a,St.a,[Ct.c,$.a,U.a,g.a,f.a,J.a,l.ComponentFactoryResolver,l.Injector]),l["\u0275mpd"](4608,yt.c,yt.c,[]),l["\u0275mpd"](4608,wt.e,Ot.c,[[2,Ot.g],[2,Ot.l]]),l["\u0275mpd"](4608,Y.a,Y.a,[F.a]),l["\u0275mpd"](4608,Se.a,Se.a,[]),l["\u0275mpd"](4608,Pe.a,Pe.a,[Ct.c]),l["\u0275mpd"](4608,kt.c,kt.c,[kt.h,kt.d,l.ComponentFactoryResolver,kt.g,kt.e,l.Injector,l.NgZone,c.DOCUMENT,xt.b,[2,c.Location]]),l["\u0275mpd"](5120,kt.i,kt.j,[kt.c]),l["\u0275mpd"](5120,Pt.a,Pt.b,[kt.c]),l["\u0275mpd"](1073742336,c.CommonModule,c.CommonModule,[]),l["\u0275mpd"](1073742336,nn.q,nn.q,[[2,nn.v],[2,nn.m]]),l["\u0275mpd"](1073742336,Tt.ClickOutsideModule,Tt.ClickOutsideModule,[]),l["\u0275mpd"](1073742336,ft["\u0275angular_packages_forms_forms_d"],ft["\u0275angular_packages_forms_forms_d"],[]),l["\u0275mpd"](1073742336,ft.FormsModule,ft.FormsModule,[]),l["\u0275mpd"](1073742336,_t.b,_t.b,[]),l["\u0275mpd"](1073742336,Rt.a,Rt.a,[]),l["\u0275mpd"](1073742336,At.a,At.a,[]),l["\u0275mpd"](1073742336,xt.a,xt.a,[]),l["\u0275mpd"](1073742336,Mt.b,Mt.b,[]),l["\u0275mpd"](1073742336,Et.g,Et.g,[]),l["\u0275mpd"](1073742336,It.a,It.a,[]),l["\u0275mpd"](1073742336,Nt,Nt,[]),l["\u0275mpd"](1073742336,Dt.NguiDatetimePickerModule,Dt.NguiDatetimePickerModule,[]),l["\u0275mpd"](1073742336,Lt.a,Lt.a,[]),l["\u0275mpd"](1073742336,jt,jt,[]),l["\u0275mpd"](1073742336,Vt.a,Vt.a,[]),l["\u0275mpd"](1073742336,Ut.a,Ut.a,[]),l["\u0275mpd"](1073742336,Ft.a,Ft.a,[]),l["\u0275mpd"](1073742336,Wt.a,Wt.a,[]),l["\u0275mpd"](1073742336,Ht.a,Ht.a,[]),l["\u0275mpd"](1073742336,zt.b,zt.b,[]),l["\u0275mpd"](1073742336,Kt.a,Kt.a,[]),l["\u0275mpd"](1073742336,Bt.a,Bt.a,[]),l["\u0275mpd"](1073742336,Xt.a,Xt.a,[]),l["\u0275mpd"](1073742336,Yt.a,Yt.a,[]),l["\u0275mpd"](1073742336,Gt.a,Gt.a,[]),l["\u0275mpd"](1073742336,qt.a,qt.a,[]),l["\u0275mpd"](1073742336,Qt.a,Qt.a,[]),l["\u0275mpd"](1073742336,$t,$t,[]),l["\u0275mpd"](1073742336,Zt.d,Zt.d,[]),l["\u0275mpd"](1073742336,Ot.l,Ot.l,[[2,Ot.d],[2,wt.f]]),l["\u0275mpd"](1073742336,Ot.v,Ot.v,[]),l["\u0275mpd"](1073742336,yt.d,yt.d,[]),l["\u0275mpd"](1073742336,Zt.c,Zt.c,[]),l["\u0275mpd"](1073742336,Jt.a,Jt.a,[]),l["\u0275mpd"](1073742336,el.a,el.a,[]),l["\u0275mpd"](1073742336,nl.a,nl.a,[]),l["\u0275mpd"](1073742336,tl.a,tl.a,[]),l["\u0275mpd"](1073742336,ll.a,ll.a,[]),l["\u0275mpd"](1073742336,il.a,il.a,[]),l["\u0275mpd"](1073742336,ol.e,ol.e,[]),l["\u0275mpd"](1073742336,kt.f,kt.f,[]),l["\u0275mpd"](1073742336,Ot.t,Ot.t,[]),l["\u0275mpd"](1073742336,Ot.r,Ot.r,[]),l["\u0275mpd"](1073742336,al.d,al.d,[]),l["\u0275mpd"](1073742336,Pt.d,Pt.d,[]),l["\u0275mpd"](1073742336,ul.a,ul.a,[]),l["\u0275mpd"](1073742336,rl.a,rl.a,[]),l["\u0275mpd"](1073742336,cl.a,cl.a,[]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](1024,nn.k,(function(){return[[{path:"",component:Nn,children:[{path:"realtime",children:[{path:"",pathMatch:"full",redirectTo:"/main"},{path:":application",resolve:{serverTime:sl.a},data:hl,component:rt}]},{path:":application/realtime",pathMatch:"full",redirectTo:"/main/realtime/:application"},{path:":application",children:[{path:"",pathMatch:"full",data:gl,component:bl.a},{path:":period",children:[{path:"",pathMatch:"full",data:fl,component:bl.a},{path:":endTime",data:ml,component:rt}]}]},{path:"",pathMatch:"full",component:vl.a}]}]]}),[])])}))}}]);